{"expand":"schema,names","startAt":0,"maxResults":100,"total":512,"issues":[{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"206359","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206359","key":"JENKINS-62382","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62382/watchers","watchCount":2,"isWatching":false},"created":"2020-05-21T07:20:23.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-22T04:03:01.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Checkout scm will fail or hang in repositories that\r\n * Contain LFS files\r\n * Are non-public\r\n\r\n \r\n\r\nThe following repository will exhibit the issue when made private: [https://github.com/res0nance/git-lfs-test]\r\n\r\nWith the error:\r\n{code:java}\r\n > git config core.sparsecheckout # timeout=10\r\n > git checkout -f c146a3ca4fb0380e0e336a850a5a695b669cac3d # timeout=10\r\n\r\nGitHub has been notified of this commit’s build result\r\n\r\nhudson.plugins.git.GitException: Command \"git checkout -f c146a3ca4fb0380e0e336a850a5a695b669cac3d\" returned status code 128:\r\nstdout: \r\nstderr: Downloading AutoCAD_LT_2018_English_Win_32_64bit_wi_en-us_Setup_webinstall.exe (378 KB)\r\nError downloading object: AutoCAD_LT_2018_English_Win_32_64bit_wi_en-us_Setup_webinstall.exe (4e7d17e): Smudge error: Error downloading AutoCAD_LT_2018_English_Win_32_64bit_wi_en-us_Setup_webinstall.exe (4e7d17e18251183ddb766620b7e1f04cf9a979184e88ddc0dba8d288c1dc3522): batch response: Bad credentials\r\n\r\nErrors logged to /mnt/data/jenkins/workspace/s0nance_git-lfs-test-priv_master/.git/lfs/logs/20200521T063801.838088036.log\r\nUse `git lfs logs last` to view the log.\r\nerror: external filter 'git-lfs filter-process' failed\r\nfatal: AutoCAD_LT_2018_English_Win_32_64bit_wi_en-us_Setup_webinstall.exe: smudge filter lfs failed\r\n\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2372)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.access$1000(CliGitAPIImpl.java:80)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$9.execute(CliGitAPIImpl.java:2683)\r\nAlso:   hudson.remoting.Channel$CallSiteStackTrace: Remote call to EC2 (common-env) - ForgeCI-Linux-Agent (i-0bb64dada62d9c488)\r\n\t\tat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1788)\r\n\t\tat hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\r\n\t\tat hudson.remoting.Channel.call(Channel.java:998)\r\n\t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.execute(RemoteGitImpl.java:146)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.invoke(RemoteGitImpl.java:132)\r\n\t\tat com.sun.proxy.$Proxy120.execute(Unknown Source)\r\n\t\tat hudson.plugins.git.GitSCM.checkout(GitSCM.java:1217)\r\n\t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:124)\r\n\t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:93)\r\n\t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:80)\r\n\t\tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n\t\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\nCaused: hudson.plugins.git.GitException: Could not checkout c146a3ca4fb0380e0e336a850a5a695b669cac3d\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$9.execute(CliGitAPIImpl.java:2707)\r\n\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:161)\r\n\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:154)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n\tat hudson.remoting.Request$2.run(Request.java:369)\r\n\tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nFinished: FAILURE\r\n{code}\r\n \r\n\r\nThe checkout scm command seems to fail because of the lack of credentials when running the checkout with the smudge filter enabled. [https://github.com/jenkinsci/git-client-plugin/blob/eeec334af0b6447f3db9fb88d55728911a092d73/src/main/java/org/jenkinsci/plugins/gitclient/CliGitAPIImpl.java#L2735]\r\n\r\n \r\n\r\nI confirmed it manually by recompiling the git-client plugin so that it disables the smudge filter unconditionally that this results in checkout completing but the LFS file being in its \"pointer\" state a 131 byte file.\r\n\r\n \r\n\r\nThis is not an issue on a significantly older version git 2.14.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bj5v:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Checkout scm hangs or fails on private LFS repos without GitLFSPull extension","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=raihaan","name":"raihaan","key":"raihaan","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Raihaan Shouhell","active":true,"timeZone":"Etc/GMT-8"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=raihaan","name":"raihaan","key":"raihaan","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Raihaan Shouhell","active":true,"timeZone":"Etc/GMT-8"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.222.3\r\nGit plugin 4.2.1\r\nGit Client 3.0.0\r\nGit cli 2.26.2\r\ngit-lfs/2.10.0 (GitHub; linux amd64; go 1.12.7; git a526ba6b)\r\n","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62382/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"206353","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206353","key":"JENKINS-62377","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62377/watchers","watchCount":1,"isWatching":false},"created":"2020-05-21T01:13:05.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["newbie-friendly"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-21T01:16:08.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"JENKINS-19022 describes the git plugin's flawed retention of build data from all preceding builds.  Users that need to retain many builds from many branches in a single job may run out of memory due to \"BuildData bloat\".\r\n\r\nA [Jenkins wiki page|https://wiki.jenkins.io/display/JENKINS//Remove+Git+Plugin+BuildsByBranch+BuildData] describes the workaround to remove the BuildData bloat.  The contents of that wiki page should be included in the Git plugin documentation rather than being in a wiki page.\r\n\r\nUse the [Jenkins wiki exporter|https://jenkins-wiki-exporter.jenkins.io/] to extract the instructions from the [wiki page|https://wiki.jenkins.io/display/JENKINS//Remove+Git+Plugin+BuildsByBranch+BuildDatacom] and submit a pull request to the [git plugin README|https://github.com/jenkinsci/git-plugin/blob/master/README.adoc] file with that information.\r\n\r\nAfter the pull request has been merged, use the [wiki migration instructions|https://github.com/jenkins-infra/jenkins.io/blob/master/CONTRIBUTING.adoc#moving-documentation-from-jenkins-wiki] to submit a pull request to redirect from the Wiki page to the git plugin documentation section.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bj4j:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Place BuildData wiki docs inside git plugin documentation","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"git plugin 4.2.2","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62377/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"206316","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206316","key":"JENKINS-62349","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62349/watchers","watchCount":2,"isWatching":false},"created":"2020-05-19T09:08:36.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["git","pipeline","plugin"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-21T11:59:48.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21692","id":"21692","name":"pipeline","description":"A generic component for Pipeline issues. Use it when you do not know to which component the issue belongs"}],"customfield_10250":null,"description":"Using multibranch pipeline clones the entire repository on the master instead of just getting the Jenkinsfile with the lighweight method. The lightweight checkout is the default behaviour as far as I know, but it's not working in my case. The clone is repeated when the pipeline starts on a slave machine, of course. Here is my setup:\r\n\r\nBranch Sources / Bitbucket server (connection is fine)\r\n\r\nBehaviours:\r\n\r\nDiscover branches\r\n\r\nAdvanced clone behaviours:\r\n\r\n- Fetch tags: unchecked\r\n- Honor refspec on initial clone: checked\r\n- Shallow clone: checked\r\n- Shallow clone depth: 1\r\n- Path to reference repo to use during clone: empty\r\n- Timeout: empty\r\n\r\nBuild strategies: Skip initial build on first branch indexing\r\n\r\nBuild configuration:\r\n\r\n- Mode: by Jenkinsfile\r\n- Script path: build/jenkins/compile/Jenkinsfile\r\n\r\nPlease find the checkout log in the attachment.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0biwb:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin lightweight checkout copies full repository","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=gpilisi","name":"gpilisi","key":"gpilisi","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Gergely Pilisi","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=gpilisi","name":"gpilisi","key":"gpilisi","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Gergely Pilisi","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.222.3\r\nGit plugin 4.2.2 \r\nPipeline: Multibranch 2.21","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62349/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"206216","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206216","key":"JENKINS-62261","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62261/watchers","watchCount":1,"isWatching":false},"created":"2020-05-13T09:24:31.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-14T01:04:23.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"The URL validation in the the repository browser settings is too strict and it treats e.g *.corp domains as invalid.\r\n\r\nSteps to reproduce:\r\n\r\n# Configure repository browser 'gittiles' for a job\r\n# Enter https://somehost.myorg.corp/foo/bar as URL\r\n# -> \"Invalid URL\"\r\n\r\nThis is due to the way org.apache.commons.validator.routines.UrlValidator treats domain names and the fact that .corp, .home, and .mail domains are [officially declared as \"off limits\"|https://www.theregister.co.uk/2018/02/12/icann_corp_home_mail_gtlds/] to be part of the global DNS system.\r\n\r\nIn the light of arbitrary top-level domains these days it makes no sense anymore to have such strict domain validation.\r\n\r\nAlso, local hostnames should be valid, too. Locally-hosted SCM instances is nothing unusual.\r\n\r\nFor these reasons, UrlValidator.ALLOW_LOCAL_URLS should be used to relax host/domain name validation.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bi9v:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"URL validation in RepositoryBrowser is too strict / *.corp URLs should be valid","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=sratz","name":"sratz","key":"sratz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Sebastian Ratz","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=sratz","name":"sratz","key":"sratz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Sebastian Ratz","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62261/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"206157","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206157","key":"JENKINS-62223","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62223/watchers","watchCount":1,"isWatching":false},"created":"2020-05-08T17:23:21.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["documentation","newbie-friendly"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-08T17:24:39.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"The online reference documentation for the [Jenkins Pipeline checkout step|https://www.jenkins.io/doc/pipeline/steps/workflow-scm-step/] is automatically extracted from released plugin online help pages.\r\n\r\nSeveral of the fields in the GitSCM online documentation include no description.  The following fields are examples of fields that should be described so that readers know how to use them:\r\n\r\n* UserRemoteConfig.credentialsId\r\n* CGit.repoUrl\r\n* GogsGit.repoUrl\r\n* GitSCM.gitTool\r\n* GitSCM.extensions.GitLFSPull\r\n* GitSCM.extensions.SparseCheckoutPaths.sparseCheckPaths.path\r\n\r\nAdd help for those fields by following the same naming convention and file placement elsewhere in the plugin.  The help files are html files placed in the src/resources directory.  See the [references option|https://github.com/jenkinsci/git-plugin/blob/master/src/main/resources/hudson/plugins/git/extensions/impl/CloneOption/help-reference.html] as an example.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bhwr:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Many field descriptions of git plugin pipeline docs are empty","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Git plugin 4.2.2","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62223/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"206115","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206115","key":"JENKINS-62183","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62183/watchers","watchCount":1,"isWatching":false},"created":"2020-05-06T19:25:51.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mikecirioli","name":"mikecirioli","key":"mikecirioli","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"mike cirioli","active":true,"timeZone":"America/New_York"},"updated":"2020-05-18T20:39:02.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/4","description":"This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/reopened.png","name":"Reopened","id":"4","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Add support for allowing users with Jenkins.MANAGE to configure some aspects of git config","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bhoz:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Allow Jenkins.MANAGE to configure global options","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mikecirioli","name":"mikecirioli","key":"mikecirioli","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"mike cirioli","active":true,"timeZone":"America/New_York"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mikecirioli","name":"mikecirioli","key":"mikecirioli","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"mike cirioli","active":true,"timeZone":"America/New_York"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62183/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"206044","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206044","key":"JENKINS-62130","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62130/watchers","watchCount":1,"isWatching":false},"created":"2020-04-30T18:39:54.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"42163","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42163","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"200643","key":"JENKINS-58503","self":"https://issues.jenkins-ci.org/rest/api/2/issue/200643","fields":{"summary":"Symbols for Extensions","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680}}}}],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=kshultz","name":"kshultz","key":"kshultz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=kshultz&avatarId=20187","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=kshultz&avatarId=20187","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=kshultz&avatarId=20187","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=kshultz&avatarId=20187"},"displayName":"Karl Shultz","active":true,"timeZone":"America/New_York"},"updated":"2020-04-30T20:42:19.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"To allow for easier use of Git plugin's traits by other parts of the Jenkins universe (JobDSL, CasC, others), the addition of some [{{@Symbol}}|https://github.com/jenkinsci/structs-plugin/blob/6271388cca252b16cf5ff482036126bad30ee240/annotation/src/main/java/org/jenkinsci/Symbol.java] annotations would be good. most of the extenders of SCMSourceTrait already had {{@Symbol}} annotations, and this ticket is intended to fill in what's left.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bh97:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Add @Symbol annotations to extenders of GitRepositoryBrowser and scm-api:SCMSourceTrait","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=kshultz","name":"kshultz","key":"kshultz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=kshultz&avatarId=20187","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=kshultz&avatarId=20187","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=kshultz&avatarId=20187","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=kshultz&avatarId=20187"},"displayName":"Karl Shultz","active":true,"timeZone":"America/New_York"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=kshultz","name":"kshultz","key":"kshultz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=kshultz&avatarId=20187","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=kshultz&avatarId=20187","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=kshultz&avatarId=20187","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=kshultz&avatarId=20187"},"displayName":"Karl Shultz","active":true,"timeZone":"America/New_York"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62130/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205987","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205987","key":"JENKINS-62081","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62081/watchers","watchCount":1,"isWatching":false},"created":"2020-04-28T15:22:17.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-04-28T17:35:36.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21926","id":"21926","name":"pipeline-multibranch-defaults-plugin","description":"subcomponent"}],"customfield_10250":null,"description":"Hi,\r\n\r\nI'm using multibranch pipeline project and have enabled git behaviour \"Discover tags\".\r\nIn the project view, the tags are not sorted in natural order in the tags tab (see attachment), so it's difficult to find the latest tag.\r\n\r\nBest regards\r\n\r\n !tag sort.png|thumbnail! ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bgx7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git tags are not sorted in natural order in multibranch pipeline view","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mboillod","name":"mboillod","key":"mboillod","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"manuel boillod","active":true,"timeZone":"Europe/Paris"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mboillod","name":"mboillod","key":"mboillod","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"manuel boillod","active":true,"timeZone":"Europe/Paris"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins version: Jenkins ver. 2.204.1 (I do not have access to plugin versions)","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62081/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205981","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205981","key":"JENKINS-62078","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62078/watchers","watchCount":2,"isWatching":false},"created":"2020-04-28T10:07:09.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/1","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["Jenkins","bitbucket-plugin","bitbucket-server","git-plugin"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-07T11:25:26.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/18755","id":"18755","name":"bitbucket-plugin","description":"bitbucket plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Hey there,\r\n\r\nunfortunalty we've the following issues with a fresh Bitbucket AND fresh Jenkins installation\r\n # Jenkins got stuck on some branches when running \"**branch indexing**\"\r\n ## !Screenshot from 2020-04-28 12-03-35.png!\r\n # Jenkins got stuck when \"**Running as <User>**\" (i cut the username from the picture)\r\n ## !Screenshot from 2020-04-28 11-59-57.png!\r\n\r\nI was unable to find log entries regarding to this issue.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bgvv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Jenkins sometimes is not able to index branches","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=moep90","name":"moep90","key":"moep90","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Danny Heinrich","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=moep90","name":"moep90","key":"moep90","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Danny Heinrich","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Infrastructure:\r\n* Atlassian Bitbucket v6.8.0\r\n* nginx as reverse Proxy\r\n* Jenkins 2.234\r\n\r\nSCM:\r\n* Git plugin - 4.2.2 \r\n* Bitbucket Plugin - 1.1.11","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62078/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205946","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205946","key":"JENKINS-62052","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62052/watchers","watchCount":1,"isWatching":false},"created":"2020-04-25T13:05:51.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-17T15:42:10.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When using the Pipeline syntax in a running Jenkins instance, the pipeline fragment generated for git by the checkout step always includes:\r\n\r\n{{doGenerateSubmoduleConfigurations: false}}\r\n\r\nThat is the default value.  The pipeline syntax user interface provides no way to change that value and there are no automated tests for a non-default value.\r\n\r\n{{doGenerateSubmoduleConfigurations: false}} should be removed from the pipeline syntax output because it is a default value.\r\n\r\nLikewise for {{submoduleCfg}}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bgo3:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Default doGenerateSubmoduleConfigurations: false should not be added by checkout pipeline syntax for git","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"git plugin 3.x and later with pipeline plugins","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62052/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205247","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205247","key":"JENKINS-62019","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62019/watchers","watchCount":2,"isWatching":false},"created":"2020-03-19T12:40:44.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["git"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"42328","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42328","type":{"id":"10120","name":"Blocks","inward":"is blocked by","outward":"blocks","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10120"},"inwardIssue":{"id":"187029","key":"JENKINS-48431","self":"https://issues.jenkins-ci.org/rest/api/2/issue/187029","fields":{"summary":"Pipeline script from SCM should support build parameters using Lightweight checkout","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680}}}},{"id":"42017","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42017","type":{"id":"10000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10000"},"inwardIssue":{"id":"205254","key":"JENKINS-62020","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205254","fields":{"summary":"Parameter is not interpreted in GIT Plugin - Branch Specifier","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"42016","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42016","type":{"id":"10000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10000"},"inwardIssue":{"id":"205251","key":"JENKINS-62021","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205251","fields":{"summary":"Parameter is not interpreted in GIT Plugin - Branch Specifier","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"42021","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42021","type":{"id":"10000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10000"},"inwardIssue":{"id":"205243","key":"JENKINS-62022","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205243","fields":{"summary":"Variable from parameterized pipeline build is not interpreted in GIT Plugin - Branch Specifier","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"42020","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42020","type":{"id":"10000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10000"},"inwardIssue":{"id":"205242","key":"JENKINS-62023","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205242","fields":{"summary":"Variable from paramterized pipeline build is not interpreted in GIT Plugin - Branch Specifier","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"42019","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42019","type":{"id":"10000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10000"},"inwardIssue":{"id":"205265","key":"JENKINS-62017","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205265","fields":{"summary":"Parameter is not interpreted in GIT Plugin Branch Specifier","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"42018","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42018","type":{"id":"10000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10000"},"inwardIssue":{"id":"205255","key":"JENKINS-62018","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205255","fields":{"summary":"Parameter is not interpreted in GIT Plugin Branch Specifier","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2020-05-25T19:27:13.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I have a pipeline with one branch to be build, it's a parameterized pipeline:\r\n\r\nParameter BuildTag is not used by branch specifier.\r\n\r\nrefs/tags/${BuildTag}\r\n\r\n \r\n{code:java}\r\nhudson.plugins.git.GitException: Command \"git fetch --tags --progress --prune -- origin +refs/tags/${BuildTag}:refs/remotes/origin/${BuildTag}\" returned status code 128:\r\nstdout: \r\nstderr: fatal: Couldn't find remote ref refs/tags/${BuildTag}\r\nfatal: the remote end hung up unexpectedly\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2430)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:2044)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.access$500(CliGitAPIImpl.java:81)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$1.execute(CliGitAPIImpl.java:569)\r\n\tat jenkins.plugins.git.GitSCMFileSystem$BuilderImpl.build(GitSCMFileSystem.java:361)\r\n\tat jenkins.scm.api.SCMFileSystem.of(SCMFileSystem.java:197)\r\n\tat jenkins.scm.api.SCMFileSystem.of(SCMFileSystem.java:173)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsScmFlowDefinition.create(CpsScmFlowDefinition.java:115)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsScmFlowDefinition.create(CpsScmFlowDefinition.java:69)\r\n\tat org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:303)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n\tat hudson.model.Executor.run(Executor.java:427)\r\nFinished: FAILURE\r\n{code}\r\nIt worked with Git Plugin 4.1.1 and when I restore the plugin to this version it starts to work again!\r\n\r\nRegards Alex","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bcxf:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Parameter is not interpreted in GIT Plugin - Branch Specifier","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=alexz707","name":"alexz707","key":"alexz707","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Alex Z","active":true,"timeZone":"Europe/Vienna"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=alexz707","name":"alexz707","key":"alexz707","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Alex Z","active":true,"timeZone":"Europe/Vienna"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Git-Plugin: 4.2.2","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-62019/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205705","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205705","key":"JENKINS-61845","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61845/watchers","watchCount":3,"isWatching":false},"created":"2020-04-08T20:19:01.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-04-11T23:15:57.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We have a job with \"Poll SCM\" running on `* * * * *` (every minute). We need to use \"Included Regions\" so the local polling strategy is used. The build takes about 30 minutes. It correctly ignores changes in the steady state but when a commit comes in, it correctly notices a change saying something like:\r\n{code:java}\r\n[poll] Last Built Revision: Revision 50fc7882752856ac86b0838fdf878897e17955cd (refs/remotes/origin/master)\r\nDone. Took 6 ms\r\nChanges found\r\n{code}\r\nand starts the build. But then 1 minute later, it notices the same thing and starts another build. These new builds continue to be started until one of them finishes and then the queueing stops.\r\n\r\nI've tried all sorts of combinations to try and get new jobs to not start with the exact same SHA but to no avail. The closest I can get is to let only 1 concurrent build go at a time, but that still leaves 1 job in the queue and we end up double building everything.\r\n\r\nIs there a way to have the SCM polling take into account existing builds?","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bf6j:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Poll SCM enqueue a build when a build for the same commit is already running","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=ptarjan","name":"ptarjan","key":"ptarjan","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Paul Tarjan","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=ptarjan","name":"ptarjan","key":"ptarjan","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Paul Tarjan","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61845/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205677","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205677","key":"JENKINS-61824","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61824/watchers","watchCount":2,"isWatching":false},"created":"2020-04-06T20:08:37.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-04-30T16:02:55.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"In {{GitSCMFileSystem.build()}}, this bypasses several features provided natively by the credentials plugin including user-scoped credentials, authorize project scoped credentials, other sources, and the credential parameter shadowing feature. This should instead use {{CredentialsProvider.findCredentialsById()}} with the listed domain requirements and the associated run.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bf0b:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin credential lookup uses too low level API","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jvz","name":"jvz","key":"jvz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=jvz&avatarId=19978","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=jvz&avatarId=19978","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=jvz&avatarId=19978","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=jvz&avatarId=19978"},"displayName":"Matt Sicker","active":true,"timeZone":"America/Chicago"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jvz","name":"jvz","key":"jvz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=jvz&avatarId=19978","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=jvz&avatarId=19978","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=jvz&avatarId=19978","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=jvz&avatarId=19978"},"displayName":"Matt Sicker","active":true,"timeZone":"America/Chicago"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61824/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205180","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205180","key":"JENKINS-61494","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61494/watchers","watchCount":2,"isWatching":false},"created":"2020-03-16T12:14:03.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-18T22:14:41.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15896","id":"15896","name":"github-plugin"}],"customfield_10250":null,"description":"I have 1 code repo that should be triggering jobs, and a separate repo for a jenkins pipeline library. There are 2 jenkins jobs that use the ‘GitHub hook trigger for GITScm polling’ build trigger, both are pipeline jobs using the ‘Pipeline script from SCM’ with the repository configured to point to the code repo and the ‘Branches to build’ set to ‘origin/develop’. The pipeline library is used inside the pipelines for these jobs.\r\nI would expect these jobs to have their polling triggered by pushes to the code repo, however they are only being triggered by pushes to the jenkins pipeline library repo. \r\n\r\nUsing a log recorder set to get FINEST logs I can see:\r\nReceived PushEvent for https://github.com/<code repo> \r\nConsidering to poke <job>\r\nSkipped <job> because it doesn't have a matching repository.\r\n...\r\nReceived PushEvent for https://github.com/<pipeline library repo>\r\nConsidering to poke <job>\r\nPoked <job>\r\n\r\n\r\nSo something in jenkins seems to think these jobs do not use the code repository, but when a scan is triggered I see the following in the ‘Polling Log’:\r\nStarted by event from 192.30.252.97\r\n...\r\n > git ls-remote -h https://github.com/<code repo> # timeout=10\r\nSo the repo poll is using the code repo, and the list of commits that show up in the ‘Changes’ list are from the code repo.\r\nIt seems to be only these 2 jobs that are affected, no other job is being triggered by pushes to the pipeline library repo. \r\n\r\nIf I change the job to have the pipeline script entered directly and clone the repo as part of the pipeline it is triggered by the webhook correctly.\r\n\r\nI was able to work around this using the poll scm trigger which will run the job correctly.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bcij:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"‘Pipeline script from SCM’ do not get triggered by github webhooks from the pipeline script repo","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=organised_chaos","name":"organised_chaos","key":"organised_chaos","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"James Robson","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=organised_chaos","name":"organised_chaos","key":"organised_chaos","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"James Robson","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins: 2.204.5\r\ngit plugin: 4.2.2\r\ngithub plugin: 1.29.5","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61494/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205117","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205117","key":"JENKINS-61439","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61439/watchers","watchCount":2,"isWatching":false},"created":"2020-03-11T17:47:12.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-12T13:41:03.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"On our project we have a large number of feature builds across several versions that run as separate builds on Jenkins. We have noticed that our multibranch builds for this have been creeping up in run times, with no immediately obvious cause in the code changes, and after some digging, it seems that even though each build is running independently, there is a singular lock for each unique remote name that each git process waits to acquire. Even though each fetch and checkout is relatively fast, this seems to lead to a huge backlog of builds in contention over the lock as the multibranch pipeline starts each build on dev before requisitioning a slave and executing the specific tasks needed.\r\n\r\nI have been digging and not found anyone who seems to have hit the same issue so it is likely that we have some unusual setup that doesn't match with standard usage, but it also seems strange that we are locking on the remote name rather than the directory (which is more likely to have synchronisation issues).\r\n\r\nThe specific bit of the plugin that is acquiring the lock seems to be AbstractGitSCMSource.getCacheLock(). I've attached a thread dump illustrating the various threads all stacked up on the singular lock.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bc4j:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Independent git operations share singular JVM lock","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mellams","name":"mellams","key":"mellams","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Matthew Ellams","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mellams","name":"mellams","key":"mellams","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Matthew Ellams","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61439/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205111","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205111","key":"JENKINS-61433","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61433/watchers","watchCount":2,"isWatching":false},"created":"2020-03-11T14:00:18.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-13T15:08:27.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Manually setting a pipeline job to poll SCM is resulting in a build being triggered each and every time polling starts.\r\n\r\nIn reviewing logs, the only change I see is the TAG created by the build itself.  No other commits are in place.\r\n\r\nTypical pipeline configuration is to poll SCM for change, build component, TAG the commit of the successful build, and post step will deleteDir() after each build.\r\n\r\nWhile a tag is not seen as a commit, it is clear that in GIT, a tag is given a unique hash.\r\n\r\nI have tried ignoring commits by the build user, but since the tag is not a code change, this does not work.\r\n\r\nI have tried ignoring commits with messages, but since the tag is not seen as a commit, this does not work.\r\n\r\nI have tried using a REGEX to ignore tags, however I am getting errors with the regex and illegal characters, so this has not worked either.\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bc37:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Manual SCM Polling for pipeline starts even though no changes on branch","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=lbenhart","name":"lbenhart","key":"lbenhart","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"lee benhart","active":true,"timeZone":"America/New_York"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=lbenhart","name":"lbenhart","key":"lbenhart","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"lee benhart","active":true,"timeZone":"America/New_York"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins ver 2.204.2\r\ngit\t4.0.0-rc\r\ngit-changelog\t2.17\r\ngit-client\t3.0.0-rc\r\ngit-server\t1.7\r\ngithub\t1.29.4\r\ngithub-api\t1.95\r\ngithub-branch-source\t2.5.5\r\ngithub-organization-folder\t1.6\r\nscm-api\t2.6.3\r\nworkflow-scm-step\t2.9\r\nos.arch\tamd64\r\nos.name\tLinux\r\nos.version\t3.10.0-1062.9.1.el7.x86_64\r\n","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61433/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"205062","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205062","key":"JENKINS-61408","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61408/watchers","watchCount":2,"isWatching":false},"created":"2020-03-09T22:37:43.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-04-09T23:30:18.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Once in a while, at least several times a week, the name of the Git executable ends up being unset and the Git plugin calls `  init` (whitespace) instead of `git init`.\r\n\r\nWe use a custom installer for git and it works and install just fine and even with jobs with multiple parallel stages, only one stage hits the bug, randomly. So configuration on our side is just fine but we suspect that there is a bug in the codebase where the variable holding the git executable name can get invalidated, at the stage level.\r\n\r\n{noformat}\r\n\r\n[2020-03-04T19:28:38.877Z] Failed to get git executable\r\n[2020-03-04T19:28:42.682Z] using credential xxxxx-github-rw\r\n[2020-03-04T19:28:42.691Z] Cloning the remote Git repository\r\n[2020-03-04T19:28:42.691Z] Using shallow clone with depth 500\r\n[2020-03-04T19:28:42.691Z] Avoid fetching tags\r\n[2020-03-04T19:28:42.691Z] Honoring refspec on initial clone\r\n[2020-03-04T19:28:42.933Z] ERROR: Error cloning remote repo 'origin'\r\n[2020-03-04T19:28:42.933Z] hudson.plugins.git.GitException: Could not init /home/jenkins/agent/workspace/GitHub_xxxx_master\r\n[2020-03-04T19:28:42.933Z] \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$5.execute(CliGitAPIImpl.java:989)\r\n[2020-03-04T19:28:42.933Z] \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$2.execute(CliGitAPIImpl.java:747)\r\n[2020-03-04T19:28:42.933Z] \tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:161)\r\n[2020-03-04T19:28:42.933Z] \tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:154)\r\n[2020-03-04T19:28:42.933Z] \tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n[2020-03-04T19:28:42.934Z] \tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n[2020-03-04T19:28:42.934Z] \tat hudson.remoting.Request$2.run(Request.java:369)\r\n[2020-03-04T19:28:42.934Z] \tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)\r\n[2020-03-04T19:28:42.934Z] \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n[2020-03-04T19:28:42.934Z] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n[2020-03-04T19:28:42.934Z] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n[2020-03-04T19:28:42.934Z] \tat hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:97)\r\n[2020-03-04T19:28:42.934Z] \tat java.lang.Thread.run(Thread.java:748)\r\n[2020-03-04T19:28:42.934Z] \tSuppressed: hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from ip-xx-xx-xx-xx.us-west-2.compute.internal/xx.xx.xx.xx:40980\r\n[2020-03-04T19:28:42.934Z] \t\tat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1741)\r\n[2020-03-04T19:28:42.934Z] \t\tat hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\r\n[2020-03-04T19:28:42.934Z] \t\tat hudson.remoting.Channel.call(Channel.java:955)\r\n[2020-03-04T19:28:42.934Z] \t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.execute(RemoteGitImpl.java:146)\r\n[2020-03-04T19:28:42.934Z] \t\tat sun.reflect.GeneratedMethodAccessor811.invoke(Unknown Source)\r\n[2020-03-04T19:28:42.934Z] \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[2020-03-04T19:28:42.934Z] \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n[2020-03-04T19:28:42.934Z] \t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.invoke(RemoteGitImpl.java:132)\r\n[2020-03-04T19:28:42.934Z] \t\tat com.sun.proxy.$Proxy163.execute(Unknown Source)\r\n[2020-03-04T19:28:42.934Z] \t\tat hudson.plugins.git.GitSCM.retrieveChanges(GitSCM.java:1114)\r\n[2020-03-04T19:28:42.934Z] \t\tat hudson.plugins.git.GitSCM.checkout(GitSCM.java:1159)\r\n[2020-03-04T19:28:42.934Z] \t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:124)\r\n[2020-03-04T19:28:42.934Z] \t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:93)\r\n[2020-03-04T19:28:42.934Z] \t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:80)\r\n[2020-03-04T19:28:42.934Z] \t\tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n[2020-03-04T19:28:42.934Z] \t\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n[2020-03-04T19:28:42.934Z] \t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n[2020-03-04T19:28:42.934Z] \t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n[2020-03-04T19:28:42.934Z] \t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n[2020-03-04T19:28:42.934Z] \t\t... 1 more\r\n[2020-03-04T19:28:42.934Z] Caused by: hudson.plugins.git.GitException: Error performing git command:  init /home/jenkins/agent/workspace/GitHub_xxxx_master\r\n[2020-03-04T19:28:42.934Z] \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2436)\r\n[2020-03-04T19:28:42.934Z] \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2359)\r\n[2020-03-04T19:28:42.934Z] \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2355)\r\n[2020-03-04T19:28:42.934Z] \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1915)\r\n[2020-03-04T19:28:42.934Z] \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$5.execute(CliGitAPIImpl.java:987)\r\n[2020-03-04T19:28:42.934Z] \t... 12 more\r\n[2020-03-04T19:28:42.934Z] Caused by: java.io.IOException: Cannot run program \"\" (in directory \"/home/jenkins/agent/workspace/GitHub_xxxx_master\"): error=2, No such file or directory\r\n[2020-03-04T19:28:42.934Z] \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n[2020-03-04T19:28:42.934Z] \tat hudson.Proc$LocalProc.<init>(Proc.java:250)\r\n[2020-03-04T19:28:42.934Z] \tat hudson.Proc$LocalProc.<init>(Proc.java:219)\r\n[2020-03-04T19:28:42.934Z] \tat hudson.Launcher$LocalLauncher.launch(Launcher.java:937)\r\n[2020-03-04T19:28:42.934Z] \tat hudson.Launcher$ProcStarter.start(Launcher.java:455)\r\n[2020-03-04T19:28:42.934Z] \tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2422)\r\n[2020-03-04T19:28:42.934Z] \t... 16 more\r\n[2020-03-04T19:28:42.934Z] Caused by: java.io.IOException: error=2, No such file or directory\r\n[2020-03-04T19:28:42.934Z] \tat java.lang.UNIXProcess.forkAndExec(Native Method)\r\n[2020-03-04T19:28:42.934Z] \tat java.lang.UNIXProcess.<init>(UNIXProcess.java:247)\r\n[2020-03-04T19:28:42.934Z] \tat java.lang.ProcessImpl.start(ProcessImpl.java:134)\r\n[2020-03-04T19:28:42.934Z] \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n[2020-03-04T19:28:42.934Z] \t... 21 more\r\nError cloning remote repo 'origin'\r\n{noformat}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bbsb:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git executable is randomly set to empty string","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=sodul","name":"sodul","key":"sodul","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=sodul&avatarId=12674","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=sodul&avatarId=12674","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=sodul&avatarId=12674","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=sodul&avatarId=12674"},"displayName":"Stephane Odul","active":true,"timeZone":"America/Los_Angeles"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=sodul","name":"sodul","key":"sodul","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=sodul&avatarId=12674","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=sodul&avatarId=12674","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=sodul&avatarId=12674","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=sodul&avatarId=12674"},"displayName":"Stephane Odul","active":true,"timeZone":"America/Los_Angeles"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.204.5\r\nGit Plugin 4.1.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61408/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204905","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204905","key":"JENKINS-61317","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61317/watchers","watchCount":2,"isWatching":false},"created":"2020-03-04T04:37:41.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-04T09:14:14.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"env.GIT_COMMIT is overwritten when pull lib （lib and code in the same repo）\r\n\r\n \r\n\r\nSharedLibrary put in the same code repo, different branch named xxx_lib, and after Declarative: Checkout SCM, can not get the right GIT_COMMIT, always be the xxx_lib's last commit, not the code's commit\r\n\r\n \r\n\r\n \r\n\r\nI create example repo to this issue: [https://github.com/bonfy/JENKINS-61317]\r\n\r\nJenkinsfile in master branch Last commit: 39f25e1a\r\n library in jenkins-lib branch Last commit: a8c235b1\r\n\r\nand when echo GIT_COMMIT, it is overwitten by lib's commit\r\n\r\n16:55:47 stage 1\r\n[Pipeline] echo\r\n16:55:47 GIT COMMIT : a8c235b10c55e2f065293b1c1ad9b3bffd45d9d9\r\n[Pipeline] echo\r\n16:55:47 GIT BRANCH : jenkins-lib\r\n[Pipeline] echo\r\n16:55:48 Hello world\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bb8j:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"env.GIT_COMMIT is overwritten when pull lib （lib and code in the same repo）, can not get the right GIT_COMMIT","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=bonfy","name":"bonfy","key":"bonfy","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"bon ch","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=bonfy","name":"bonfy","key":"bonfy","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"bon ch","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61317/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204770","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204770","key":"JENKINS-61216","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61216/watchers","watchCount":3,"isWatching":false},"created":"2020-02-25T09:21:17.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["newbie-friendly"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"41936","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/41936","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"204942","key":"JENKINS-61357","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204942","fields":{"summary":"every time I click the Save button in Configure System Jenkins Crashes","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/1","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2020-03-20T16:10:47.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"java.lang.NullPointerException\r\n\tat java.util.TreeMap.putAll(TreeMap.java:313)\r\n\tat hudson.slaves.EnvironmentVariablesNodeProperty.buildEnvVars(EnvironmentVariablesNodeProperty.java:86)\r\n\tat hudson.model.Computer.buildEnvironment(Computer.java:1211)\r\n\tat hudson.plugins.git.UserRemoteConfig$DescriptorImpl.doCheckUrl(UserRemoteConfig.java:191)\r\n\tat java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)\r\n\tat org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:396)\r\n\tat org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:408)\r\n\tat org.kohsuke.stapler.interceptor.RequirePOST$Processor.invoke(RequirePOST.java:77)\r\n\tat org.kohsuke.stapler.PreInvokeInterceptedFunction.invoke(PreInvokeInterceptedFunction.java:26)\r\n\tat org.kohsuke.stapler.Function.bindAndInvoke(Function.java:212)\r\n\tat org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:145)\r\n\tat org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:535)\r\n\tat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58)\r\n\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:747)\r\nCaused: javax.servlet.ServletException\r\n\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:797)\r\n\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:878)\r\n\tat org.kohsuke.stapler.MetaClass$4.doDispatch(MetaClass.java:280)\r\n\tat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58)\r\n\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:747)\r\n\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:878)\r\n\tat org.kohsuke.stapler.MetaClass$4.doDispatch(MetaClass.java:280)\r\n\tat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58)\r\n\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:747)\r\n\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:878)\r\n\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:676)\r\n\tat org.kohsuke.stapler.Stapler.service(Stapler.java:238)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)\r\n\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n\tat jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:76)\r\n\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\r\n\tat jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:128)\r\n\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\r\n\tat hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:157)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\r\n\tat hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:99)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84)\r\n\tat hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n\tat jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n\tat org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:142)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n\tat org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n\tat jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:93)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n\tat org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)\r\n\tat hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n\tat hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90)\r\n\tat hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\r\n\tat org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\r\n\tat hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\r\n\tat org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1607)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1577)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:500)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0bahf:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"NPE in git plugin building environment variables for node","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=hpapaxen","name":"hpapaxen","key":"hpapaxen","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Harry Papaxenopoulos","active":true,"timeZone":"Asia/Nicosia"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=hpapaxen","name":"hpapaxen","key":"hpapaxen","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Harry Papaxenopoulos","active":true,"timeZone":"Asia/Nicosia"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61216/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204644","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204644","key":"JENKINS-61127","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61127/watchers","watchCount":2,"isWatching":false},"created":"2020-02-18T13:38:25.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-02-18T17:42:56.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"There is a need for a \"More advanced clone behaviors\"\r\n\r\nThe current \"Advanced clone behaviours\" takes us just part of the way when needing to configure the clone operation.\r\n\r\n\r\nThere are a lot of options on git clone that is not possible to set.\r\nRef https://git-scm.com/docs/git-clone\r\n\r\nExample:\r\nWe currently have the need to do a shallow clone, but need to include all branches. Meaning that we want to add the --no-single-branch option.\r\nWe cannot see any other way of achieving this right now.\r\n\r\nI assume this request will solve JENKINS-61109 and similar issues as well.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b9pn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"More freely defined advanced clone behaviours","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=soltor0","name":"soltor0","key":"soltor0","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Tor Christian Solevågseide","active":true,"timeZone":"Europe/Oslo"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=soltor0","name":"soltor0","key":"soltor0","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Tor Christian Solevågseide","active":true,"timeZone":"Europe/Oslo"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61127/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204621","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204621","key":"JENKINS-61109","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61109/watchers","watchCount":1,"isWatching":false},"created":"2020-02-17T10:36:26.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["git","plugin"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-06T16:11:51.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"In case of a Jenkinsfile residing in a submodule, we would have to clone the parent repo and then have `git submodule update --init --recursive` before the Jenkinsfile is accessed for the build. There needs to be an option in the advanced behaviours which allows us to do this.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b9kj:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Allow Jenkinsfile in a submodule","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=waveywaves","name":"waveywaves","key":"waveywaves","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Vibhav Bobade","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=waveywaves","name":"waveywaves","key":"waveywaves","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Vibhav Bobade","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61109/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204551","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204551","key":"JENKINS-61067","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61067/watchers","watchCount":3,"isWatching":false},"created":"2020-02-12T12:02:29.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["newbie-friendly"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-04-01T14:36:48.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21980","id":"21980","name":"gitlab-branch-source-plugin","description":"subcomponent"}],"customfield_10250":null,"description":"This issue is just for documentation, since the issue went away with the update to gitlab-branch-source [1.4.4|https://github.com/jenkinsci/gitlab-branch-source-plugin/releases/tag/gitlab-branch-source-1.4.4]. Before that, a merge request would do a \"fat\" instead a lightweight checkout to read the {{Jenkinsfile}} and I cannot reproduce the issue when just a lightweight checkout is done.\r\n\r\nPipeline sample code to have something to talk about:\r\n\r\n{code:java}\r\ndef repo = checkout scm\r\necho repo.GIT_COMMIT\r\n{code}\r\n\r\nThis works correctly for branch builds, but not for merge request builds and the strategy \"Merging the merge request with the current target branch revision\" - when using that strategy, {{GIT_COMMIT}} points to a revision which doesn't exist after the merge, but instead to the merge commit from the \"temporary\" chechout which was done for reading the {{Jenkinsfile}}. Relevant log snippets:\r\n\r\n{noformat}\r\nBranch indexing\r\nQuerying the current revision of merge request #3...\r\nCurrent revision of merge request #3 is 367f5bc9835cecaf5929cf9a6a8d3600ad1dae32\r\nChecking out git https://<REPO>.git into /var/lib/jenkins/workspace/SOMETHING_MR-3@script to read Jenkinsfile\r\n[...]\r\n > git fetch --no-tags --force --progress -- https://<REPO>.git +refs/merge-requests/3/head:refs/remotes/origin/MR-3 +refs/heads/master:refs/remotes/origin/master # timeout=10\r\nMerging remotes/origin/master commit eb6a5804b1a07157304d00562a489437342049e1 into MR head commit 367f5bc9835cecaf5929cf9a6a8d3600ad1dae32\r\n[...]\r\nMerge succeeded, producing a9473d5a2d79ace679affe37853e74950602b07b\r\nChecking out Revision a9473d5a2d79ace679affe37853e74950602b07b (feature/update-slf4j)\r\n[...]\r\nCommit message: \"Merge commit 'eb6a5804b1a07157304d00562a489437342049e1' into HEAD\"\r\n[GitLab Pipeline Status] Notifying merge request build status: RUNNING tgruetzm/versions/ci/MR-3: Build started...\r\n[GitLab Pipeline Status] Notified\r\nRunning in Durability level: PERFORMANCE_OPTIMIZED\r\n[...]\r\n[GitLab Pipeline Status] Notifying merge request build status: RUNNING tgruetzm/versions/ci/MR-3: Build started...\r\n[Pipeline] Start of Pipeline\r\n[...]\r\n[Pipeline] checkout\r\n[...]\r\nMerging remotes/origin/master commit eb6a5804b1a07157304d00562a489437342049e1 into MR head commit 367f5bc9835cecaf5929cf9a6a8d3600ad1dae32\r\n[...]\r\nMerge succeeded, producing bdabb0071fa91fe128c037a9f3352b459fcfcde8\r\nChecking out Revision bdabb0071fa91fe128c037a9f3352b459fcfcde8 (feature/update-slf4j)\r\n[...]\r\nCommit message: \"Merge commit 'eb6a5804b1a07157304d00562a489437342049e1' into HEAD\"\r\nFirst time build. Skipping changelog.\r\n[...]\r\n[Pipeline] echo\r\n{GIT_AUTHOR_EMAIL=xxx, GIT_AUTHOR_NAME=xxx, GIT_BRANCH=feature/update-slf4j, GIT_COMMIT=a9473d5a2d79ace679affe37853e74950602b07b, GIT_COMMITTER_EMAIL=xxx, GIT_COMMITTER_NAME=xxx, GIT_LOCAL_BRANCH=feature/update-slf4j, GIT_PREVIOUS_COMMIT=873ac16b7ac3b44ad9b45cdde7479a3dd73a4beb, GIT_PREVIOUS_SUCCESSFUL_COMMIT=367f5bc9835cecaf5929cf9a6a8d3600ad1dae32, GIT_URL=https://<REPO>.git}\r\n[...]\r\n+ git log --oneline -2\r\nbdabb00 Merge commit 'eb6a5804b1a07157304d00562a489437342049e1' into HEAD\r\neb6a580 Update test output\r\n[...]\r\n{noformat}\r\n\r\nNow, with a lightweight checkout:\r\n{noformat}\r\nStarted by user Tobias Gruetzmacher\r\nQuerying the current revision of merge request #3...\r\nCurrent revision of merge request #3 is 367f5bc9835cecaf5929cf9a6a8d3600ad1dae32\r\nObtained Jenkinsfile from eb6a5804b1a07157304d00562a489437342049e1+367f5bc9835cecaf5929cf9a6a8d3600ad1dae32\r\nRunning in Durability level: PERFORMANCE_OPTIMIZED\r\n[...]\r\n[GitLab Pipeline Status] Notifying merge request build status: RUNNING tgruetzm/versions/ci/MR-3: Build started...\r\n[GitLab Pipeline Status] Notified\r\n[Pipeline] Start of Pipeline\r\n[...]\r\n[Pipeline] checkout\r\n[...]\r\nMerging remotes/origin/master commit eb6a5804b1a07157304d00562a489437342049e1 into MR head commit 367f5bc9835cecaf5929cf9a6a8d3600ad1dae32\r\n[...]\r\nMerge succeeded, producing 793df539d53a54cb84316c39f81939c344255e4b\r\nChecking out Revision 793df539d53a54cb84316c39f81939c344255e4b (feature/update-slf4j)\r\n[...]\r\nCommit message: \"Merge commit 'eb6a5804b1a07157304d00562a489437342049e1' into HEAD\"\r\nFirst time build. Skipping changelog.\r\n[...]\r\n[Pipeline] echo\r\n{GIT_AUTHOR_EMAIL=xxx, GIT_AUTHOR_NAME=xxx, GIT_BRANCH=feature/update-slf4j, GIT_COMMIT=793df539d53a54cb84316c39f81939c344255e4b, GIT_COMMITTER_EMAIL=xxx, GIT_COMMITTER_NAME=xxx, GIT_LOCAL_BRANCH=feature/update-slf4j, GIT_PREVIOUS_COMMIT=a9473d5a2d79ace679affe37853e74950602b07b, GIT_PREVIOUS_SUCCESSFUL_COMMIT=367f5bc9835cecaf5929cf9a6a8d3600ad1dae32, GIT_URL=https://<REPO>.git}\r\n[...]\r\n+ git log --oneline -2\r\n793df53 Merge commit 'eb6a5804b1a07157304d00562a489437342049e1' into HEAD\r\neb6a580 Update test output\r\n[...]\r\n{noformat}\r\n","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b98b:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Wrong value for GIT_COMMIT after merge?","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=tgr","name":"tgr","key":"tgr","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Tobias Gruetzmacher","active":true,"timeZone":"Europe/Berlin"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=tgr","name":"tgr","key":"tgr","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Tobias Gruetzmacher","active":true,"timeZone":"Europe/Berlin"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61067/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204533","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204533","key":"JENKINS-61053","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61053/watchers","watchCount":3,"isWatching":false},"created":"2020-02-11T14:23:06.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/1","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-19T16:47:02.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I have enabled submodule checkout in our configured GitHub organisation:\r\n\r\n!image-2020-02-11-09-12-02-680.png!\r\n\r\nHowever, when checking out projects now, intermittently, the checkout will fail with no indication why:\r\n{noformat}\r\n[2020-02-11T13:23:18.590Z] using credential daos_jenkins_project_github_access\r\n[2020-02-11T13:23:18.611Z] Fetching changes from the remote Git repository\r\n[2020-02-11T13:23:18.620Z] Fetching without tags\r\n[2020-02-11T13:23:18.602Z]  > git rev-parse --is-inside-work-tree # timeout=10\r\n[2020-02-11T13:23:18.614Z]  > git config remote.origin.url https://github.com/daos-stack/daos.git # timeout=10\r\n[2020-02-11T13:23:18.623Z] Fetching upstream changes from https://github.com/daos-stack/daos.git\r\n[2020-02-11T13:23:18.623Z]  > git --version # timeout=10\r\n[2020-02-11T13:23:18.627Z] using GIT_ASKPASS to set credentials **** GitHub account for github project use (daos_jenkins_project_github_access)\r\n[2020-02-11T13:23:18.628Z]  > git fetch --no-tags --progress https://github.com/daos-stack/daos.git +refs/pull/1818/head:refs/remotes/origin/PR-1818 # timeout=10\r\n[2020-02-11T13:23:20.000Z] Checking out Revision 1f757ccc6f67e2611cf704671ebd199c1cc852e9 (PR-1818)\r\n[2020-02-11T13:23:20.065Z] Commit message: \"DAOS-2746 test: Add junit-capable go test runner\"\r\n[2020-02-11T13:23:20.003Z]  > git config core.sparsecheckout # timeout=10\r\n[2020-02-11T13:23:20.007Z]  > git checkout -f 1f757ccc6f67e2611cf704671ebd199c1cc852e9 # timeout=10\r\n[2020-02-11T13:23:20.072Z]  > git remote # timeout=10\r\n[2020-02-11T13:23:20.076Z]  > git submodule init # timeout=10\r\n[2020-02-11T13:23:20.172Z]  > git submodule sync # timeout=10\r\n[2020-02-11T13:23:20.284Z]  > git config --get remote.origin.url # timeout=10\r\n[2020-02-11T13:23:20.292Z]  > git submodule init # timeout=10\r\n[2020-02-11T13:23:20.380Z]  > git config -f .gitmodules --get-regexp ^submodule\\.(.+)\\.url # timeout=10\r\n[2020-02-11T13:23:20.384Z]  > git config --get submodule.scons_local.url # timeout=10\r\n[2020-02-11T13:23:20.387Z]  > git remote # timeout=10\r\n[2020-02-11T13:23:20.391Z]  > git config --get remote.origin.url # timeout=10\r\n[2020-02-11T13:23:20.394Z]  > git config -f .gitmodules --get submodule.scons_local.path # timeout=10\r\n[2020-02-11T13:23:20.398Z]  > git config --get submodule.raft.url # timeout=10\r\n[2020-02-11T13:23:20.401Z]  > git remote # timeout=10\r\n[2020-02-11T13:23:20.406Z]  > git config --get remote.origin.url # timeout=10\r\n[2020-02-11T13:23:20.410Z]  > git config -f .gitmodules --get submodule.raft.path # timeout=10\r\n[2020-02-11T13:23:20.414Z] using GIT_ASKPASS to set credentials **** GitHub account for github project use (daos_jenkins_project_github_access)\r\n[2020-02-11T13:23:20.415Z]  > git submodule update --init --recursive scons_local # timeout=10\r\nCould not perform submodule update\r\n{noformat}\r\nAnd yet at other times, it works:\r\n{noformat}\r\n[2020-02-10T19:04:15.801Z] using credential daos_jenkins_project_github_access\r\n[2020-02-10T19:04:15.825Z] Fetching changes from the remote Git repository\r\n[2020-02-10T19:04:15.833Z] Fetching without tags\r\n[2020-02-10T19:04:16.400Z] Checking out Revision 0d58d4725611cd041ad8984b4a0706dbeb47dc32 (master)\r\n[2020-02-10T19:04:16.434Z] Commit message: \"DAOS-3819 api: check pool connect uuid for NULL (#1842)\"\r\n[2020-02-10T19:04:15.820Z]  > git rev-parse --is-inside-work-tree # timeout=10\r\n[2020-02-10T19:04:15.828Z]  > git config remote.origin.url https://github.com/daos-stack/daos.git # timeout=10\r\n[2020-02-10T19:04:15.836Z] Fetching upstream changes from https://github.com/daos-stack/daos.git\r\n[2020-02-10T19:04:15.836Z]  > git --version # timeout=10\r\n[2020-02-10T19:04:15.838Z] using GIT_ASKPASS to set credentials **** GitHub account for github project use (daos_jenkins_project_github_access)\r\n[2020-02-10T19:04:15.839Z]  > git fetch --no-tags --progress https://github.com/daos-stack/daos.git +refs/heads/master:refs/remotes/origin/master # timeout=10\r\n[2020-02-10T19:04:16.402Z]  > git config core.sparsecheckout # timeout=10\r\n[2020-02-10T19:04:16.405Z]  > git checkout -f 0d58d4725611cd041ad8984b4a0706dbeb47dc32 # timeout=10\r\n[2020-02-10T19:04:16.439Z]  > git remote # timeout=10\r\n[2020-02-10T19:04:16.441Z]  > git submodule init # timeout=10\r\n[2020-02-10T19:04:16.520Z]  > git submodule sync # timeout=10\r\n[2020-02-10T19:04:16.615Z]  > git config --get remote.origin.url # timeout=10\r\n[2020-02-10T19:04:16.621Z]  > git submodule init # timeout=10\r\n[2020-02-10T19:04:16.680Z]  > git config -f .gitmodules --get-regexp ^submodule\\.(.+)\\.url # timeout=10\r\n[2020-02-10T19:04:16.683Z]  > git config --get submodule.scons_local.url # timeout=10\r\n[2020-02-10T19:04:16.685Z]  > git remote # timeout=10\r\n[2020-02-10T19:04:16.687Z]  > git config --get remote.origin.url # timeout=10\r\n[2020-02-10T19:04:16.689Z]  > git config -f .gitmodules --get submodule.scons_local.path # timeout=10\r\n[2020-02-10T19:04:16.691Z]  > git config --get submodule.raft.url # timeout=10\r\n[2020-02-10T19:04:16.694Z]  > git remote # timeout=10\r\n[2020-02-10T19:04:16.696Z]  > git config --get remote.origin.url # timeout=10\r\n[2020-02-10T19:04:16.698Z]  > git config -f .gitmodules --get submodule.raft.path # timeout=10\r\n[2020-02-10T19:04:16.700Z] using GIT_ASKPASS to set credentials **** GitHub account for github project use (daos_jenkins_project_github_access)\r\n[2020-02-10T19:04:16.701Z]  > git submodule update --init --recursive scons_local # timeout=10\r\n[2020-02-10T19:04:17.468Z] \r\n[2020-02-10T19:04:17.468Z] GitHub has been notified of this commit’s build result\r\n[2020-02-10T19:04:17.468Z] \r\n[2020-02-10T19:04:16.783Z] using GIT_ASKPASS to set credentials **** GitHub account for github project use (daos_jenkins_project_github_access)\r\n[2020-02-10T19:04:16.784Z]  > git submodule update --init --recursive src/rdb/raft # timeout=10\r\n{noformat}\r\nProbably what is most frustrating is that when it doesn't (seemingly) work, there is no indication (error message, return code report, etc.), either in the checkout text itself or the {{jenkins.log}} why, so it leaves me even questioning whether something actually did go wrong or the plugin is just broken.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b94b:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"submodule checkout randomly fails without failing the job","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=brianjmurrell","name":"brianjmurrell","key":"brianjmurrell","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Brian J Murrell","active":true,"timeZone":"America/Toronto"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=brianjmurrell","name":"brianjmurrell","key":"brianjmurrell","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Brian J Murrell","active":true,"timeZone":"America/Toronto"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins ver. 2.204.1\r\nGit plugin 4.1.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-61053/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204453","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204453","key":"JENKINS-60985","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60985/watchers","watchCount":7,"isWatching":false},"created":"2020-02-06T00:23:16.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"updated":"2020-02-26T15:53:43.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"{code:java}\r\nERROR: Processing failed due to a bug in the code. Please report this to the issue tracker (https://jenkins.io/redirect/report-an-issue).\r\nhudson.remoting.RemotingSystemException: java.lang.ClassCastException: class org.jenkinsci.plugins.gitclient.CliGitAPIImpl$9 is returned from public abstract org.jenkinsci.plugins.gitclient.CheckoutCommand org.jenkinsci.plugins.gitclient.GitClient.checkout() on class hudson.plugins.git.GitAPI but it's not serializable\r\n\tat hudson.remoting.RemoteInvocationHandler$RPCRequest.perform(RemoteInvocationHandler.java:938)\r\n\tat hudson.remoting.RemoteInvocationHandler$RPCRequest.call(RemoteInvocationHandler.java:905)\r\n\tat hudson.remoting.RemoteInvocationHandler$RPCRequest.call(RemoteInvocationHandler.java:857)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n\tat hudson.remoting.Request$2.run(Request.java:369)\r\n\tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:117)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\tSuppressed: hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from <redacted>\r\n\t\tat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1737)\r\n\t\tat hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\r\n\t\tat hudson.remoting.Channel.call(Channel.java:951)\r\n\t\tat hudson.remoting.RemoteInvocationHandler.invoke(RemoteInvocationHandler.java:285)\r\n\t\tat com.sun.proxy.$Proxy99.checkout(Unknown Source)\r\n\t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl.checkout(RemoteGitImpl.java:309)\r\n\t\tat org.jfrog.hudson.release.scm.git.GitManager.checkoutBranch(GitManager.java:72)\r\n\t\tat org.jfrog.hudson.release.scm.git.GitCoordinator.beforeReleaseVersionChange(GitCoordinator.java:93)\r\n\t\tat org.jfrog.hudson.release.maven.MavenReleaseWrapper.setUp(MavenReleaseWrapper.java:178)\r\n\t\tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:667)\r\n\t\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:504)\r\n\t\tat hudson.model.Run.execute(Run.java:1853)\r\n\t\tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\r\n\t\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n\t\tat hudson.model.Executor.run(Executor.java:428)\r\nCaused by: java.lang.ClassCastException: class org.jenkinsci.plugins.gitclient.CliGitAPIImpl$9 is returned from public abstract org.jenkinsci.plugins.gitclient.CheckoutCommand org.jenkinsci.plugins.gitclient.GitClient.checkout() on class hudson.plugins.git.GitAPI but it's not serializable\r\n\t... 12 more\r\n{code}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b8mr:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"org.jenkinsci.plugins.gitclient.CliGitAPIImpl$9 is not serializable causing hudson.remoting.RemotingSystemException","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=apottere","name":"apottere","key":"apottere","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Andrew Potter","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=apottere","name":"apottere","key":"apottere","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Andrew Potter","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins: 2.219\r\ngit: 4.1.1\r\ngit-client: 3.1.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60985/votes","votes":3,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204257","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204257","key":"JENKINS-60875","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60875/watchers","watchCount":2,"isWatching":false},"created":"2020-01-27T13:30:43.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-02-25T09:26:59.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"A multibranch pipeline jobs is configured for a git repo. Scanning the branch index ends with an excpetion from git client:\r\n{code:java}\r\nMon Jan 27 09:21:00 CET 2020] Starting branch indexing...\r\n > git --version # timeout=10\r\nusing GIT_ASKPASS to set credentials User for XXX bitbucket instance\r\nSetting http proxy: XXX.XXX.XXX.X:9090\r\n > git ls-remote https://bitbucket.xxx.yy/somewhat.git # timeout=10\r\nERROR: [Mon Jan 27 09:21:01 CET 2020] Could not update folder level actions from source <uuid ommited> \r\nhudson.plugins.git.GitException: Command \"git ls-remote https://bitbucket.xxx.yy/somewhat.git\" returned status code 128:\r\nstdout: \r\nstderr: fatal: unable to access '.git/config': Permission denied\r\n\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2372)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1985)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1885)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1876)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.getRemoteReferences(CliGitAPIImpl.java:3228)\r\n\tat jenkins.plugins.git.AbstractGitSCMSource.retrieveActions(AbstractGitSCMSource.java:1141)\r\n\tat jenkins.scm.api.SCMSource.fetchActions(SCMSource.java:848)\r\n\tat jenkins.branch.MultiBranchProject.computeChildren(MultiBranchProject.java:598)\r\n\tat com.cloudbees.hudson.plugins.folder.computed.ComputedFolder.updateChildren(ComputedFolder.java:277)\r\n\tat com.cloudbees.hudson.plugins.folder.computed.FolderComputation.run(FolderComputation.java:164)\r\n\tat jenkins.branch.MultiBranchProject$BranchIndexing.run(MultiBranchProject.java:1032)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n\tat hudson.model.Executor.run(Executor.java:428)\r\n[Mon Jan 27 09:21:01 CET 2020] Finished branch indexing. Indexing took 91 ms{code}\r\nIt seems, that git client plugin tries to run the {{git ls-remote}} command somewhere, where the jenkins instance does not have write access to.\r\n\r\nBy looking into the code, I saw that\r\n{code:java}\r\norg.jenkinsci.plugins.gitclient.CliGitAPIImpl.getRemoteReferences\r\n{code}\r\ndoes not define a workdir for the git command call and so the process default workdir is chosen.\r\n\r\nThe pwd of the java vm running jenkins is {{/}}\r\n\r\nThat would explain the problem.\r\n\r\nIdea: Use {{java.io.tmpdir}} to get a good workdir, if nothing else fits.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b7rv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"branch index scan of multibranch pipeline job fails with GitException on old CLI git (1.8.3)","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=gerrietr","name":"gerrietr","key":"gerrietr","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Gerriet Reents","active":true,"timeZone":"Europe/Berlin"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=gerrietr","name":"gerrietr","key":"gerrietr","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Gerriet Reents","active":true,"timeZone":"Europe/Berlin"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"os: CentOS 7\r\njdk: openjdk-1.8.0.191\r\nJenkins version 2.210\r\ngit client: 3.0.0\r\n","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60875/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"204172","self":"https://issues.jenkins-ci.org/rest/api/2/issue/204172","key":"JENKINS-60826","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60826/watchers","watchCount":1,"isWatching":false},"created":"2020-01-20T19:19:17.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"41545","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/41545","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"179864","key":"JENKINS-42860","self":"https://issues.jenkins-ci.org/rest/api/2/issue/179864","fields":{"summary":"RejectedAccessException: Scripts not permitted to use method hudson.plugins.git.GitSCM getBranches","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/2","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680}}}}],"assignee":null,"updated":"2020-01-28T09:26:06.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Git plugin 4.1.0 adds many GitSCM getters to the Pipeline whitelist as part of JENKINS-42860 so that Pipeline users do not need to specifically approve a script that refers to GitSCM fields.  It is confirmed to work when the references are directly inside the Jenkinsfile, as in the [JENKINS-42860 automated check|https://github.com/MarkEWaite/jenkins-bugs/blob/bceaac3d9ac04f28362d88108f71f838fa0f7346/Jenkinsfile#L12].\r\n\r\nIt fails to whitelist the reference to that field when it is accessed from a shared library method like [GitUtils.my_utils|https://github.com/MarkEWaite/jenkins-pipeline-utils/blob/638b208ca71177386b4becb587bceb2c4e36b103/src/com/markwaite/GitUtils.groovy#L3]\r\n\r\nThe failing reference looks something like this:\r\n\r\n{noformat}\r\n@Library(value='globalPipelineLibraryMarkEWaite', changelog=false) _\r\n\r\nimport com.markwaite.GitUtils\r\n\r\ndef branch='master'\r\n\r\nnode {\r\n  stage('Checkout') {\r\n    def my_utils = new com.markwaite.GitUtils()\r\n    dir(branch) {\r\n      checkout([$class: 'GitSCM',\r\n                branches: [[name: branch]],\r\n                userRemoteConfigs: my_utils.adjustRemoteConfig(scm.userRemoteConfigs[0], branch)\r\n               ])\r\n    }\r\n}\r\n{noformat}\r\n","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b78z:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin whitelist ignored in called method","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"git plugin 4.1.0\r\ngit client plugin 4.1.0\r\nJenkins 2.204.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60826/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"203976","self":"https://issues.jenkins-ci.org/rest/api/2/issue/203976","key":"JENKINS-60727","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60727/watchers","watchCount":2,"isWatching":false},"created":"2020-01-10T10:19:55.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mrginglymus","name":"mrginglymus","key":"mrginglymus","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Bill Collins","active":true,"timeZone":"GMT"},"updated":"2020-01-10T11:34:15.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"JENKINS-26660 added the capability to set the additional 'f' on clean commands to clean submodules. However, it did not add the capability to set the additional 'f' on submodule clean commands (ie, git submodule foreach --recursive git clean -ffdx).","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b6e3:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Add capability to clean submodules' submodules","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mrginglymus","name":"mrginglymus","key":"mrginglymus","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Bill Collins","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mrginglymus","name":"mrginglymus","key":"mrginglymus","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Bill Collins","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60727/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"203864","self":"https://issues.jenkins-ci.org/rest/api/2/issue/203864","key":"JENKINS-60630","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60630/watchers","watchCount":3,"isWatching":false},"created":"2020-01-03T10:41:45.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["newbie-friendly","regression"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-19T14:11:11.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"In a pipeline job from a git repository where the \"Branch Specifier\" is given as a parameter and Lightweight option is also not checked but still I am getting below error\r\n\r\nhudson.plugins.git.GitException: Command \"git fetch --tags --progress --prune – origin +refs/heads/${BRANCH}:refs/remotes/origin/${BRANCH}\" returned status code 128:\r\n stdout: \r\n stderr: fatal: Couldn't find remote ref refs/heads/${BRANCH}\r\n\r\nat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2372)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1985)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.access$500(CliGitAPIImpl.java:80)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl$1.execute(CliGitAPIImpl.java:563)\r\n at jenkins.plugins.git.GitSCMFileSystem$BuilderImpl.build(GitSCMFileSystem.java:348)\r\n at jenkins.scm.api.SCMFileSystem.of(SCMFileSystem.java:197)\r\n at jenkins.scm.api.SCMFileSystem.of(SCMFileSystem.java:173)\r\n at org.jenkinsci.plugins.workflow.multibranch.ReadTrustedStep$Execution.run(ReadTrustedStep.java:101)\r\n at org.jenkinsci.plugins.workflow.multibranch.ReadTrustedStep$Execution.run(ReadTrustedStep.java:82)\r\n at org.jenkinsci.plugins.workflow.steps.AbstractSynchronousNonBlockingStepExecution$1$1.call(AbstractSynchronousNonBlockingStepExecution.java:47)\r\n at hudson.security.ACL.impersonate(ACL.java:290)\r\n at org.jenkinsci.plugins.workflow.steps.AbstractSynchronousNonBlockingStepExecution$1.run(AbstractSynchronousNonBlockingStepExecution.java:44)\r\n at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n at java.lang.Thread.run(Thread.java:748)\r\n Finished: FAILURE\r\n\r\nI am trying with git parameter as well as string parameter and on both occasions getting same error\r\n\r\nI have observed the parameter value work well in fresstyle project but not work in simple pipeline job.\r\n\r\nI have tested with some git older version 3.0.0 which works will with pipeline job but same thing not works in later version\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b5p7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin fails to replace parametrized value in scm checkout instead it is taking parameter variable as it is","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mahan7","name":"mahan7","key":"mahan7","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Mahantesh Hoolikatti","active":true,"timeZone":"Asia/Kolkata"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mahan7","name":"mahan7","key":"mahan7","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Mahantesh Hoolikatti","active":true,"timeZone":"Asia/Kolkata"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins ver 2.204.1\r\nGit Plugin 4.0.0","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60630/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"203813","self":"https://issues.jenkins-ci.org/rest/api/2/issue/203813","key":"JENKINS-60591","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60591/watchers","watchCount":3,"isWatching":false},"created":"2019-12-26T17:49:33.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-12-27T14:40:14.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"+_{color:#172b4d}Pipeline job{color}_+\r\n\r\n_{color:#172b4d}checkout scm{color}_ doesn't take revision that started the pipeline instead takes last (fresh) commit from branch \r\n\r\nRelated to doc:\r\n\r\n[https://jenkins.io/doc/book/pipeline/jenkinsfile/]\r\n|The {{checkout}} step will checkout code from source control; {{scm}} is a special variable which instructs the {{checkout}} step to clone the specific revision which triggered this Pipeline run.|\r\n\r\n \r\n To reproduce:\r\n * Merge to branch (abc)\r\n * start pipeline\r\n * pipeline waits for continue (input message)\r\n * push new change to branch (xyz)\r\n * resume pipeline\r\n\r\nExpect:\r\n * pipeline resume abc\r\n\r\nObserve:\r\n * pipeline resume xyz\r\n  \r\n\r\nWorkaround for as - use explicit checkout git commit\r\n\r\nvariable _GIT_COMMIT_ we defined at the beginning of Pipeline: \r\n\r\ndef scmVars = checkout scm\r\n env.GIT_COMMIT = scmVars.GIT_COMMIT\r\n\r\n \r\n\r\nAnd we see that checkout show different results:\r\n\r\n \r\n{code:java}\r\ncheckout scm: [$class: 'GitSCM', branches: [[name: \"${GIT_COMMIT}\"]]]\r\nsh 'cat new_files'\r\n// abc{code}\r\n \r\n{code:java}\r\ncheckout scm\r\nsh 'cat new_files'\r\n// xyz{code}\r\n \r\n\r\nIt's a bug or feature? according to the doc - bug... (git plugin?)\r\n\r\n \r\n\r\nCan be related with JENKINS-59071 or JENKINS-43761\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b5dv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"checkout scm doesn't take revision that started the pipeline","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mzol","name":"mzol","key":"mzol","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Mykhailo Zolotarenko","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mzol","name":"mzol","key":"mzol","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Mykhailo Zolotarenko","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":" Jenkins 2.176.4, git-plugin 3.12.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60591/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"203612","self":"https://issues.jenkins-ci.org/rest/api/2/issue/203612","key":"JENKINS-60516","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60516/watchers","watchCount":2,"isWatching":false},"created":"2019-12-17T13:45:42.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-12-21T00:10:54.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"My developer is pushing the code in Dev branch of Bitbucket but in Jenkins it triggers Dev, Test, Stage and Prod pipeline though there is no changes deployed in Other branches and it simply redeploys the last commit in Test, Stage and Prod. But then why should any code push to DEV branch should trigger another pipelines.\r\n\r\nPlease note that every env pipeline is only checking out respective env branch for deployment. I had raised this issue with Bitbucket community as well but they confirmed that no issues seen from Bitbucket end and suggested to check from Jenkins end.\r\n\r\nIn my jenkins every pipeline is triggered based on \"Build whenever a change is pushed to Bitbucket\"","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b4qz:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Jenkins pipeline triggered for all branches on code commit in Develop branch","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=monalichaudhary","name":"monalichaudhary","key":"monalichaudhary","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Monali Chaudhary","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=monalichaudhary","name":"monalichaudhary","key":"monalichaudhary","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Monali Chaudhary","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60516/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"203539","self":"https://issues.jenkins-ci.org/rest/api/2/issue/203539","key":"JENKINS-60461","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60461/watchers","watchCount":2,"isWatching":false},"created":"2019-12-12T12:39:09.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["git","jenkins","plugins"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-12-14T04:54:09.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When a job is started & trying to checkout an unavailable commitId on a valid repository, then the GIT_COMMIT environment variable is still set but to the last fetched commit value.\r\n\r\n*As side effect, all post job steps or plugin working later will get a wrong value from the GIT_COMMIT & act on that wrong commit (github status events, etc...).*\r\n\r\nWhen a scm checkout fails & stop the build, the GIT_COMMIT value should not be set.\r\nh1. How to reproduce\r\nh2. scenario 1 in one step( see One step config.xml attached file)\r\n\r\nThis one will fail even on a clean/new workspace if nothing was initially fetched or if everything was wiped out\r\n - just run \"build with parameters\" & set \"unvalid treeish value\" as TREEISH value\r\n\r\n{quote}Started by user unknown or anonymous\r\n Rebuilds build #12\r\n Running as SYSTEM\r\n [EnvInject] - Loading node environment variables.\r\n Building in workspace c:\\w\\test wrong commit_id\r\n No credentials specified\r\n Wiping out workspace first.\r\n Cloning the remote Git repository\r\n Cloning repository [https://github.com/github/gitignore]\r\n > git.exe init c:\\w\\test wrong commit_id # timeout=10\r\n Fetching upstream changes from [https://github.com/github/gitignore]\r\n > git.exe --version # timeout=10\r\n > git.exe fetch --tags --progress [https://github.com/github/gitignore] +refs/heads/*:refs/remotes/origin/* # timeout=180\r\n > git.exe config remote.origin.url [https://github.com/github/gitignore] # timeout=10\r\n > git.exe config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n > git.exe config remote.origin.url [https://github.com/github/gitignore] # timeout=10\r\n Fetching upstream changes from [https://github.com/github/gitignore]\r\n > git.exe fetch --tags --progress [https://github.com/github/gitignore] +refs/heads/*:refs/remotes/origin/* # timeout=180\r\n > git.exe rev-parse \"origin/unvalid treeish value^\r\n Unknown macro: \\{commit}\r\n \" # timeout=10\r\n > git.exe rev-parse \"unvalid treeish value^\r\n\r\n\" # timeout=10\r\n ERROR: Couldn't find any revision to build. Verify the repository and branch configuration for this job.\r\n GIT COMMIT is: 21e9f06539cdbc1ccbbb2ce59cd667be3e172fc8\r\n Finished: FAILURE\r\n{quote}\r\n*GIT_COMMIT* is set anyway to 21e9f06539cdbc1ccbbb2ce59cd667be3e172fc8 ! shouldn't be set !\r\nh2. scenario 2, restarting a build by setting a wrong TREEISH the second time (attached sample config 1.xml file)\r\n # Run the job a first time on master to initialize the workspace\r\n{quote}Started by an SCM change\r\n Running as SYSTEM\r\n [EnvInject] - Loading node environment variables.\r\n Building in workspace c:\\w\\test wrong commit_id\r\n No credentials specified\r\n > git.exe rev-parse --is-inside-work-tree # timeout=10\r\n Fetching changes from the remote Git repository\r\n > git.exe config remote.origin.url [https://github.com/github/gitignore] # timeout=10\r\n Fetching upstream changes from [https://github.com/github/gitignore]\r\n > git.exe --version # timeout=10\r\n > git.exe fetch --tags --progress [https://github.com/github/gitignore] +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n > git.exe rev-parse \"origin/master^\r\n Unknown macro: \\{commit}\r\n \" # timeout=10\r\n Checking out Revision 21e9f06539cdbc1ccbbb2ce59cd667be3e172fc8 (origin/master)\r\n > git.exe config core.sparsecheckout # timeout=10\r\n > git.exe checkout -f 21e9f06539cdbc1ccbbb2ce59cd667be3e172fc8 # timeout=10\r\n Commit message: \"Added jarRepositories.xml as an optional ignore (#3254)\"\r\n First time build. Skipping changelog.\r\n GIT COMMIT is: 21e9f06539cdbc1ccbbb2ce59cd667be3e172fc8\r\n Finished: SUCCESS\r\n{quote}\r\n # Run a second time with a bad treeish value \"unvalid treeish value\"\r\n{quote}Started by user unknown or anonymous\r\n Rebuilds build #8\r\n Running as SYSTEM\r\n [EnvInject] - Loading node environment variables.\r\n Building in workspace c:\\w\\test wrong commit_id\r\n No credentials specified\r\n > git.exe rev-parse --is-inside-work-tree # timeout=10\r\n Fetching changes from the remote Git repository\r\n > git.exe config remote.origin.url [https://github.com/github/gitignore] # timeout=10\r\n Fetching upstream changes from [https://github.com/github/gitignore]\r\n > git.exe --version # timeout=10\r\n > git.exe fetch --tags --progress [https://github.com/github/gitignore] +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n > git.exe rev-parse \"origin/unvalid treeish value^\r\n Unknown macro: \\{commit}\r\n \" # timeout=10\r\n > git.exe rev-parse \"unvalid treeish value^\r\n\r\n\" # timeout=10\r\n ERROR: Couldn't find any revision to build. Verify the repository and branch configuration for this job.\r\n GIT COMMIT is: 21e9f06539cdbc1ccbbb2ce59cd667be3e172fc8\r\n Finished: FAILURE\r\n{quote}\r\nThe GIT_COMMIT env var is set anyway to the previous active fetched versoin of the previous build ! instead of not being set as the checkout out failed.\r\n\r\nh1.  \r\n\r\nExtra info\r\n\r\nGroovy Post build step to display the GIT_COMMIT env value:\r\n{code:java}\r\ndef v = manager.envVars.get(\"GIT_COMMIT\")\r\nmanager.listener.logger.println(\"GIT COMMIT is: \"+v)\r\n{code}\r\nThx in advance,\r\n Best regards","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b4b7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"GIT_COMMIT shouldn't be set when scm git failed on a wrong treeish","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=llecaroz","name":"llecaroz","key":"llecaroz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Louis Lecaroz","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=llecaroz","name":"llecaroz","key":"llecaroz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Louis Lecaroz","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60461/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"203515","self":"https://issues.jenkins-ci.org/rest/api/2/issue/203515","key":"JENKINS-60440","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60440/watchers","watchCount":5,"isWatching":false},"created":"2019-12-11T11:45:24.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["credentials","vault"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"41385","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/41385","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"201475","key":"JENKINS-59085","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201475","fields":{"summary":"Ability use vault plugin in combination with other plugins that require credentials","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681}}}},{"id":"41384","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/41384","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"202565","key":"JENKINS-59830","self":"https://issues.jenkins-ci.org/rest/api/2/issue/202565","fields":{"summary":"Support google cloud source repos with git client plugin","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680}}}},{"id":"41383","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/41383","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"175898","key":"JENKINS-39374","self":"https://issues.jenkins-ci.org/rest/api/2/issue/175898","fields":{"summary":"Add ability to get SCM authentication tokens from Vault","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680}}}}],"assignee":null,"updated":"2020-05-29T14:00:17.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21682","id":"21682","name":"hashicorp-vault-plugin","description":"subcomponent"}],"customfield_10250":null,"description":"My Jenkins master is running Debian 9 with Jenkins 2.208, Git-plugin 4.0.0 and Hashicorp-vault-plugin 3.0.0. My Jenkins agent is running Debian 9 with Swarm-client plugin 3.17. My master is set to 0 executors so that all jobs run on the agent. I have my Bitbucket credentials saved in Jenkins 3 times - \"Username with password\", \"Vault Username-Password Credential\" with K/V engine 1 and \"Vault Username-Password Credential\" with K/V engine 2.\r\n\r\nI have a test freestyle job that does nothing except fetch a Git repository from [https://bitbucket.org/...] If set the job's Git credentials to use the \"Username with password\" credentials then the agent successfully fetches the repository. If I use either of the \"Vault Username-Password Credential\" credentials then the agent fails on the command \"git fetch --tags --progress ...\" with \"remote: Invalid username or password\"\r\n\r\nIn a pipeline job with script from SCM, the master is able to fetch the repository with all 3 credential types but the agent can only fetch when using \"Username with password\" credentials - it is unable to fetch with \"Vault Username-Password Credential\" credentials.\r\n\r\nBitbucket usernames are email addresses so they contain \"@\" special character. In Vault I have tried URL encoding the username to \"user%40domain.com\" but this causes the master to also fail with invalid username.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b45v:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Invalid git username/password on Jenkins agent when using Vault Username-Password Credential with '@' in username","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=elgordo","name":"elgordo","key":"elgordo","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Gordon Li","active":true,"timeZone":"Europe/London"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=elgordo","name":"elgordo","key":"elgordo","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Gordon Li","active":true,"timeZone":"Europe/London"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"VM host: Windows 10 1909 running Docker Desktop Community 19.03.5\r\nJenkins master: Docker image jenkins/jenkins:latest\r\nJenkins agent: Docker image openjdk:8-stretch + Swarm-Client 3.17 plugin\r\nHashicorp Vault: Docker image vault:latest","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60440/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"203175","self":"https://issues.jenkins-ci.org/rest/api/2/issue/203175","key":"JENKINS-60204","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60204/watchers","watchCount":4,"isWatching":false},"created":"2019-11-18T18:58:52.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-11-21T01:48:38.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"git-plugin 3.12 works without any problem.\r\n{code:java}\r\n> git submodule update --remote impl/tool_protec # timeout=10\r\nError when executing always post condition:\r\norg.jenkinsci.plugins.workflow.steps.MissingContextVariableException: Required context class hudson.FilePath is missing\r\nPerhaps you forgot to surround the code with a step that provides this, such as: node\r\n\tat org.jenkinsci.plugins.workflow.steps.StepDescriptor.checkContextAvailability(StepDescriptor.java:266)\r\n\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:263)\r\n\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:179)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n\tat sun.reflect.GeneratedMethodAccessor849.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:160)\r\n\tat org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\r\n\tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:157)\r\n\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:158)\r\n\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:162)\r\n\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\tat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\r\n\tat kyotoPipeline.call(kyotoPipeline.groovy:293)\r\n\tat ___cps.transform___(Native Method)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\r\n\tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\r\n\tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\r\n\tat sun.reflect.GeneratedMethodAccessor683.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n\tat com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.dispatch(CollectionLiteralBlock.java:55)\r\n\tat com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.item(CollectionLiteralBlock.java:45)\r\n\tat sun.reflect.GeneratedMethodAccessor704.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n\tat com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.dispatch(CollectionLiteralBlock.java:55)\r\n\tat com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.item(CollectionLiteralBlock.java:45)\r\n\tat sun.reflect.GeneratedMethodAccessor704.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:89)\r\n\tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\r\n\tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\r\n\tat sun.reflect.GeneratedMethodAccessor683.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n\tat com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.dispatch(CollectionLiteralBlock.java:55)\r\n\tat com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.item(CollectionLiteralBlock.java:45)\r\n\tat sun.reflect.GeneratedMethodAccessor704.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n\tat com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\r\n\tat com.cloudbees.groovy.cps.Next.step(Next.java:83)\r\n\tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\r\n\tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\r\n\tat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\r\n\tat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\r\n\tat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\r\n\tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\r\n\tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:186)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:370)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$200(CpsThreadGroup.java:93)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:282)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:270)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:67)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:131)\r\n\tat jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\r\n\tat jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\tSuppressed: java.lang.IllegalArgumentException: Failed to prepare jacoco step\r\n\t\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeDescribable(DSL.java:419)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:182)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n\t\tat sun.reflect.GeneratedMethodAccessor849.invoke(Unknown Source)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n\t\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n\t\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\r\n\t\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n\t\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n\t\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\t\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:160)\r\n\t\tat org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\r\n\t\tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:157)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:158)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:162)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\r\n\t\tat kyotoPipeline.call(kyotoPipeline.groovy:311)\r\n\t\tat ___cps.transform___(Native Method)\r\n\t\tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\r\n\t\t... 36 more\r\n\tCaused by: org.codehaus.groovy.runtime.InvokerInvocationException: org.jenkinsci.plugins.workflow.steps.MissingContextVariableException: Required context class hudson.FilePath is missing\r\nPerhaps you forgot to surround the code with a step that provides this, such as: node\r\n\t\tat org.jenkinsci.plugins.workflow.cps.CpsStepContext.replay(CpsStepContext.java:496)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:317)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeDescribable(DSL.java:417)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:182)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n\t\tat sun.reflect.GeneratedMethodAccessor849.invoke(Unknown Source)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n\t\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n\t\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\r\n\t\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n\t\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n\t\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\t\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:160)\r\n\t\tat org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\r\n\t\tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:157)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:158)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:162)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\r\n\t\t... 37 more\r\n\tCaused by: org.jenkinsci.plugins.workflow.steps.MissingContextVariableException: Required context class hudson.FilePath is missing\r\nPerhaps you forgot to surround the code with a step that provides this, such as: node\r\n\t\tat org.jenkinsci.plugins.workflow.steps.StepDescriptor.checkContextAvailability(StepDescriptor.java:266)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:263)\r\n\t\t... 59 more\r\n\tSuppressed: org.jenkinsci.plugins.workflow.steps.MissingContextVariableException: Required context class hudson.Launcher is missing\r\nPerhaps you forgot to surround the code with a step that provides this, such as: node\r\n\t\tat org.jenkinsci.plugins.workflow.steps.StepDescriptor.checkContextAvailability(StepDescriptor.java:266)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:263)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:179)\r\n\t\tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n\t\tat sun.reflect.GeneratedMethodAccessor849.invoke(Unknown Source)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n\t\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n\t\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\r\n\t\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n\t\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n\t\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\t\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:160)\r\n\t\tat org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\r\n\t\tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:157)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:158)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:162)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:132)\r\n\t\tat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\r\n\t\tat kyotoPipeline.call(kyotoPipeline.groovy:318)\r\n\t\tat ___cps.transform___(Native Method)\r\n\t\tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\r\n\t\tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\r\n\t\tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixName(FunctionCallBlock.java:78)\r\n\t\tat sun.reflect.GeneratedMethodAccessor685.invoke(Unknown Source)\r\n\t\t... 27 more\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] End of Pipeline\r\n[Bitbucket] Notifying commit build result\r\n[Bitbucket] Build result notified\r\nhudson.plugins.git.GitException: Command \"git submodule update --remote impl/tool_protec\" returned status code 1:\r\nstdout: \r\nstderr: fatal: Needed a single revision\r\nUnable to find current origin/development revision in submodule path 'impl/tool_protec'\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2372)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1985)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.access$500(CliGitAPIImpl.java:80)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$7.lambda$execute$0(CliGitAPIImpl.java:1409)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:253)\r\n\tat java.util.concurrent.ExecutorCompletionService.submit(ExecutorCompletionService.java:181)\r\n\tat org.jenkinsci.plugins.gitclient.cgit.GitCommandsExecutor.submitRemainingCommand(GitCommandsExecutor.java:75)\r\n\tat org.jenkinsci.plugins.gitclient.cgit.GitCommandsExecutor.invokeAll(GitCommandsExecutor.java:69)\r\nAlso:   hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from 10.78.0.154/10.78.0.154:49758\r\n\t\tat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1743)\r\n\t\tat hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:357)\r\n\t\tat hudson.remoting.Channel.call(Channel.java:957)\r\n\t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.execute(RemoteGitImpl.java:146)\r\n\t\tat sun.reflect.GeneratedMethodAccessor855.invoke(Unknown Source)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.invoke(RemoteGitImpl.java:132)\r\n\t\tat com.sun.proxy.$Proxy119.execute(Unknown Source)\r\n\t\tat hudson.plugins.git.extensions.impl.SubmoduleOption.onCheckoutCompleted(SubmoduleOption.java:149)\r\n\t\tat hudson.plugins.git.GitSCM.checkout(GitSCM.java:1223)\r\n\t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:124)\r\n\t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:93)\r\n\t\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:80)\r\n\t\tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n\t\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nCaused: hudson.plugins.git.GitException\r\n\tat org.jenkinsci.plugins.gitclient.cgit.GitCommandsExecutor.checkResult(GitCommandsExecutor.java:87)\r\n\tat org.jenkinsci.plugins.gitclient.cgit.GitCommandsExecutor.invokeAll(GitCommandsExecutor.java:68)\r\n\tat org.jenkinsci.plugins.gitclient.cgit.GitCommandsExecutor.invokeAll(GitCommandsExecutor.java:47)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$7.execute(CliGitAPIImpl.java:1412)\r\n\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:161)\r\n\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$GitCommandMasterToSlaveCallable.call(RemoteGitImpl.java:154)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:212)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n\tat hudson.remoting.Request$2.run(Request.java:369)\r\n\tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:93)\r\nCaused: java.io.IOException: Could not perform submodule update\r\n\tat hudson.plugins.git.extensions.impl.SubmoduleOption.onCheckoutCompleted(SubmoduleOption.java:154)\r\n\tat hudson.plugins.git.GitSCM.checkout(GitSCM.java:1223)\r\n\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:124)\r\n\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:93)\r\n\tat org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:80)\r\n\tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nFinished: FAILURE\r\n{code}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b26z:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"git plugin 4.0.0 submodule shallow clone fails without local branch (detached HEAD)","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=benbrummer","name":"benbrummer","key":"benbrummer","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Benjamin Brummer","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=benbrummer","name":"benbrummer","key":"benbrummer","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Benjamin Brummer","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.190.2\r\ngit-plugin 4.0.0","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60204/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"203111","self":"https://issues.jenkins-ci.org/rest/api/2/issue/203111","key":"JENKINS-60159","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60159/watchers","watchCount":3,"isWatching":false},"created":"2019-11-13T22:00:42.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-11-14T17:52:43.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Sometimes when building an existing multi-branch pipeline, the build is incorrectly regarded as first-time. The console log shows \"First time build. Skipping changelog.\" ,and the build-overview says \"no changes\", both incorrectly.\r\n\r\n \r\n\r\nThis results in confusion whether commits/merges have been done correctly as they are not visible.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0b1sr:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Multibranch pipeline - existing branch seen as first time build","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=thomasminke","name":"thomasminke","key":"thomasminke","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=thomasminke&avatarId=22870","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=thomasminke&avatarId=22870","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=thomasminke&avatarId=22870","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=thomasminke&avatarId=22870"},"displayName":"Thomas Minke","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=thomasminke","name":"thomasminke","key":"thomasminke","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=thomasminke&avatarId=22870","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=thomasminke&avatarId=22870","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=thomasminke&avatarId=22870","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=thomasminke&avatarId=22870"},"displayName":"Thomas Minke","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"git-plugin:4.0.0 git-client-plugin:3.0.0. Jenkins:2.204. AWS Linux AMI 2. ","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-60159/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"202524","self":"https://issues.jenkins-ci.org/rest/api/2/issue/202524","key":"JENKINS-59794","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59794/watchers","watchCount":2,"isWatching":false},"created":"2019-10-15T19:27:24.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["submodules"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-11-06T20:36:07.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When you specify the branch name as a '.' (period) in .gitModules you should be able to use the --remote option to update submodules to the head the branch that matches the parent branch.\r\n\r\nWhen doing this in Jenkins we get the following error: \r\n{code:java}\r\nhudson.plugins.git.GitException: Command \"/usr/bin/git submodule update --init --recursive --remote curavi-common\" returned status code 1:\r\nstdout: \r\nstderr: Cloning into 'curavi-common'...\r\nfatal: Needed a single revision\r\nUnable to find current origin/. revision in submodule path 'curavi-common'\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2042)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1761)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.access$400(CliGitAPIImpl.java:72)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$7.execute(CliGitAPIImpl.java:1202)\r\n\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$1.call(RemoteGitImpl.java:153)\r\n\tat org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$1.call(RemoteGitImpl.java:146)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:212)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n\tat hudson.remoting.Request$2.run(Request.java:369)\r\n\tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused: java.io.IOException: Could not perform submodule update\r\n\tat hudson.plugins.git.extensions.impl.SubmoduleOption.onCheckoutCompleted(SubmoduleOption.java:113)\r\n\tat hudson.plugins.git.GitSCM.checkout(GitSCM.java:1270)\r\n\tat hudson.scm.SCM.checkout(SCM.java:504)\r\n\tat hudson.model.AbstractProject.checkout(AbstractProject.java:1208)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:574)\r\n\tat jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:499)\r\n\tat hudson.model.Run.execute(Run.java:1818)\r\n\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n\tat hudson.model.Executor.run(Executor.java:429)\r\nFinished: FAILURE\r\n{code}\r\nExample .gitModule:\r\n{code:java}\r\n[submodule \"curavi-common\"]\r\n    path = curavi-common\r\n    url = git@bitbucket.org:curavihealth/curavi-common.git\r\n    branch = .\r\n\r\n{code}\r\nI've check the 'Update tracking submodules to tip of branch' option under \"Advanced sub-module behaviors.\r\n\r\nI'm expecting the job to clone my parent project and then get the HEAD of submodule with the same branch name. Locally this works by running 'git submodule update --remote'  However this fails with the stack trace above.\r\n\r\nThanks!","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0ayzn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Using a period as the branch name in .gitModules does not work.","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=captrespect","name":"captrespect","key":"captrespect","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16493","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16493","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16493","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16493"},"displayName":"Jon Roberts","active":true,"timeZone":"America/New_York"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=captrespect","name":"captrespect","key":"captrespect","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16493","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16493","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16493","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16493"},"displayName":"Jon Roberts","active":true,"timeZone":"America/New_York"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59794/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"202491","self":"https://issues.jenkins-ci.org/rest/api/2/issue/202491","key":"JENKINS-59768","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59768/watchers","watchCount":1,"isWatching":false},"created":"2019-10-14T01:32:34.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/2","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-11-09T14:11:18.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"pipeline中Jenkinsfile来源是一个gitlab项目，当配置该项目时项目名称或分支使用参数如${Parameter}时，此时git轮询就会失效，无法获取到git更新。\r\n\r\n1） pipeline设置轮询策略为 * * * * *，有变更时会触发构建。\r\n\r\n2） Jenkinsfile来源是一个gitlab项目，Jenkinsfile中监控的项目也使用gitlab\r\n\r\n3)   在jenkinsfile中配置gitlab项目时，项目名称或分支使用参数如${Parameter}\r\n\r\n===》》git轮询就会失效，gitlab有更新却无法触发新的构建。","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0aysb:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"When project name or branch uses parameters such as ${Parameter}, git updates are not detected","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=zhurui9975","name":"zhurui9975","key":"zhurui9975","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16501","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16501","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16501","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16501"},"displayName":"zhu rui","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=zhurui9975","name":"zhurui9975","key":"zhurui9975","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16501","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16501","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16501","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16501"},"displayName":"zhu rui","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins:2.150.1\r\n","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59768/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"202454","self":"https://issues.jenkins-ci.org/rest/api/2/issue/202454","key":"JENKINS-59736","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59736/watchers","watchCount":1,"isWatching":false},"created":"2019-10-10T21:10:53.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-10-11T05:46:15.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Reproduce steps:\r\n * Create branch\r\n * Execute pipeline with LocalBranch\r\n * Add commits to branch\r\n * Repeat pipeline in same workspace - no new commits will be used from original\r\n\r\nCriteria to reproduce:\r\n * Usage of LocalBranch extension\r\n * Usage of original branch name containig '/' symbol\r\n\r\nProblem in class:\r\n{code:java}\r\nhudson.plugins.git.util.DefaultBuildChooser#getCandidateRevisions\r\n{code}\r\nExample Pipeline:\r\n{code:java}\r\nnode('master') {\r\n    stage('Checkout'){\r\n        script {\r\n            String url = 'https://example.com/repository.git'\r\n            //: Branch name containing `/` symbol\r\n            String branch = 'feature/branch'\r\n            String credentialsId = 'secret-credentials'\r\n\r\n            //: Checkout original\r\n            checkout scm: [\r\n                $class: 'GitSCM',\r\n                userRemoteConfigs: [\r\n                    [\r\n                        url: url,\r\n                        credentialsId: credentialsId\r\n                    ]\r\n                ],\r\n                extensions: [[$class: 'LocalBranch']],\r\n                branches: [\r\n                    [name: branch]\r\n                ]\r\n            ]\r\n\r\n            //: Change local history\r\n            sh('git reset --hard HEAD^')\r\n\r\n            //: Checkout one more time - local history will be used\r\n            checkout scm: [\r\n                $class: 'GitSCM',\r\n                userRemoteConfigs: [\r\n                    [\r\n                        url: url,\r\n                        credentialsId: credentialsId\r\n                    ]\r\n                ],\r\n                extensions: [[$class: 'LocalBranch']],\r\n                branches: [\r\n                    [name: branch]\r\n                ]\r\n            ]\r\n\r\n        }\r\n    }\r\n}\r\n{code}\r\nWorkaround:\r\n\r\nExecute before checkout\r\n{code:java}\r\nsh('rm -rf .git/refs/heads/*')\r\n{code}\r\nTo remove local branches refs","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0ayk3:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"No new commits used if LocalBranch checked in same workspace","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=xxxbobrxxx","name":"xxxbobrxxx","key":"xxxbobrxxx","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"vladislav piskunov","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=xxxbobrxxx","name":"xxxbobrxxx","key":"xxxbobrxxx","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"vladislav piskunov","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Any version from ","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59736/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"202266","self":"https://issues.jenkins-ci.org/rest/api/2/issue/202266","key":"JENKINS-59622","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59622/watchers","watchCount":3,"isWatching":false},"created":"2019-10-02T09:39:18.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-10-03T15:34:32.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Hi, team,\r\n\r\nWhen we use the ‘Sparse Checkout paths’ of Additional Behaviours, we meet one question.\r\n\r\nEnvironment Descriptions:\r\nJenkins running type: Docker\r\nJenkins Job type: Pipeline\r\nSparse Checkout Path: test\r\nScript Path: test/Jenkinsfile\r\n\r\nQuestion Descriptions:\r\nUnder test/, we had two files, one is Jenkinsfile, the other one is one shell script which will be called by Jenkinsfile.\r\n\r\nAfter configuring the git source, and specified the Sparse checkout paths by adding an additional behaviour and Script Path as above,\r\nthe first build can be run successfully.\r\n\r\nAnd then, we change the Code Structure to Git server side.\r\nMoved Jenkinsfile and Shell script to test/test1/.\r\nAnd indisde Jenkins job, changed Sparse Checkout path from test to test/test1, changed Script Path from test/Jenkinsfile to test/test1/Jenkinsfile.\r\n\r\nAnd executed the second build, Console output of Jenkins threw one error:\r\nstderr: error: Entry ‘test/Jenkinsfile’ not uptodate. Cannot update sparse checkout.\r\n\r\nAfter investigation, we found that the Jenkins workspace haven’t be updated to the new code structure, still the old one.\r\nIf we clean the workspace manually, the build can be run successfully.\r\n\r\nHow to implement this in Jenkins automatically?\r\n\r\nPlease help to investigate this issue.\r\n\r\nThanks in advance. ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0axmj:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Sparse checkout definition change not applied to workspace","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=yunquaner","name":"yunquaner","key":"yunquaner","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16498","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16498","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16498","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16498"},"displayName":"Wang Yuan Yuan","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=yunquaner","name":"yunquaner","key":"yunquaner","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16498","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16498","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16498","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16498"},"displayName":"Wang Yuan Yuan","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59622/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"202239","self":"https://issues.jenkins-ci.org/rest/api/2/issue/202239","key":"JENKINS-59598","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59598/watchers","watchCount":2,"isWatching":false},"created":"2019-10-01T01:31:11.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-10-01T02:45:34.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"The git extension h.p.g.e.PreBuildMerge Merge before build is using master workspace to try merging git branches.\r\n\r\nBut if executed concurrently this can cause concurrent access to git lock file stderr: fatal: Unable to create '/var/jenkins_home/workspace/pipeline-foo@script/.git/index.lock': File exists.\r\n\r\nQuick look at it maybe possible options/ideas:\r\n * mark the extension requiresWorkspaceForPolling\r\n\r\n * override change method getWorkingDirectory to return a new directory if context.isConcurrentBuild()\r\n\r\n * override decorateCheckoutCommand to use different directory","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0axgj:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin \"Merge before build\" option with concurrent build cause git lock issue","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=olamy","name":"olamy","key":"olamy","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Olivier Lamy","active":true,"timeZone":"Australia/Brisbane"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=olamy","name":"olamy","key":"olamy","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Olivier Lamy","active":true,"timeZone":"Australia/Brisbane"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59598/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"202139","self":"https://issues.jenkins-ci.org/rest/api/2/issue/202139","key":"JENKINS-59516","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59516/watchers","watchCount":4,"isWatching":false},"created":"2019-09-24T18:24:22.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["git","git-lfs","git-submodule"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"41254","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/41254","type":{"id":"10121","name":"Relates","inward":"relates to","outward":"relates to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10121"},"inwardIssue":{"id":"198184","key":"JENKINS-56569","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198184","fields":{"summary":"Prevent automatic pulling of lfs files if no GitLFSPull option is set","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2019-11-19T23:22:23.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"As far as I can tell, there is no way to checkout LFS files for git submodules using the Source Code Management tab of the configure screen. This means that I am currently unable to build projects with jenkins that are dependent on a git project with submodules that have LFS files.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0awub:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"There is no way to pull LFS files for submodules in GIT","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=lucasvw","name":"lucasvw","key":"lucasvw","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16492","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16492","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16492","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16492"},"displayName":"Lucas Vander Wal","active":true,"timeZone":"America/Chicago"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=lucasvw","name":"lucasvw","key":"lucasvw","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16492","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16492","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16492","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16492"},"displayName":"Lucas Vander Wal","active":true,"timeZone":"America/Chicago"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59516/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"201878","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201878","key":"JENKINS-59327","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59327/watchers","watchCount":2,"isWatching":false},"created":"2019-09-12T07:06:16.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-17T04:34:35.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Hi Team,\r\n\r\nWhen I am creating Multibranch Pipeline job which executes another pipeline job as a branch apparently it's not reading git credentials in branch. \r\nSo in a branch which is a pipeline script, I have stage stage('git checkout') \\{\r\n    stage('git checkout') {\r\n        steps { \r\n            git credentialsId: 'My credentials', poll: false, url: 'mygit.git' }}\r\nBut it's falling on Windows machine with the following error. When I create just a simple pipeline job with the same stage it's working as should.\r\nFrom test which I did when I specified credentials in a multibranch job which is managing my script in the branch then it's working. \r\nSo apparently git credentials from the stage are ignored.\r\n\r\nSteps to Reproduce:\r\n1. Create Multibranch Job without specified git credentials with script-path where is a script.\r\n2. In a script create step with git checkout and specified credentials\r\n3. Run the branch script and it should fail.\r\n4. Add in Multibranch configuration credentials and run branch script it should work.\r\n\r\n\r\n\r\n\r\n\r\n{noformat}\r\nNo credentials specified\r\nNo credentials specified\r\nWiping out workspace first.\r\nCloning the remote Git repository\r\nCloning with configured refspecs honoured and without tags\r\nERROR: Error cloning remote repo 'origin'hudson.plugins.git.GitException: Command \"C:\\Program Files\\Git\\cmd\\git.exe fetch --no-tags --force --progress MyRepo.git +refs/heads/*:refs/remotes/origin/*\" returned status code 128:\r\nstdout: \r\nstderr: mygitserver: Permission denied (publickey).fatal: Could not read from remote repository.\r\nPlease make sure you have the correct access rightsand the repository exists.\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2042) \r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1761)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.access$400(CliGitAPIImpl.java:72)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl$1.execute(CliGitAPIImpl.java:442)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl$2.execute(CliGitAPIImpl.java:655)\r\n at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$1.call(RemoteGitImpl.java:153)\r\n at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$1.call(RemoteGitImpl.java:146)\r\n at hudson.remoting.UserRequest.perform(UserRequest.java:212)\r\n at hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n at hudson.remoting.Request$2.run(Request.java:369)\r\n at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)\r\n at java.util.concurrent.FutureTask.run(Unknown Source)\r\n at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n at hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:93)\r\n at java.lang.Thread.run(Unknown Source) Suppressed: hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from mymachine at hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1743) at hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:357) at hudson.remoting.Channel.call(Channel.java:957) at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.execute(RemoteGitImpl.java:146) at sun.reflect.GeneratedMethodAccessor391.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.invoke(RemoteGitImpl.java:132) at com.sun.proxy.$Proxy83.execute(Unknown Source) at hudson.plugins.git.GitSCM.retrieveChanges(GitSCM.java:1152) at hudson.plugins.git.GitSCM.checkout(GitSCM.java:1192) at org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:124) at org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:93) at org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:80) at org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748)\r\n{noformat}\r\n\r\n","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0avcr:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Allow a downstream job to use credentials from an upstream job","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=somedude","name":"somedude","key":"somedude","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16499","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16499","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16499","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16499"},"displayName":"Matt White","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=somedude","name":"somedude","key":"somedude","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16499","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16499","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16499","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16499"},"displayName":"Matt White","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59327/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"201868","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201868","key":"JENKINS-59317","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59317/watchers","watchCount":1,"isWatching":false},"created":"2019-09-11T14:07:44.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-09-11T15:22:08.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Our internal build farm's connection to the internet has its flaws, ups and downs, and sometimes during the downs we see gems like this: an effectively failed SCM poll (\"Couldn't get remote head revision\") is interpreted as a \"Changes found\" situation, and causes a build \"Started by an SCM change\", as the (failed) build's Polling Log says:\r\n\r\n````\r\nPolling Log\r\n\r\nThis page captures the polling log that triggered this build.\r\n\r\nStarted on Sep 7, 2019 6:15:15 AM\r\nUsing strategy: Specific revision\r\n[poll] Last Built Revision: Revision dee1deac2b8bc60039ea3cd2907afa708a967486 (release/IPM_Infra-1.4)\r\nusing credential 955c217d-8133-41c2-9235-9ce3936ddca6\r\n > git --version # timeout=10\r\nusing GIT_ASKPASS to set credentials 42ity-ci GH Token as password\r\nSetting http proxy: thunderbolt.roz.lab.etn.com:8081\r\n > git ls-remote -h https://github.com/42ity/fty-outage.git # timeout=10\r\nUnexpected ls-remote output line ''\r\n[poll] Couldn't get remote head revision\r\nDone. Took 23 sec\r\nChanges found\r\n````\r\n\r\nIn this particular situation (outage) as a result, this build fails quickly during checkout of sources with \r\n```\r\n...\r\nCaused by: hudson.plugins.git.GitException: Command \"git fetch --tags --progress https://github.com/42ity/fty-outage.git +refs/heads/release/IPM_Infra-1.4:refs/remotes/origin/release/IPM_Infra-1.4\" returned status code 128:\r\nstdout: \r\nstderr: fatal: unable to access 'https://github.com/42ity/fty-outage.git/': The requested URL returned error: 503\r\n...\r\n```\r\nwhich is a reasonable outcome of a network outage (our proxy failed to fetch => 503)... however when the network comes back, the last-tried (green, long ago) revision is the same as the current HEAD, so no need to rebuild, as the branch's Git polling log says:\r\n````\r\nGit Polling Log\r\n\r\nStarted on Sep 11, 2019 1:59:13 PM\r\nUsing strategy: Specific revision\r\n[poll] Last Built Revision: Revision dee1deac2b8bc60039ea3cd2907afa708a967486 (release/IPM_Infra-1.4)\r\nusing credential 955c217d-8133-41c2-9235-9ce3936ddca6\r\n > git --version # timeout=10\r\nusing GIT_ASKPASS to set credentials 42ity-ci GH Token as password\r\nSetting http proxy: thunderbolt.roz.lab.etn.com:8081\r\n > git ls-remote -h https://github.com/42ity/fty-outage.git # timeout=10\r\n````\r\n\r\nSo we end up with with a latest-known state of a branch being \"failed\", more prominently so on still-tracked old releases that are in fact untouched for months and years (and won't be, unless a need for some hotfix arises). \r\n\r\nAs a workaround, I have to go to such jobs and manually rebuild them, so they do not pollute our logs and job lists with red lights, and do not trigger alarms we've made.\r\n\r\nI believe the undetermined HEAD revision should either not cause a build, or if as a failsafe we want to try one - be remembered as such (null?) and when the network comes back, cause a re-rebuild with a definitive commit, even if same as tried before, so the latest-build status converges to a valid up-to-date verdict.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0avaj:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Spurious SCM change with a failed git call (e.g. network error)","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jimklimov","name":"jimklimov","key":"jimklimov","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=jimklimov&avatarId=21979","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=jimklimov&avatarId=21979","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=jimklimov&avatarId=21979","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=jimklimov&avatarId=21979"},"displayName":"Jim Klimov","active":true,"timeZone":"Europe/Prague"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jimklimov","name":"jimklimov","key":"jimklimov","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=jimklimov&avatarId=21979","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=jimklimov&avatarId=21979","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=jimklimov&avatarId=21979","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=jimklimov&avatarId=21979"},"displayName":"Jim Klimov","active":true,"timeZone":"Europe/Prague"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59317/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"201660","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201660","key":"JENKINS-59210","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59210/watchers","watchCount":2,"isWatching":false},"created":"2019-09-03T19:10:48.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-11-06T19:28:49.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We need to make sure that commit SHA that triggered the build via webhook is the same SHA that the repo is being checkout out.\r\n\r\nh4. Use case:\r\n\r\nDev-1 merges changes to repo 'a'. Within seconds, Dev-2 merges changes to repo 'a'.\r\n\r\nh4. Expectation:\r\n\r\nEach commit triggers a separate build based on the webhook SHA that triggered the build.\r\n\r\nh4. Current result:\r\n\r\nSHA of Jenkinsfile might be not the same as checkout code, since the merges might happen within seconds of each other.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0au6z:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Build exactly the commit from the webhook","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=varsho","name":"varsho","key":"varsho","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16495","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16495","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16495","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16495"},"displayName":"Oleg Varshavsky","active":true,"timeZone":"America/Los_Angeles"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=varsho","name":"varsho","key":"varsho","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16495","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16495","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16495","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16495"},"displayName":"Oleg Varshavsky","active":true,"timeZone":"America/Los_Angeles"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins ver. 2.121.3\r\n\r\n- [git, '3.8.0']\r\n- [git-client, '2.7.1']\r\n- [git-server, '1.7']\r\n- [github, '1.29.0']\r\n- [github-api, '1.90']\r\n- [github-branch-source, '2.3.3']\r\n- [github-organization-folder, '1.6']","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59210/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"201472","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201472","key":"JENKINS-59082","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59082/watchers","watchCount":1,"isWatching":false},"created":"2019-08-26T12:18:48.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["jcasc-compatibility"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-08-27T11:47:19.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"There have been a number of bug reports where Multibranch Pipeline jobs wouldn't work properly, with checkout failures; particularly painful: the jobs appear to be working fine right after their creation, but only until Jenkins is restarted.\r\n\r\n[~stephenconnolly] kindly pointed out several times that the {{source}} element needs to have an {{id}} attribute, which is properly set when using the web interface. A job's on-disk configuration would ressemble this:\r\n\r\n{{<org.jenkinsci.plugins.workflow.multibranch.WorkflowMultiBranchProject plugin=\"workflow-multibranch@2.21\">}}\r\n{{…}}\r\n{{  <sources class=\"jenkins.branch.MultiBranchProject$BranchSourceList\" plugin=\"branch-api@2.5.4\">}}\r\n{{    <data>}}\r\n{{      <jenkins.branch.BranchSource>}}\r\n{{        <source class=\"jenkins.plugins.git.GitSCMSource\" plugin=\"git@3.12.0\">}}\r\n{{          <id>f0ca0205-e5ae-48e6-bb6c-46661a8bcc45</id>}}\r\n{{          <remote>https://salsa.debian.org/installer-team/apt-setup/</remote>}}\r\n{{          <traits>}}\r\n{{            <jenkins.plugins.git.traits.BranchDiscoveryTrait/>}}\r\n{{          </traits>}}\r\n{{        </source>}}\r\n{{      </jenkins.branch.BranchSource>}}\r\n{{    </data>}}\r\n{{    <owner class=\"org.jenkinsci.plugins.workflow.multibranch.WorkflowMultiBranchProject\" reference=\"../..\"/>}}\r\n{{</sources>}}\r\n{{…}}\r\n{{</org.jenkinsci.plugins.workflow.multibranch.WorkflowMultiBranchProject>}}\r\n\r\nMost bug reports were about automating addition of jobs, done through the Groovy console.\r\n\r\nThe following code excerpt makes it possible to add a Multibranch Pipeline job with a Git source:\r\n\r\n \r\n\r\n{{import jenkins.branch.*}}\r\n{{import jenkins.plugins.git.*}}\r\n{{import jenkins.plugins.git.traits.*}}\r\n{{import org.jenkinsci.plugins.workflow.multibranch.*}}\r\n\r\n{{name = \"test1\"}}\r\n{{repo = \"https://salsa.debian.org/installer-team/apt-setup/\"}}\r\n{{WorkflowMultiBranchProject mbp = Jenkins.instance.createProject(WorkflowMultiBranchProject.class, name)}}\r\n{{GitSCMSource gitSCMSource = new GitSCMSource(repo)}}\r\n{{gitSCMSource.setTraits([new BranchDiscoveryTrait()])}}\r\n{{BranchSource branchSource = new BranchSource(gitSCMSource)}}\r\n{{mbp.getSourcesList().add(branchSource)}}\r\n\r\nBut this results in a missing {{id}} attribute when looking at the on-disk configuration…\r\n\r\nReading Stephen's comments in other issues, I tried calling the {{setId()}} method, but that triggered an error since the {{id}} was said to be already set, so couldn't be set to another value.\r\n\r\nThat's what I've added a single line to print its current value, right after the object creation:\r\n\r\n{{GitSCMSource gitSCMSource = new GitSCMSource(repo)}}\r\n{{println gitSCMSource.id}}\r\n\r\nThis indeed prints an ID, and this mere {{println}} addition triggers the addition of that {{id}} attribute in the newly-generated job's {{config.xml}} file!\r\n\r\nSo it looks to my (non-Java/Jenkins/Groovy-expert) eyes that:\r\n * There might be something fishy going on when the {{id}} attribute isn't accessed/printed, leading to an apparently fine job, but only because there's an value that's only in-memory and not written to disk? That would explain why restarting Jenkins triggers the issue: the in-memory value is lost and can't be recovered when reloading from the job's {{config.xml}} file?\r\n * Printing the {{id}} attribute seems to trigger some side-effect that leads to the attribute being written to disk as required for the Git plugin to function properly.\r\n\r\n \r\n\r\nAll of this was originally discovered while preparing a migration for a customer on a fully configured instance, but was trivially reproduced with a bare Jenkins, installed without any plugins at first; where Pipeline and Git were added before performing the additions through the Groovy console. I'm happy to help provide more information, and possibly to test bugfixes.\r\n\r\n[Edited to fix highlight/syntax issues because both the visual and text editors are playing tricks on me.]","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0at7f:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Tracking down the missing id attribute","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=cyrilbrulebois","name":"cyrilbrulebois","key":"cyrilbrulebois","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Cyril Brulebois","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=cyrilbrulebois","name":"cyrilbrulebois","key":"cyrilbrulebois","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Cyril Brulebois","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.176.2 on Linux, with:\r\n- git-plugin 3.12.0\r\n- branch-api 2.5.4\r\n- workflow-multibranch 2.21","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59082/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"201453","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201453","key":"JENKINS-59071","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59071/watchers","watchCount":4,"isWatching":false},"created":"2019-08-25T11:15:24.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-02-12T09:46:22.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Currently the git-plugin can checkout the current head, or a specific commit, what I'm missing is an option to checkout the head at the time where the build has started.\r\n\r\nReason: if you have a pipeline build that was triggered at a certain time, and the devlopers checked in something before the checkout takes place these changes are picked up even if the build is already running for a while.\r\n\r\nFor example I have a pipeline that builds different repositories together one after the other. It now can happen that a build starts, checkout the first repository, then checkout the second but picks up changes commited at a later point at time (and fail because changes from the first repository are not taken into account).\r\n\r\nThe same happens if you replay a certain pipeline build, it always fetches the ltest changes and not the changes that where current at the time of the build (so replay is more a \"rebuild with different script\" because the build is not really replayed.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0at37:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git should include an option to \"checkout the revision at build-time\"","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=laeubi","name":"laeubi","key":"laeubi","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16494","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16494","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16494","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16494"},"displayName":"Christoph Läubrich","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=laeubi","name":"laeubi","key":"laeubi","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16494","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16494","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16494","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16494"},"displayName":"Christoph Läubrich","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59071/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"201360","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201360","key":"JENKINS-59008","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59008/watchers","watchCount":2,"isWatching":false},"created":"2019-08-20T11:05:52.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"40630","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/40630","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"198833","key":"JENKINS-57089","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198833","fields":{"summary":"Tag fails with merge before build triggered by GitLab","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/2","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2019-10-08T10:34:45.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Pipeline Jenkins build with\r\n\r\nSCM: GIT\r\n\r\nBranches to build: refs/tags/*_${RELEASE}_feature\r\n\r\nAdditional Behaviours: Merge before build\r\n\r\n \r\n\r\nfirst polled build is ok (change is detected and merged), see log\r\n\r\nsecond build triggered by hand gets error (no change), see log\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0asib:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Merge before build, reference is not a tree on second build","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=petekol","name":"petekol","key":"petekol","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"P K","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=petekol","name":"petekol","key":"petekol","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"P K","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"2.176.2\r\ngit-plugin 2.8.0","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-59008/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"201115","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201115","key":"JENKINS-58804","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-58804/watchers","watchCount":2,"isWatching":false},"created":"2019-08-05T08:00:30.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-08-05T12:52:17.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"The [branches to build/branch specifier/\"name\" help documentation on wildcard and regex values|https://github.com/jenkinsci/git-plugin/blob/a7ad6eb38a00397c4a656b53d99bfbad8ea3b2cc/src/main/resources/hudson/plugins/git/BranchSpec/help-name.html#L50-L78] talks only about branches, not tags.\r\n\r\nThis implies neither work with tags, but only branches. But I doubt that is the case?\r\n\r\nIt should talk about the more generic term _refs_, or name both types of refs explicitly: branches and tags.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0ar2j:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin branch to build/branch specifier help documentation on wilcards and regular expressions does not mention tags","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jk","name":"jk","key":"jk","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Jan Klass","active":true,"timeZone":"Europe/Berlin"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jk","name":"jk","key":"jk","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Jan Klass","active":true,"timeZone":"Europe/Berlin"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Git plugin 3.11.0","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-58804/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"200643","self":"https://issues.jenkins-ci.org/rest/api/2/issue/200643","key":"JENKINS-58503","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-58503/watchers","watchCount":4,"isWatching":false},"created":"2019-07-15T21:56:32.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"42163","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42163","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"206044","key":"JENKINS-62130","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206044","fields":{"summary":"Add @Symbol annotations to extenders of GitRepositoryBrowser and scm-api:SCMSourceTrait","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680}}}},{"id":"40230","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/40230","type":{"id":"10121","name":"Relates","inward":"relates to","outward":"relates to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10121"},"outwardIssue":{"id":"173314","key":"JENKINS-37227","self":"https://issues.jenkins-ci.org/rest/api/2/issue/173314","fields":{"summary":"Metastep support for checkout step","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681}}}}],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"updated":"2020-05-19T16:54:42.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Its currently possible to use the following dsl below when checking out code in a declarative pipeline:\r\n{noformat}\r\ncheckout(\r\n  git(\r\n    branches: [[name: '*/master']],\r\n    extensions: [[\r\n      $class: 'RelativeTargetDirectory', \r\n      relativeTargetDir: 'some-dir'\r\n    ]]\r\n  )\r\n){noformat}\r\n \r\n\r\nIt would be nice if it could support a richer dsl rather than the current $class syntax for extensions. e.g. something like:\r\n\r\n \r\n{noformat}\r\ncheckout(\r\n  git(\r\n    branches: [[name: '*/master']],\r\n    extensions: [[\r\n      relativeTargetDir('some-dir')\r\n    ]]\r\n  )\r\n){noformat}\r\n \r\n\r\nThis could be something i could help contribute if its acceptable?!\r\n\r\nh2. Implementation Process\r\n\r\n* List existing symbol definitions from configuration as code matched with {{$Class}} samples for that symbol (create a checklist of symbols to create)\r\n* Select a symbol and add a test for the symbol as a {{$Class}} form\r\n* Add the symbol\r\n* Add a test that uses the symbol instead of the {{$Class}} form\r\n* Confirm symbol appears in Pipeline syntax generator\r\n* Confirm symbol appears in Configuration as Code\r\n* Confirm configuration as code can still read previous configuration files\r\n* Write help for the symbol, assure it is clear, correct, complete, and visible in the online Pipeline syntax\r\n* Write documentation for the symbol in the plugin README so that it is available outside of Jenkins\r\n\r\nh3. Existing Symbol Definitions\r\n\r\n||JCasC Parent               ||JCasC Symbol              ||Class Sample                                    ||Symbol Sample                                     ||\r\n|Col A0                       |Col A1                     |Col A2                                           |                                                   |\r\n|git                          |branches                   |branches                                         |                                                   |\r\n|branches                     |name                       |branches: [[name: 'origin/master']]              |branches: [[name: 'origin/master']]                |\r\n|extensions                   |localBranch                |[$class:'LocalBranch', localBranch: '**']        |localBranch('**')                                  |\r\n|traits                       |localBranch                |N/A (not in a Jenkinsfile)                       |localBranchTrait                                   |\r\n\r\nSee the [Karl Shultz pull request|https://github.com/jenkinsci/git-plugin/pull/886] for progress.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0aorn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Symbols for Extensions","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=a1dutch","name":"a1dutch","key":"a1dutch","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Andrew Holland","active":true,"timeZone":"Europe/London"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=a1dutch","name":"a1dutch","key":"a1dutch","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Andrew Holland","active":true,"timeZone":"Europe/London"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"2.176.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-58503/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"200606","self":"https://issues.jenkins-ci.org/rest/api/2/issue/200606","key":"JENKINS-58471","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-58471/watchers","watchCount":1,"isWatching":false},"created":"2019-07-12T13:27:03.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-07-21T17:08:22.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Actual behavior\r\n\r\nWhen setting refspec like this: +refs/heads/${GIT_REF}:refs/remotes/origin/${GIT_REF}\r\n\r\nAnd after building a branch, the SCM polling does not find a match with git ls-remote and the built branch:\r\n\r\n \r\n{code:java}\r\n[poll] Last Built Revision: Revision ce9cc0a298fc94cafa4cc87e0bb1544b359ee752 (feature/20190711-FVE-test_job_scm)\r\n > git --version # timeout=10\r\n\r\n...\r\n\r\nIgnoring refs/heads/feature/20190711-FVE-test_job_scm as it doesn't match any of the configured refspecs\r\n\r\nNo changes\r\n{code}\r\n \r\n\r\n \r\n\r\nExpected behavior:\r\n\r\nThe SCM poll should keep the source refspec of the last build, in this case \"refs/heads/feature/20190711-FVE-test_job_scm\", and do a comparison with that, with git ls-remote:\r\n\r\n \r\n{code:java}\r\n[poll] Last Built Revision: Revision ce9cc0a298fc94cafa4cc87e0bb1544b359ee752 (feature/20190711-FVE-test_job_scm)\r\n > git --version # timeout=10\r\n\r\n...\r\n\r\n[poll] Latest remote head revision on refs/heads/feature/20190711-FVE-test_job_scm is: 4a598524b56af4493027828d7e2a5f1b3179ec82\r\nDone. Took 0.4 sec\r\nChanges found\r\n{code}\r\n \r\n\r\n \r\n\r\nWorkaround:\r\n\r\nI set the GIT_REFSPEC to:\r\n{code:java}\r\n+refs/heads/${GIT_REF}:refs/heads/${GIT_REF}{code}\r\nBut that is not optimal for us, because we want this to work with branches and tag, and this does not work for tags, thus the old value:\r\n{code:java}\r\n+refs/heads/${GIT_REF}:refs/remotes/origin/${GIT_REF}{code}\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0aojv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git SCM polling should use last built refspec instead of defined refspec","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=antoinetran","name":"antoinetran","key":"antoinetran","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Antoine Tran","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=antoinetran","name":"antoinetran","key":"antoinetran","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Antoine Tran","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.60.3\r\nGit client 2.7.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-58471/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"200464","self":"https://issues.jenkins-ci.org/rest/api/2/issue/200464","key":"JENKINS-58349","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-58349/watchers","watchCount":1,"isWatching":false},"created":"2019-07-04T15:26:38.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["git","jenkins","pipeline","plugin"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"40149","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/40149","type":{"id":"10000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10000"},"outwardIssue":{"id":"175390","key":"JENKINS-38973","self":"https://issues.jenkins-ci.org/rest/api/2/issue/175390","fields":{"summary":"Pipeline initial checkout of Jenkinsfile not honoring git timeout","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2019-07-08T16:53:06.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I have a pipeline projects that runs pipeline script from Git repo.\r\n\r\nThe repo became big, and the clone operation times out after 10 minutes.\r\n\r\nI added \"Advances checkout behaviours\" and \"Advances clone behaviours\" with much bigger timeout, but it still times out after 10 minutes.\r\n\r\n \r\n\r\n \r\nhudson.plugins.git.GitException: Command \"git fetch --tags --progress origin +refs/heads/master:refs/remotes/origin/master --prune\" returned status code 128:\r\nstdout: \r\nstderr: remote: Enumerating objects: 6828, done.        \r\nremote: Counting objects:   0% (1/6828)           \r\nremote: Counting objects:   1% (69/6828)           \r\n...\r\n\r\nReceiving objects:  24% (5538/22691), 8.95 MiB | 14.00 KiB/s   \r\nfatal: The remote end hung up unexpectedly\r\nfatal: early EOF\r\nfatal: index-pack failed\r\n\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2042)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandWithCredentials(CliGitAPIImpl.java:1761)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.access$400(CliGitAPIImpl.java:72)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl$1.execute(CliGitAPIImpl.java:442)\r\n\tat jenkins.plugins.git.GitSCMFileSystem$BuilderImpl.build(GitSCMFileSystem.java:351)\r\n\tat jenkins.scm.api.SCMFileSystem.of(SCMFileSystem.java:198)\r\n\tat jenkins.scm.api.SCMFileSystem.of(SCMFileSystem.java:174)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsScmFlowDefinition.create(CpsScmFlowDefinition.java:108)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsScmFlowDefinition.create(CpsScmFlowDefinition.java:67)\r\n\tat org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:293)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n\tat hudson.model.Executor.run(Executor.java:429)\r\nFinished: FAILURE","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0anob:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Initial lightweight checkout of Jenkinsfile much slower on huge repos","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=oren_icx","name":"oren_icx","key":"oren_icx","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Oren Shpigel","active":true,"timeZone":"Asia/Jerusalem"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=oren_icx","name":"oren_icx","key":"oren_icx","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Oren Shpigel","active":true,"timeZone":"Asia/Jerusalem"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.176.1\r\nGit plugin 3.10.0","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-58349/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"199505","self":"https://issues.jenkins-ci.org/rest/api/2/issue/199505","key":"JENKINS-57587","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-57587/watchers","watchCount":2,"isWatching":false},"created":"2019-05-21T18:59:01.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["NPE"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-12-20T13:20:07.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Jenkins 2.164.3 with Git Plugin 3.9.3\r\n\r\nWith the most basic Pipeline job from SCM with \"Lightweight checkout\" checked, the following NPE trace is the total job output.\r\n\r\n_Unchecking_ \"Lightweight checkout\" solves the immediate NPE issue and the job completes.\r\n\r\n{noformat}\r\nStarted by user <redacted>java.lang.NullPointerException\r\n at jenkins.plugins.git.GitSCMFileSystem$1.invoke(GitSCMFileSystem.java:117)\r\n at jenkins.plugins.git.GitSCMFileSystem$1.invoke(GitSCMFileSystem.java:114)\r\n at jenkins.plugins.git.GitSCMFileSystem$3.invoke(GitSCMFileSystem.java:193)\r\n at org.jenkinsci.plugins.gitclient.AbstractGitAPIImpl.withRepository(AbstractGitAPIImpl.java:29)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.withRepository(CliGitAPIImpl.java:72)\r\n at jenkins.plugins.git.GitSCMFileSystem.invoke(GitSCMFileSystem.java:189)\r\n at jenkins.plugins.git.GitSCMFileSystem.<init>(GitSCMFileSystem.java:114)\r\n at jenkins.plugins.git.GitSCMFileSystem$BuilderImpl.build(GitSCMFileSystem.java:353)\r\n at jenkins.scm.api.SCMFileSystem.of(SCMFileSystem.java:198)\r\n at jenkins.scm.api.SCMFileSystem.of(SCMFileSystem.java:174)\r\n at org.jenkinsci.plugins.workflow.cps.CpsScmFlowDefinition.create(CpsScmFlowDefinition.java:108)\r\n at org.jenkinsci.plugins.workflow.cps.CpsScmFlowDefinition.create(CpsScmFlowDefinition.java:67)\r\n at org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:293)\r\n at hudson.model.ResourceController.execute(ResourceController.java:97)\r\n at hudson.model.Executor.run(Executor.java:429)\r\nFinished: FAILURE\r\n{noformat}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0ai8r:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Lightweight checkout gives NPE","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jblaine","name":"jblaine","key":"jblaine","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=jblaine&avatarId=14794","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=jblaine&avatarId=14794","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=jblaine&avatarId=14794","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=jblaine&avatarId=14794"},"displayName":"Jeff Blaine","active":true,"timeZone":"America/New_York"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jblaine","name":"jblaine","key":"jblaine","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=jblaine&avatarId=14794","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=jblaine&avatarId=14794","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=jblaine&avatarId=14794","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=jblaine&avatarId=14794"},"displayName":"Jeff Blaine","active":true,"timeZone":"America/New_York"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-57587/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198833","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198833","key":"JENKINS-57089","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-57089/watchers","watchCount":1,"isWatching":false},"created":"2019-04-17T15:57:43.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/2","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"40630","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/40630","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"201360","key":"JENKINS-59008","self":"https://issues.jenkins-ci.org/rest/api/2/issue/201360","fields":{"summary":"Merge before build, reference is not a tree on second build","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2019-08-24T16:47:54.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/19326","id":"19326","name":"gitlab-plugin","description":"gitlab plugin"}],"customfield_10250":null,"description":"Building a tag fails when 'merge before build' is configured.  Build is triggered by a push to GitLab.  The console output indicates a merge is attempted, however I believe it should be the same as when a new branch is pushed - which just checks out the revision.\r\n\r\nHere's what I see when a new branch is pushed:\r\n{noformat}\r\n[EnvInject] - Loading node environment variables.\r\n[EnvInject] - Preparing an environment for the build.\r\n[EnvInject] - Keeping Jenkins system variables.\r\n[EnvInject] - Keeping Jenkins build variables.\r\n[EnvInject] - Evaluating the Groovy script content\r\n[EnvInject] - Injecting contributions.\r\nBuilding on master in workspace C:\\jenkins\\workspace\\merge_test\r\n[EnvInject] - Unset unresolved 'USERNAME' variable.\r\n[WS-CLEANUP] Deleting project workspace...\r\n[WS-CLEANUP] Deferred wipeout is used...\r\n[WS-CLEANUP] Done\r\nusing credential f8a5a716-639d-4483-af01-f054e9ccbcc5\r\nCloning the remote Git repository\r\nCloning repository git@st-gitlab.apsautobag.com:APS/test_jenkins.git\r\n > git.exe init C:\\jenkins\\workspace\\merge_test # timeout=10\r\nFetching upstream changes from git@st-gitlab.apsautobag.com:APS/test_jenkins.git\r\n > git.exe --version # timeout=10\r\nusing GIT_SSH to set credentials Repository authentication for GitLab\r\n > git.exe fetch --tags --force --progress git@st-gitlab.apsautobag.com:APS/test_jenkins.git +refs/heads/*:refs/remotes/origin/*\r\n > git.exe config remote.origin.url git@st-gitlab.apsautobag.com:APS/test_jenkins.git # timeout=10\r\n > git.exe config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n > git.exe config remote.origin.url git@st-gitlab.apsautobag.com:APS/test_jenkins.git # timeout=10\r\nFetching upstream changes from git@st-gitlab.apsautobag.com:APS/test_jenkins.git\r\nusing GIT_SSH to set credentials Repository authentication for GitLab\r\n > git.exe fetch --tags --force --progress git@st-gitlab.apsautobag.com:APS/test_jenkins.git +refs/heads/*:refs/remotes/origin/* +refs/merge-requests/*/head:refs/remotes/origin/merge-requests/* +refs/tags/*:refs/remotes/origin/tags/*\r\n > git.exe rev-parse \"remotes/origin/develop^{commit}\" # timeout=10\r\n > git.exe branch -a -v --no-abbrev --contains e41c8438b086f1aded8dc8e6f94227915fe846ed # timeout=10\r\nChecking out Revision e41c8438b086f1aded8dc8e6f94227915fe846ed (origin/develop)\r\n > git.exe config core.sparsecheckout # timeout=10\r\n > git.exe checkout -f e41c8438b086f1aded8dc8e6f94227915fe846ed\r\nCommit message: \"Test change\"\r\nFirst time build. Skipping changelog.\r\n[merge_test] $ cmd /c call C:\\Windows\\TEMP\\jenkins8458950606275891551.bat\r\n{noformat}\r\nHere's what happens when a tag is pushed:\r\n{noformat}\r\n[EnvInject] - Loading node environment variables.\r\n[EnvInject] - Preparing an environment for the build.\r\n[EnvInject] - Keeping Jenkins system variables.\r\n[EnvInject] - Keeping Jenkins build variables.\r\n[EnvInject] - Evaluating the Groovy script content\r\n[EnvInject] - Injecting contributions.\r\nBuilding on master in workspace C:\\jenkins\\workspace\\merge_test\r\n[EnvInject] - Unset unresolved 'USERNAME' variable.\r\n[WS-CLEANUP] Deleting project workspace...\r\n[WS-CLEANUP] Deferred wipeout is used...\r\n[WS-CLEANUP] Done\r\nusing credential f8a5a716-639d-4483-af01-f054e9ccbcc5\r\nCloning the remote Git repository\r\nCloning repository git@st-gitlab.apsautobag.com:APS/test_jenkins.git\r\n > git.exe init C:\\jenkins\\workspace\\merge_test # timeout=10\r\nFetching upstream changes from git@st-gitlab.apsautobag.com:APS/test_jenkins.git\r\n > git.exe --version # timeout=10\r\nusing GIT_SSH to set credentials Repository authentication for GitLab\r\n > git.exe fetch --tags --force --progress git@st-gitlab.apsautobag.com:APS/test_jenkins.git +refs/heads/*:refs/remotes/origin/*\r\n > git.exe config remote.origin.url git@st-gitlab.apsautobag.com:APS/test_jenkins.git # timeout=10\r\n > git.exe config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n > git.exe config remote.origin.url git@st-gitlab.apsautobag.com:APS/test_jenkins.git # timeout=10\r\nFetching upstream changes from git@st-gitlab.apsautobag.com:APS/test_jenkins.git\r\nusing GIT_SSH to set credentials Repository authentication for GitLab\r\n > git.exe fetch --tags --force --progress git@st-gitlab.apsautobag.com:APS/test_jenkins.git +refs/heads/*:refs/remotes/origin/* +refs/merge-requests/*/head:refs/remotes/origin/merge-requests/* +refs/tags/*:refs/remotes/origin/tags/*\r\n > git.exe rev-parse \"refs/tags/0.1^{commit}\" # timeout=10\r\n > git.exe branch -a -v --no-abbrev --contains 9971f7545e9729f215a3ad02b27e8b375252c2d0 # timeout=10\r\nMerging Revision 9971f7545e9729f215a3ad02b27e8b375252c2d0 (origin/tags/0.1, origin/master, origin/develop) to origin/refs/tags/0.1, UserMergeOptions{mergeRemote='origin', mergeTarget='refs/tags/0.1', mergeStrategy='default', fastForwardMode='--ff'}\r\n > git.exe rev-parse \"origin/refs/tags/0.1^{commit}\" # timeout=10\r\nFATAL: Command \"git.exe rev-parse \"origin/refs/tags/0.1^{commit}\"\" returned status code 128:\r\nstdout: origin/refs/tags/0.1^{commit}stderr: fatal: ambiguous argument 'origin/refs/tags/0.1^{commit}': unknown revision or path not in the working tree.\r\nUse '--' to separate paths from revisions, like this:\r\n'git <command> [<revision>...] -- [<file>...]'hudson.plugins.git.GitException: Command \"git.exe rev-parse \"origin/refs/tags/0.1^{commit}\"\" returned status code 128:\r\nstdout: origin/refs/tags/0.1^{commit}stderr: fatal: ambiguous argument 'origin/refs/tags/0.1^{commit}': unknown revision or path not in the working tree.\r\nUse '--' to separate paths from revisions, like this:\r\n'git <command> [<revision>...] -- [<file>...]'\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2042)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2010)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2006)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1638)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1650)\r\n\tat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.revParse(CliGitAPIImpl.java:835)\r\n\tat hudson.plugins.git.GitAPI.revParse(GitAPI.java:316)\r\n\tat hudson.plugins.git.extensions.impl.PreBuildMerge.decorateRevisionToBuild(PreBuildMerge.java:66)\r\n\tat hudson.plugins.git.GitSCM.determineRevisionToBuild(GitSCM.java:1100)\r\n\tat hudson.plugins.git.GitSCM.checkout(GitSCM.java:1193)\r\n\tat hudson.scm.SCM.checkout(SCM.java:504)\r\n\tat hudson.model.AbstractProject.checkout(AbstractProject.java:1208)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:574)\r\n\tat jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:499)\r\n\tat hudson.model.Run.execute(Run.java:1816)\r\n\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n\tat hudson.model.Executor.run(Executor.java:429)\r\n[Slack Notifications] found #2 as previous completed, non-aborted build\r\n[Slack Notifications] will send OnSingleFailureNotification because build matches and user preferences allow it\r\nFinished: FAILURE{noformat}\r\nWith a tag I think PreBuildMerge() should determine there is no branch to merge and just check out the revision - same as what happens for a new branch.\r\n\r\nHere's my job configuration:\r\n\r\n!image-2019-04-17-11-57-04-847.png|width=867,height=625!\r\n\r\nrefspec is: \r\n{noformat}\r\n+refs/heads/*:refs/remotes/origin/* +refs/merge-requests/*/head:refs/remotes/origin/merge-requests/* +refs/tags/*:refs/remotes/origin/tags/* {noformat}\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0aeqr:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Tag fails with merge before build triggered by GitLab","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=keno","name":"keno","key":"keno","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Ken Overly","active":true,"timeZone":"America/New_York"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=keno","name":"keno","key":"keno","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Ken Overly","active":true,"timeZone":"America/New_York"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.164.1\r\nGit client 2.7.6\r\nGit plugin 3.9.3\r\nGitLab Plugin 1.5.11\r\n","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-57089/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198595","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198595","key":"JENKINS-56920","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/10002","id":"10002","description":"Created by Jira Software - do not edit or delete. Issue type for a user story.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14685&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14685},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56920/watchers","watchCount":1,"isWatching":false},"created":"2019-04-05T18:31:49.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-04-05T18:54:46.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15593","id":"15593","name":"core","description":"Jenkins core"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/19825","id":"19825","name":"icon-shim-plugin","description":"icon-shim-plugin plugin"}],"customfield_10250":null,"description":"[https://github.com/jenkinsci/git-plugin/blob/d77f380de81404758970f52b3b90f3e6d04ca7c7/src/main/resources/hudson/plugins/git/util/BuildDetails/summary.jelly]\r\n{code:java}\r\n<t:summary icon=\"/plugin/git/icons/git-48x48.png\"> {code}\r\nis accessibility hostile.\r\n\r\nI browse w/ images off by default.\r\n\r\nI can't figure out how to make this work well.\r\n\r\nIdeally the *git-plugin* would use {{<t:summary icon=\"git\">}} and things would magically work (it would presumably need to register the git icon plugin, and someone should be able to figure out how to do that).\r\n\r\nThat jelly feeds to this:\r\n\r\n[https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/lib/hudson/summary.jelly#L78]\r\n\r\nWhich doesn't have a particularly good way to calculate an alt tag because [https://github.com/jenkinsci/icon-shim-plugin/blob/9e75ab65fb8e4f1b5678408d39824abb5ff04313/icon-set/src/main/java/org/jenkins/ui/icon/Icon.java#L92] does it no favors. (The sorting stuff is really great for ensuring one can't safely reparse anything to get useful information back – because they might randomly select a size class instead of the image class.)\r\n\r\nBut, [https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/lib/layout/icon.jelly] doesn't automatically calculate an alt tag.\r\n\r\nA simple example of this all going wrong is:\r\n\r\n[https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/lib/layout/layout.jelly#L232]\r\n\r\nWhich has:\r\n{code:java}\r\n              <a href=\"${%searchBox.url}\"><l:icon class=\"icon-help icon-sm\" /></a> {code}\r\nIdeally that would be sufficient to magically trigger at least an {{alt=\"[help]\"}} – without additional work by the author of layout.jelly.\r\n\r\nFor the time being, I'm marking this as a \"story\".\r\n\r\nThe story is simple:\r\n # start Chrome\r\n # disable images and javascript by default\r\n # visit [https://ci.centos.org/job/bodhi-pipeline/job/PR-3131/2/]\r\n # try to interpret the page\r\n\r\nActual results:\r\n\r\n!image-2019-04-05-14-23-44-677.png!\r\n\r\nFor comparison:\r\n\r\n!image-2019-04-05-14-23-14-434.png!\r\n\r\n \r\n\r\nElements visually lost:\r\n # The help button to the right of the search box\r\n # The search icon inside the search box\r\n # The orange-square whatever icon to the left of pull request (it's actually called orange-square, which is really unhelpful)\r\n # The git icon to the left of revision (this could be mercurial or bzr or various other things)\r\n # Because of the rendering, it's unclear that {{Failed}} is actually image alt content and not just random content next to a missing image of _something else_. (This is normally managed by using {{[...]}} instead of just {{...}}. – See one of the instances of {{[Jenkins]}} at the top.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10332":null,"customfield_10255":null,"customfield_10333":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0adir:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"enable git-plugin to support alt content for people who aren't seeing images","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsoref","name":"jsoref","key":"jsoref","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Josh Soref","active":true,"timeZone":"America/Toronto"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsoref","name":"jsoref","key":"jsoref","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Josh Soref","active":true,"timeZone":"America/Toronto"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56920/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198587","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198587","key":"JENKINS-56914","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56914/watchers","watchCount":2,"isWatching":false},"created":"2019-04-05T12:57:43.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-05-01T19:02:36.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I have npm scripts which do all the magic required for incrementing package versions and generating the tag from that version. When it comes to getting the git plugin to push, however, if I configure the tag name to push as '*', \r\n{code:java}\r\ngit tag -l\r\n{code}\r\n works  the tag is recognised from the command line, and I see that command being issued by the git plugin, however, the tags are not pushed and the plugin errors:\r\n\r\n\r\n{{ERROR: Step ‘Git Publisher’ failed: Tag * does not exist and Create Tag is not specified, so failing.}}\r\n\r\n\r\n\r\nI would expect the git plugin to push any tags matched by the name parameter. Even better if I could just say \"push all tags\" – tagging doesn't have to be the responsibility of this plugin.\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0adgz:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin does not seem to understand how to push all tags with '*'","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=davydm","name":"davydm","key":"davydm","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Davyd McColl","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=davydm","name":"davydm","key":"davydm","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Davyd McColl","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Windows","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56914/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198568","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198568","key":"JENKINS-56897","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56897/watchers","watchCount":3,"isWatching":false},"created":"2019-04-05T08:28:04.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-06-03T18:56:48.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Support git clone --mirror in Git plugin to enable usage of credentials via GIT_ASKPASS for mirroring the repositories. It would be great to have generic\r\n{code:java}\r\nwithCredentials() {\r\n   git.sh \"clone --mirror ....\"\r\n   git.sh \"push --mirror\"\r\n}{code}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0adcr:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Support general purpose authenticated git operations in Pipeline","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=alexey_pelykh","name":"alexey_pelykh","key":"alexey_pelykh","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Alexey Pelykh","active":true,"timeZone":"Europe/Kiev"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=alexey_pelykh","name":"alexey_pelykh","key":"alexey_pelykh","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Alexey Pelykh","active":true,"timeZone":"Europe/Kiev"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56897/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198449","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198449","key":"JENKINS-56801","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56801/watchers","watchCount":2,"isWatching":false},"created":"2019-03-28T18:06:17.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-03-28T18:58:14.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/18932","id":"18932","name":"bitbucket-pullrequest-builder-plugin","description":"bitbucket-pullrequest-builder plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Jenkins is using wrong commit SHA for pulling shared library when the build is triggered by pull request (we are using Bitbucket Pull Requests Builder plugin). The shared library is located in _cm_ repository and the code is in frontend repo. Jenkins is using commit from _frontend_ (9282bed3d923) to pull shared library from _cm_ and ofc it doesn't find it in there. When the same build is restarted using _Rebuild_ everything works as expected.\r\n{code:java}\r\n<a href=\"https://bitbucket.org/myorg/frontend/pull-request/628\">#628 DO-0 #time 10m #comment fix PR</a><a href=\"https://bitbucket.org/myorg/frontend/pull-request/628\">#628 DO-0 #time 10m #comment fix PR</a>Checking out git git@bitbucket.org:myorg/frontend.git into /var/jenkins_home/workspace/build-frontend@script to read Jenkinsfileusing credential ******* > git rev-parse --is-inside-work-tree # timeout=10Fetching changes from the remote Git repository > git config remote.origin.url git@bitbucket.org:myorg/frontend.git # timeout=10Fetching upstream changes from git@bitbucket.org:myorg/frontend.git > git --version # timeout=10using GIT_SSH to set credentials  > git fetch --tags --progress git@bitbucket.org:myorg/frontend.git +refs/heads/*:refs/remotes/origin/* # timeout=10 > git rev-parse 9282bed3d923^{commit} # timeout=10 > git branch -a -v --no-abbrev --contains 9282bed3d923014e634f10e20655096b93e6c6fd # timeout=10Checking out Revision 9282bed3d923014e634f10e20655096b93e6c6fd (origin/Fix_PR) > git config core.sparsecheckout # timeout=10 > git checkout -f 9282bed3d923014e634f10e20655096b93e6c6fd # timeout=10Commit message: \"DO-0 #time 10m #comment test\" > git rev-list --no-walk 9282bed3d923014e634f10e20655096b93e6c6fd # timeout=10Resume disabled by user, switching to high-performance, low-durability mode.Loading library myorg-custom-libs@masterAttempting to resolve master from remote references... > git --version # timeout=10using GIT_SSH to set credentials  > git ls-remote git@bitbucket.org:myorg/cm.git # timeout=10Found match: refs/heads/master revision 6557c6a22c125115674db0c000d357519fa284a2using credential ******* > git rev-parse --is-inside-work-tree # timeout=10Fetching changes from the remote Git repository > git config remote.origin.url git@bitbucket.org:myorg/cm.git # timeout=10Fetching without tagsFetching upstream changes from git@bitbucket.org:myorg/cm.git > git --version # timeout=10using GIT_SSH to set credentials  > git fetch --no-tags --progress git@bitbucket.org:myorg/cm.git +refs/heads/*:refs/remotes/origin/* # timeout=10 > git rev-parse 9282bed3d923^{commit} # timeout=10hudson.plugins.git.GitException: Command \"git rev-parse 9282bed3d923^{commit}\" returned status code 128:stdout: 9282bed3d923^{commit}\r\nstderr: fatal: ambiguous argument '9282bed3d923^{commit}': unknown revision or path not in the working tree.Use '--' to separate paths from revisions, like this:'git <command> [<revision>...] -- [<file>...]'\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2318) at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2248) at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2244) at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1777) at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1789) at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.revParse(CliGitAPIImpl.java:919) at hudson.plugins.git.GitAPI.revParse(GitAPI.java:316) at hudson.plugins.git.RevisionParameterAction.toRevision(RevisionParameterAction.java:98) at hudson.plugins.git.GitSCM.determineRevisionToBuild(GitSCM.java:1059) at hudson.plugins.git.GitSCM.checkout(GitSCM.java:1176) at org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:120) at org.jenkinsci.plugins.workflow.libs.SCMSourceRetriever.lambda$doRetrieve$1(SCMSourceRetriever.java:147) at org.jenkinsci.plugins.workflow.libs.SCMSourceRetriever.retrySCMOperation(SCMSourceRetriever.java:98) at org.jenkinsci.plugins.workflow.libs.SCMSourceRetriever.doRetrieve(SCMSourceRetriever.java:146) at org.jenkinsci.plugins.workflow.libs.SCMSourceRetriever.retrieve(SCMSourceRetriever.java:87) at org.jenkinsci.plugins.workflow.libs.LibraryAdder.retrieve(LibraryAdder.java:157) at org.jenkinsci.plugins.workflow.libs.LibraryAdder.add(LibraryAdder.java:138) at org.jenkinsci.plugins.workflow.libs.LibraryDecorator$1.call(LibraryDecorator.java:125) at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1065) at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:603) at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:581) at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:558) at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298) at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268) at groovy.lang.GroovyShell.parseClass(GroovyShell.java:688) at groovy.lang.GroovyShell.parse(GroovyShell.java:700) at org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.lambda$doParse$0(CpsGroovyShell.java:135) at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:136) at org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.doParse(CpsGroovyShell.java:132) at org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.reparse(CpsGroovyShell.java:127) at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.parseScript(CpsFlowExecution.java:560) at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.start(CpsFlowExecution.java:521) at org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:320) at hudson.model.ResourceController.execute(ResourceController.java:97) at hudson.model.Executor.run(Executor.java:429) org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed: WorkflowScript: Loading libraries failed\r\n1 error\r\n at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310) at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1085) at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:603) at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:581) at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:558) at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298) at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268) at groovy.lang.GroovyShell.parseClass(GroovyShell.java:688) at groovy.lang.GroovyShell.parse(GroovyShell.java:700) at org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.lambda$doParse$0(CpsGroovyShell.java:135) at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:136) at org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.doParse(CpsGroovyShell.java:132) at org.jenkinsci.plugins.workflow.cps.CpsGroovyShell.reparse(CpsGroovyShell.java:127) at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.parseScript(CpsFlowExecution.java:560) at org.jenkinsci.plugins.workflow.cps.CpsFlowExecution.start(CpsFlowExecution.java:521) at org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:320) at hudson.model.ResourceController.execute(ResourceController.java:97) at hudson.model.Executor.run(Executor.java:429) Finished: FAILURE Page generated: Mar 28, 2019 5:49:17 PM GMTREST APIJenkins ver. 2.164.1 {code}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0acmb:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Jenkins use wrong commit SHA when pulling shared library","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=evheniyt","name":"evheniyt","key":"evheniyt","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Yevhenii Tiutiunnyk","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=evheniyt","name":"evheniyt","key":"evheniyt","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Yevhenii Tiutiunnyk","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"OS Ubuntu 18.04.2 LTS\r\nJenkins ver. 2.164.1\r\nBitbucket Pullrequest Builder Plugin 1.4.30\r\nGit plugin 4.0.0-rc","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56801/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198425","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198425","key":"JENKINS-56780","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56780/watchers","watchCount":2,"isWatching":false},"created":"2019-03-27T15:28:36.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-03-27T16:20:06.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15521","id":"15521","name":"tfs-plugin","description":"Team Foundation Server plugin"}],"customfield_10250":null,"description":"When we use TFS for a Git repository and I configure a webhook from the Azure UI using \"Perform this action\": \"Trigger git build\" and \"Integration level\":\"Built-in Jenkins API\" the hook received trigger the build but it doesn't use any of the additional behaviors defined like the exclude regions.\r\n\r\nUsing polling it works without any issue. \r\n\r\nI have been reviewed deeply the issue and the hook received on the Jenkins side looks like that one:\r\n\r\n \r\n_Received notification from xx.xxx.xxx.xxx → xx.xx.x.xxx → xx.xxx.xxx.xxx ⇒ https://jenkins-url/git/notifyCommit for uri = https://dev.azure.com/repo/test/_git/test ; sha1 = 71c8xxxxxxx5xxx9x54fxxxxxx96cxb53x78 ; branches = [master]_\r\n\r\n\r\n\r\nIf the git plugin receives a sha1 parameter it just launches the build related to that SHA1 without checking anything, so probably the error is on the webhook side that is sending an incorrect hook, though the git plugin should reasonably not be accepting a SHA1 argument without applying the usual checks to decide if that SHA1 should be built.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0ach7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"The TFS plugin is not working correctly with the \"exclude regions\" feature","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jraezrus","name":"jraezrus","key":"jraezrus","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Javier Raez","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jraezrus","name":"jraezrus","key":"jraezrus","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Javier Raez","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56780/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198415","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198415","key":"JENKINS-56771","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56771/watchers","watchCount":3,"isWatching":false},"created":"2019-03-27T08:30:50.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-11-20T04:03:49.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"in a `multibranchPipelineJob`, we can currently ONLY select branches that we want to [include|https://jenkinsci.github.io/job-dsl-plugin/#path/javaposse.jobdsl.dsl.DslFactory.multibranchPipelineJob-branchSources-git-includes] and [exclude|https://jenkinsci.github.io/job-dsl-plugin/#path/javaposse.jobdsl.dsl.DslFactory.multibranchPipelineJob-branchSources-git-excludes] in our triggers.\r\n\r\n \r\n\r\nWe have some use cases where we would ALSO need builds NOT triggered, when commits only include files under certain paths/folders in a repo.\r\n\r\n \r\n\r\nThis seems like it is supported already through the git-plugin's \"polling ignores commits in certain paths\" advanced option (see screenshot), so I was wondering if there are any plans to extend support for this to the `multibranchPipelineJob`'s `branchSources`.\r\n\r\n \r\n\r\nThanks,\r\n\r\nYorgos","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0acez:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Add Path filtering to triggers in multibranchPipelineJob branchSources","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=yorgos","name":"yorgos","key":"yorgos","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Yorgos Saslis","active":true,"timeZone":"Europe/Athens"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=yorgos","name":"yorgos","key":"yorgos","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Yorgos Saslis","active":true,"timeZone":"Europe/Athens"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56771/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198139","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198139","key":"JENKINS-56530","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56530/watchers","watchCount":2,"isWatching":false},"created":"2019-03-12T19:59:46.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-01-15T03:16:39.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I have a pipeline job that builds the dev branch from a single repository hosted on our GitHub Enterprise instance. The repository is configured to use the Manage Jenkins (GitHub plugin) web hook. (i.e. The only build trigger checked is the \"GitHub hook trigger for GITScm polling.\")\r\n\r\nAfter merging a feature branch branch into the dev branch and then deleting the feature branch, Jenkins started two concurrent builds for this pipeline. Both jobs were for the same commit. I expected it to only build the new commit once.\r\n\r\nFrom the [http://ourjenkins:8080/log/all] page:\r\n{code:java}\r\nMar 12, 2019 9:49:40 AM INFO org.jenkinsci.plugins.github.webhook.subscriber.DefaultPushGHEventSubscriber onEvent\r\nReceived PushEvent for http://ourgithub/Org/OurProject from ourgithub ⇒ http://ourjenkins:8080/github-webhook/\r\nMar 12, 2019 9:49:40 AM INFO org.jenkinsci.plugins.github.webhook.subscriber.DefaultPushGHEventSubscriber$1 run\r\nPoked Our Project Pipeline Name\r\nMar 12, 2019 9:49:42 AM INFO com.cloudbees.jenkins.GitHubPushTrigger$1 run\r\nSCM changes detected in Our Project Pipeline Name. Triggering #2\r\nMar 12, 2019 9:50:14 AM INFO org.jenkinsci.plugins.github.webhook.subscriber.DefaultPushGHEventSubscriber onEvent\r\nReceived PushEvent for http://ourgithub/Org/OurProject from ourgithub ⇒ http://ourjenkins:8080/github-webhook/\r\nMar 12, 2019 9:50:14 AM INFO org.jenkinsci.plugins.github.webhook.subscriber.DefaultPushGHEventSubscriber$1 run\r\nPoked Our Project Pipeline Name\r\nMar 12, 2019 9:50:15 AM INFO com.cloudbees.jenkins.GitHubPushTrigger$1 run\r\nSCM changes detected in Our Project Pipeline Name. Triggering #3\r\nMar 12, 2019 9:52:09 AM INFO org.jenkinsci.plugins.workflow.job.WorkflowRun finish\r\nOur Project Pipeline Name #2 completed: SUCCESS\r\nMar 12, 2019 9:52:17 AM INFO org.jenkinsci.plugins.workflow.job.WorkflowRun finish\r\nOur Project Pipeline Name #3 completed: SUCCESS\r\n{code}\r\nThe logs for the individual jobs (#2 and #3) showed that they built the same remote head revision commit ID. They also compared it to the same \"Last Built Revision\" which was the commit ID built by job #1 a few days earlier.\r\n\r\nSpeculation about what happened:\r\n # I merged my change to the dev branch and pushed it to our GitHub.\r\n # GitHub called the Jenkins web hook to let it know about the change.\r\n # Jenkins polled GitHub and saw that there were changes to the dev branch since job #1 and started job #2.\r\n # I deleted my feature branch on our GitHub.\r\n # GitHub called the Jenkins web hook to let it know about the change.\r\n # Jenkins polled GitHub and saw that there were changes to the dev branch since the last completed job #1, but failed to compare it to the in-progress job #2. As a result, it started the unnecessary job #3.\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0aar7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Duplicate build job when merging and deleting GitHub branch with web hook","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=prnei","name":"prnei","key":"prnei","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"P N","active":true,"timeZone":"America/New_York"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=prnei","name":"prnei","key":"prnei","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"P N","active":true,"timeZone":"America/New_York"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins v 2.150.2\r\nGit client plugin v 2.7.6\r\nGit plugin v 3.9.3\r\nGitHub plugin v 1.29.3\r\nGitHub API plugin v 1.95","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56530/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198125","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198125","key":"JENKINS-56517","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56517/watchers","watchCount":2,"isWatching":false},"created":"2019-03-12T04:08:14.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-04-09T16:52:51.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"git fetch has three options to fetch tags:\r\n * \"git fetch\" fetches a branch with tags reachable, the ideal default\r\n * \"git fetch --no-tags\" fetches a branch without tags\r\n * \"git fetch --tags\" fetches tags not reachable from the branch, i.e. other branches also\r\n\r\nin jenkins variant 1, fetching tags reachable cannot be configured any more (with ease), while it reasonably should be the default? also the branch name is not there in the git repo fetched. all of these operatins add labels to existing commits so do not increase the clone size.\r\n\r\nthis should be for multibranch pipeline, not sure what the correct component is.\r\n\r\nthe current workaround is:\r\n{code:java}\r\n// code placeholder\r\n\r\n{code}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0aaob:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"fetch has 3 options: nothing, --no-tags, --tags, jenkins only 2","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=rthurner","name":"rthurner","key":"rthurner","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"rupert je thurner","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=rthurner","name":"rthurner","key":"rthurner","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"rupert je thurner","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56517/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"198020","self":"https://issues.jenkins-ci.org/rest/api/2/issue/198020","key":"JENKINS-56426","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56426/watchers","watchCount":3,"isWatching":false},"created":"2019-03-06T01:23:42.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-03-06T08:50:48.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Branch specifier set to refs/tags/*\r\n\r\nMax age used to only build recent tags.\r\n\r\nIf no tags within max age range, there is nothing to build, no jobs needed.\r\n\r\nHowever, a job still gets created each SCM polling cycle which generates an error due to no commits found.\r\n\r\nGit plugin 3.9.3\r\n\r\nEmail extension plugin 2.64\r\n\r\nMore info:\r\n\r\nSame problem if I open up max age to include some tags, but the first jobs succeed in building the tags it found.  Then back to creating jobs w/ no valid tags.\r\n\r\nError message looks like this:\r\n\r\n> git show-ref --tags -d # timeout=10\r\nERROR: Couldn't find any revision to build. Verify the repository and branch configuration for this job.\r\n\r\nSomething else is odd.   Not all the tags within the max age range are built.  Looks like only the most recent tag on each branch gets built.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0aa0z:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"No commit for max age generates build error each SCM Poll","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=bhill_slac","name":"bhill_slac","key":"bhill_slac","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16485","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16485","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16485","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16485"},"displayName":"Bruce Hill","active":true,"timeZone":"America/Los_Angeles"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=bhill_slac","name":"bhill_slac","key":"bhill_slac","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16485","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16485","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16485","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16485"},"displayName":"Bruce Hill","active":true,"timeZone":"America/Los_Angeles"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins Ver 2.150.2","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56426/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197994","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197994","key":"JENKINS-56404","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56404/watchers","watchCount":4,"isWatching":false},"created":"2019-03-05T01:41:17.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/2","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"39081","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/39081","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"188703","key":"JENKINS-49757","self":"https://issues.jenkins-ci.org/rest/api/2/issue/188703","fields":{"summary":"Git plugin calls fetch twice per checkout","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"39082","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/39082","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"155492","key":"JENKINS-23345","self":"https://issues.jenkins-ci.org/rest/api/2/issue/155492","fields":{"summary":"Git Plugin should have an option to use clone instead of init/fetch","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681}}}}],"assignee":null,"updated":"2020-03-02T12:28:15.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When hasGitRepo is false, retrieveChanges() tries firstly to Clone repository and then fetch according to available list of repositories. \r\nhttps://github.com/jenkinsci/git-plugin/blob/e9d15cd3a390f1d1849b9d6cbee707bc85213ab0/src/main/java/hudson/plugins/git/GitSCM.java#L1104-L1110\r\nBut when it clones it picks first repository name and injects  ALL branches fetch https://github.com/jenkinsci/git-client-plugin/blob/2b217bd90a93462112176febbb5f30e05141c674/src/main/java/org/jenkinsci/plugins/gitclient/CliGitAPIImpl.java#L704-L712\r\nSo, when refspecs is empty - it fetch all branches (git default), when it null it fetches all branches.\r\n\r\nThe workaround is to set some refspec from branch i.e. https://github.com/jenkinsci/git-plugin/blob/a7ad6eb38a00397c4a656b53d99bfbad8ea3b2cc/src/main/java/jenkins/plugins/git/GitSCMSourceDefaults.java#L108-L115\r\nBut, later it will be fetched anyway. \r\n\r\nSolution:\r\nDon't fetch anything during clone operation (useful part is clean, fetch etc). OR pass repositories to CloneComand and remove separate fetch iteration .\r\n","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a9v7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Impossible exclude redundant/double fetches","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=integer","name":"integer","key":"integer","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=integer&avatarId=13870","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=integer&avatarId=13870","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=integer&avatarId=13870","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=integer&avatarId=13870"},"displayName":"Kanstantsin Shautsou","active":true,"timeZone":"Europe/Minsk"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=integer","name":"integer","key":"integer","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=integer&avatarId=13870","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=integer&avatarId=13870","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=integer&avatarId=13870","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=integer&avatarId=13870"},"displayName":"Kanstantsin Shautsou","active":true,"timeZone":"Europe/Minsk"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56404/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197924","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197924","key":"JENKINS-56339","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56339/watchers","watchCount":2,"isWatching":false},"created":"2019-02-28T22:59:57.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-02-28T23:12:04.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Under certain conditions, the Git SCM polling will return false positives.  It gets into a state where it is consistently comparing hashes from two different branches, which will always trigger a build.  Under some conditions, this can cause a build queue to back up.\r\n\r\nSteps to reproduce:\r\n # Jenkins pipeline job, using Jenkinsfile, with branch spec (\"Branches to build\") set to \"*/master\"; SCM polling set to some short interval (e.g. 5 minutes)\r\n Note: This behavior was also observed with the branch spec when using \"refs/heads/<branchname>\" instead of \"*/<branchname>\"\r\n # Create a new branch\r\n # Commit to that branch and push to the server (to establish the branch on the server)\r\n # Update the Jenkins job config to point to the new branch\r\n # Commit to master and push to the server\r\n # Commit to the new branch and push to the server\r\n\r\nThe console log of the next build shows that the build itself is pulling from the correct branch (the new branch), but the Git Polling Log shows that the SCM polling is still looking at master.\r\n\r\nOn the next poll after that, Jenkins queues another build, even if no changes are pushed to the server.  The Git Polling Log shows that it is comparing the hash of a commit on master to the hash of a commit on the test branch.  This compare will always result in a build being queued.  A sample polling log is shown below:\r\n{code:java}\r\nStarted on Feb 20, 2019 8:04:00 PM\r\nUsing strategy: Default\r\n[poll] Last Built Revision: Revision b78264e16c8290c779bec8a1ee96236fe123ef67 (refs/remotes/origin/roguebuild)\r\n > /apps/git_2.9.3/bin/git --version # timeout=10\r\nusing GIT_ASKPASS to set credentials \r\n > /apps/git_2.9.3/bin/git ls-remote -h https://mybitbucket.mycompany.com:8443/bitbucket/scm/myproject/service-bus.git # timeout=10\r\nFound 29 remote heads on https://mybitbucket.mycompany.com:8443/bitbucket/scm/myproject/service-bus.git\r\n[poll] Latest remote head revision on refs/heads/master is: 6b7a38224cfee3759ed0c45e609a121079af224a\r\nDone. Took 0.41 sec\r\nChanges found\r\n{code}\r\nThe job will continue queueing builds indefinitely at every SCM polling interval.\r\n\r\nRemediating the issue requires disabling the build, cleaning out any unneeded jobs from the queue, and setting the branch spec back to master in the job configuration.\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a9fn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git SCM Polling returns false positives when pipeline branch spec is changed","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=drosen02","name":"drosen02","key":"drosen02","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=drosen02&avatarId=21373","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=drosen02&avatarId=21373","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=drosen02&avatarId=21373","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=drosen02&avatarId=21373"},"displayName":"David Rosenfeld","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=drosen02","name":"drosen02","key":"drosen02","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=drosen02&avatarId=21373","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=drosen02&avatarId=21373","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=drosen02&avatarId=21373","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=drosen02&avatarId=21373"},"displayName":"David Rosenfeld","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"CloudBees Jenkins Enterprise 2.73.30.0.1-fixed\r\nGit Client Plugin 2.7.1\r\nGit Plugin 3.8.0\r\nAtlassian Bitbucket v5.11.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56339/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197761","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197761","key":"JENKINS-56205","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56205/watchers","watchCount":1,"isWatching":false},"created":"2019-02-19T16:30:28.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-02-19T16:42:28.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When creating and pushing a tag with the Git Publisher, it gets pushed to the remote repository as a branch. The console output shows:\r\n{noformat}\r\nPushing tag 4.6.44.0.5 to repo XXX\r\nRefSpec is \"refs/tags/4.6.44.0.5:refs/heads/4.6.44.0.5\".\r\n{noformat}\r\nThis appears to be caused by a combination of:\r\n * Line 272 in hudson.plugins.git.GitPublisher (in git-plugin)\r\n ** \r\n{code:java}\r\nPushCommand push = git.push().to(remoteURI).ref(tagName);\r\n{code}\r\n\r\n * The call to fixRefSpec() in org.jenkinsci.plugins.gitclient.JGitAPIImpl\r\n ** This class is in git-client-plugin\r\n ** Without a full reference passed to PushCommand.ref(), it defaults to prepending the name with \"/refs/heads\".\r\n ** It should probably default to the prefix used in the source ref rather than \"heads\"\r\n\r\nI don't know if the bug/fix is in git-plugin or git-client-plugin - probably the latter because the CLI client may work fine.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a8fn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git Publisher Pushes Tags as Branches (JGit)","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=donalob","name":"donalob","key":"donalob","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16499","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16499","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16499","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16499"},"displayName":"Donal O'Brien","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=donalob","name":"donalob","key":"donalob","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16499","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16499","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16499","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16499"},"displayName":"Donal O'Brien","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56205/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197714","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197714","key":"JENKINS-56175","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56175/watchers","watchCount":1,"isWatching":false},"created":"2019-02-18T04:29:59.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-12-24T22:29:02.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When a git submodule repository name includes a space character, the git plugin versions through at least git plugin 4.0.0 ignore the submodule.\r\n\r\nProblem was found by the plugin pom 3.36 extension which includes a space character in the temporary directories created by the Jenkins test harness.\r\n\r\nFor example, I defined a repository {{ssh://home.markwaite.net/\\~/git/bare/bugs/without-space.git}} which includes a submodule from {{ssh://home.markwaite.net/\\~/git/bare/bugs/with space.git}}.  I can clone the {{without-space}} repository from the command line and can update the submodule.  When I perform the same operation from a Jenkins job, the repository is cloned, but the submodule is not detected and never updates.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a857:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Submodule with space in git URL won't update","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Git client plugin 3.0.0-rc (and all previous versions)\r\nGit plugin 4.0.0-rc (and all previous versions)","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56175/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197603","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197603","key":"JENKINS-56156","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56156/watchers","watchCount":2,"isWatching":false},"created":"2019-02-15T09:15:09.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["bitbucket","git","jenkins","pipeline","plug-in"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-02-15T18:16:59.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I have a pipeline declaring the following checkout:\r\n\r\n{{checkout(}}\r\n{{ poll: true,}}\r\n{{ scm: [$class : 'GitSCM',}}\r\n{{ userRemoteConfigs : [[}}\r\n{{ credentialsId: <<creds>>}}\r\n{{ url : <<gitRepositoryUrl>>,}}\r\n{{ ]],}}\r\n{{ branches : [[name: '**']],}}\r\n{{doGenerateSubmoduleConfigurations: false,}}\r\n{{ submoduleCfg : [],}}\r\n{{ ]}}\r\n{{)}}\r\n\r\n \r\n\r\nWhen I now create a new branch via Bitbucket GUI Jenkins is notified.\r\n\r\nBut the Git Polling Log is saying:\r\n\r\nStarted on Feb 15, 2019 9:14:24 AM\r\nno polling baseline in /data/hudson/workspace/integration-tooling-job-generator@libs/jenkins-pipeline-utility-library on \r\nUsing strategy: Default\r\n[poll] Last Built Revision: Revision 35a13763bb4e4bae47242969554bdb2bfe64fe34 (origin/feature/PPP-34542-Evaluate-SonarQube)\r\n > git rev-parse --is-inside-work-tree # timeout=10\r\nFetching changes from the remote Git repositories\r\n > git config remote.origin.url ssh://git@bitbucket.neterra.paysafe.com:7999/psc/integration-tooling.git # timeout=10\r\nFetching upstream changes from ssh://git@bitbucket.neterra.paysafe.com:7999/psc/integration-tooling.git\r\n > git --version # timeout=10\r\nusing GIT_SSH to set credentials Bob the builder SSH key, used for BitBucket GIT access - NEW\r\n > git fetch --tags --progress ssh://git@bitbucket.neterra.paysafe.com:7999/psc/integration-tooling.git +refs/heads/*:refs/remotes/origin/*\r\nPolling for changes in\r\nSeen branch in repository origin/feature/PPP-000-another-test-branch\r\nSeen branch in repository origin/master\r\nSeen 2 remote branches\r\n > git show-ref --tags -d # timeout=10\r\nDone. Took 0.94 sec\r\nNo changes\r\n\r\n \r\n\r\nI can not find any configuration to make this job run when there is no new commit.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a7z7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"It's not possible to trigger a build via webhook push when there is no new commit","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=rincewind77","name":"rincewind77","key":"rincewind77","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Maik Ebert","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=rincewind77","name":"rincewind77","key":"rincewind77","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Maik Ebert","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins ver. 2.121.1\r\nGit Plugin 3.9.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56156/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197539","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197539","key":"JENKINS-56107","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56107/watchers","watchCount":2,"isWatching":false},"created":"2019-02-12T19:35:15.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["git","plugin"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-02-21T14:36:08.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"For some reason some builds (maven job) doesn't populate `${GIT_BRANCH}`\r\nI haven't found any pattern to this - my only suspicion would be \"build strategy\" that sometimes selects non-master branch (solution to problem with simply building all branches from https://issues.jenkins-ci.org/browse/JENKINS-11337)","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a7l7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"GIT_BRANCH sometimes is not populated","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=wojtek","name":"wojtek","key":"wojtek","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Wojtek  ","active":true,"timeZone":"America/Santiago"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=wojtek","name":"wojtek","key":"wojtek","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Wojtek  ","active":true,"timeZone":"America/Santiago"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56107/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197536","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197536","key":"JENKINS-56104","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56104/watchers","watchCount":4,"isWatching":false},"created":"2019-02-12T17:27:24.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-02-16T02:25:16.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15896","id":"15896","name":"github-plugin"}],"customfield_10250":null,"description":"Jenkins version: 2.163\r\n\r\nGithub plugin version: 1.29.3\r\n\r\nGit plugin version: 3.9.3\r\n\r\nGit client plugin version: 2.7.6\r\n\r\nJob Type: Multibranch Job\r\n\r\nWe're currently using the Github plugin so that commits to our repo trigger Github webhooks to our Jenkins server. For the most part, it works. However, at least a few times a week a build will be triggered for a branch that doesn't have a commit. \r\n\r\nFor instance, if I make a commit to ProjectA/develop, it thinks it detects a change and triggers a build for the 2 other branches, ProjectA/stage and ProjectA/master, even though those branches don't have any recent commits. \r\n\r\nHere are more details based off our current issue:\r\n\r\nThe webhook log from our github repo showing a push to the develop branch at 19:44:23 MST.\r\n !webhook log.PNG|width=583,height=392!\r\n\r\nHere we see Jenkins receiving the hook and checking the branches for changes to build. Notice that it detects changes in all 3 configured branches even though develop was the one that triggered the build. Also note that our Jenkins server is set to UTC time so it's actually 19:44:26PM MST that it logged the PushEvent.\r\n\r\n!jenkins log.PNG|width=890,height=227!\r\n\r\nHere we can see the commits to he master branch. Last one was Oct 24, 2018. So there's definitely nothing new in there to build even though Jenkins thinks there is.  !github commit log.PNG|width=681,height=181!\r\n\r\nAnd just for the sake of completeness, here's the GitHub hook log from the master branch job. \r\n\r\n!master github push.PNG|width=901,height=367!","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a7kj:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Jenkins Github SCM building wrong branches","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=chizou","name":"chizou","key":"chizou","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Adam Chou","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=chizou","name":"chizou","key":"chizou","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Adam Chou","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-56104/votes","votes":3,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197336","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197336","key":"JENKINS-55929","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55929/watchers","watchCount":2,"isWatching":false},"created":"2019-02-03T08:30:47.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-02-11T20:56:43.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Jenkins ver. 2.161; git-plugin from master + unrelated changes.\r\n # Visit {{/configure}}\r\n # Scroll to {{Global Pipeline Libraries}}\r\n # Click {{Add}}\r\n # Select {{Retrieval method}}: {{Legacy SCM}}\r\n # Find {{Additional Behaviours}}\r\n # Click {{Add}}\r\n # Click {{Strategy for choosing what to build}} (n.b. this label may change as I find it awkward)\r\n\r\nExpected results:\r\n\r\nA new section.\r\n\r\nActual results:\r\n{code:java}\r\nA problem occurred while processing the request.A problem occurred while processing the request.        Please check <a href=\"https://jenkins.io/redirect/issue-tracker\">our bug tracker</a> to see if a similar problem has already been reported.        If it is already reported, please vote and put a comment on it to let us gauge the impact of the problem.        If you think this is a new issue, please file a new issue.        When you file an issue, make sure to add the entire stack trace, along with the version of Jenkins and relevant plugins.        <a href=\"https://jenkins.io/redirect/users-mailing-list\">The users list</a> might be also useful in understanding what has happened.</p><h2>Stack trace</h2><pre style=\"margin:2em; clear:both\">org.apache.commons.jelly.JellyTagException: jar:file:/home/.jenkins/war/WEB-INF/lib/jenkins-core-2.161.jar!/lib/form/hetero-list.jelly:131:100: &lt;st:include> org.apache.commons.jelly.JellyTagException: jar:file:/home/.jenkins/war/WEB-INF/lib/jenkins-core-2.161.jar!/lib/form/entry.jelly:77:23: &lt;d:invokeBody> No signature of method: hudson.plugins.git.extensions.impl.BuildChooserSetting$DescriptorImpl.getBuildChooserDescriptors() is applicable for argument types: (hudson.model.Hudson) values: [hudson.model.Hudson@ac280a7]Possible solutions: getBuildChooserDescriptors(), getBuildChooserDescriptors(hudson.model.Item) at org.apache.commons.jelly.impl.TagScript.handleException(TagScript.java:726) at org.apache.commons.jelly.impl.TagScript.run(TagScript.java:281) at org.kohsuke.stapler.jelly.CallTagLibScript$1.run(CallTagLibScript.java:99) at org.apache.commons.jelly.tags.define.InvokeBodyTag.doTag(InvokeBodyTag.java:91) at org.apache.commons.jelly.impl.TagScript.run(TagScript.java:269) at org.apache.commons.jelly.impl.ScriptBlock.run(ScriptBlock.java:95) at org.apache.commons.jelly.TagSupport.invokeBody(TagSupport.java:161) at org.apache.commons.jelly.tags.core.OtherwiseTag.doTag(OtherwiseTag.java:41) at org.apache.commons.jelly.impl.TagScript.run(TagScript.java:269) at org.apache.commons.jelly.impl.ScriptBlock.run(ScriptBlock.java:95) at org.apache.commons.jelly.TagSupport.invokeBody(TagSupport.java:161) at org.apache.commons.jelly.tags.core.ChooseTag.doTag(ChooseTag.java:38) at org.apache.commons.jelly.impl.TagScript.run(TagScript.java:269) at org.apache.commons.jelly.impl.ScriptBlock.run(ScriptBlock.java:95) at org.apache.commons.jelly.tags.core.CoreTagLibrary$2.run(CoreTagLibrary.java:105) at org.kohsuke.stapler.jelly.CallTagLibScript.run(CallTagLibScript.java:120) at org.kohsuke.stapler.jelly.CallTagLibScript$1.run(CallTagLibScript.java:99) at org.kohsuke.stapler.jelly.DefaultScriptInvoker.invokeScript(DefaultScriptInvoker.java:63) at org.kohsuke.stapler.jelly.DefaultScriptInvoker.invokeScript(DefaultScriptInvoker.java:53) at hudson.widgets.RenderOnDemandClosure$1.generateResponse(RenderOnDemandClosure.java:123) at org.kohsuke.stapler.HttpResponseRenderer$Default.handleHttpResponse(HttpResponseRenderer.java:124) at org.kohsuke.stapler.HttpResponseRenderer$Default.generateResponse(HttpResponseRenderer.java:69) at org.kohsuke.stapler.Function.renderResponse(Function.java:164) at org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:147) at org.kohsuke.stapler.MetaClass$JavaScriptProxyMethodDispatcher.doDispatch(MetaClass.java:638) at org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58) at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:739) at org.kohsuke.stapler.Stapler.invoke(Stapler.java:870) at org.kohsuke.stapler.MetaClass$9.dispatch(MetaClass.java:458) at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:739) at org.kohsuke.stapler.Stapler.invoke(Stapler.java:870) at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:807) at org.kohsuke.stapler.Stapler.invoke(Stapler.java:870) at org.kohsuke.stapler.Stapler.invoke(Stapler.java:668) at org.kohsuke.stapler.Stapler.service(Stapler.java:199) at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:865) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1655) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154) at org.jenkinsci.plugins.ssegateway.Endpoint$SSEListenChannelFilter.doFilter(Endpoint.java:243) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151) at io.jenkins.blueocean.ResourceCacheControl.doFilter(ResourceCacheControl.java:134) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151) at io.jenkins.blueocean.auth.jwt.impl.JwtAuthenticationFilter.doFilter(JwtAuthenticationFilter.java:61) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151) at jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:128) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151) at hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:157) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:99) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84) at hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:117) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:135) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:93) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249) at hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90) at hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146) at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524) at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132) at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257) at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595) at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255) at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1340) at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203) at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473) at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564) at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201) at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1242) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144) at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132) at org.eclipse.jetty.server.Server.handle(Server.java:503) at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:364) at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260) at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305) at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126) at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366) at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765) at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683) at java.lang.Thread.run(Thread.java:748)Caused by: java.lang.RuntimeException: org.apache.commons.jelly.JellyTagException: jar:file:/home/.jenkins/war/WEB-INF/lib/jenkins-core-2.161.jar!/lib/form/entry.jelly:77:23: &lt;d:invokeBody> No signature of method: hudson.plugins.git.extensions.impl.BuildChooserSetting$DescriptorImpl.getBuildChooserDescriptors() is applicable for argument types: (hudson.model.Hudson) values: [hudson.model.Hudson@ac280a7]Possible solutions: getBuildChooserDescriptors(), getBuildChooserDescriptors(hudson.model.Item) at org.kohsuke.stapler.jelly.groovy.JellyBuilder.doInvokeMethod(JellyBuilder.java:280) at org.kohsuke.stapler.jelly.groovy.Namespace$ProxyImpl.invoke(Namespace.java:92) at com.sun.proxy.$Proxy67.entry(Unknown Source) at lib.FormTagLib$entry$17.call(Unknown Source) at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48) at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113) at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125) at hudson.plugins.git.extensions.impl.BuildChooserSetting.config.run(config.groovy:5) at org.kohsuke.stapler.jelly.groovy.GroovierJellyScript.run(GroovierJellyScript.java:74) at org.kohsuke.stapler.jelly.groovy.GroovierJellyScript.run(GroovierJellyScript.java:62) at org.kohsuke.stapler.jelly.IncludeTag.doTag(IncludeTag.java:147) at org.apache.commons.jelly.impl.TagScript.run(TagScript.java:269) ... 103 moreCaused by: org.apache.commons.jelly.JellyTagException: jar:file:/home/.jenkins/war/WEB-INF/lib/jenkins-core-2.161.jar!/lib/form/entry.jelly:77:23: &lt;d:invokeBody> No signature of method: hudson.plugins.git.extensions.impl.BuildChooserSetting$DescriptorImpl.getBuildChooserDescriptors() is applicable for argument types: (hudson.model.Hudson) values: [hudson.model.Hudson@ac280a7]Possible solutions: getBuildChooserDescriptors(), getBuildChooserDescriptors(hudson.model.Item) at org.apache.commons.jelly.impl.TagScript.handleException(TagScript.java:726) at org.apache.commons.jelly.impl.TagScript.run(TagScript.java:281) at org.kohsuke.stapler.jelly.ReallyStaticTagLibrary$1.run(ReallyStaticTagLibrary.java:99) at org.apache.commons.jelly.impl.ScriptBlock.run(ScriptBlock.java:95) at org.kohsuke.stapler.jelly.ReallyStaticTagLibrary$1.run(ReallyStaticTagLibrary.java:99) at org.apache.commons.jelly.impl.ScriptBlock.run(ScriptBlock.java:95) at org.apache.commons.jelly.tags.core.CoreTagLibrary$2.run(CoreTagLibrary.java:105) at org.kohsuke.stapler.jelly.CallTagLibScript.run(CallTagLibScript.java:120) at org.kohsuke.stapler.jelly.groovy.JellyBuilder.doInvokeMethod(JellyBuilder.java:276) ... 114 moreCaused by: groovy.lang.MissingMethodException: No signature of method: hudson.plugins.git.extensions.impl.BuildChooserSetting$DescriptorImpl.getBuildChooserDescriptors() is applicable for argument types: (hudson.model.Hudson) values: [hudson.model.Hudson@ac280a7]Possible solutions: getBuildChooserDescriptors(), getBuildChooserDescriptors(hudson.model.Item) at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:58) at org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:49) at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48) at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113) at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125) at hudson.plugins.git.extensions.impl.BuildChooserSetting.config$_run_closure1.doCall(config.groovy:7) at hudson.plugins.git.extensions.impl.BuildChooserSetting.config$_run_closure1.doCall(config.groovy) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022) at groovy.lang.Closure.call(Closure.java:414) at groovy.lang.Closure.call(Closure.java:408) at org.kohsuke.stapler.jelly.groovy.JellyBuilder$1.run(JellyBuilder.java:264) at org.kohsuke.stapler.jelly.CallTagLibScript$1.run(CallTagLibScript.java:99) at org.apache.commons.jelly.tags.define.InvokeBodyTag.doTag(InvokeBodyTag.java:91) at org.apache.commons.jelly.impl.TagScript.run(TagScript.java:269) ... 121 moreCaused: java.io.IOException: Failed to evaluate the template closure at hudson.widgets.RenderOnDemandClosure$1.generateResponse(RenderOnDemandClosure.java:126) at org.kohsuke.stapler.HttpResponseRenderer$Default.handleHttpResponse(HttpResponseRenderer.java:124) at org.kohsuke.stapler.HttpResponseRenderer$Default.generateResponse(HttpResponseRenderer.java:69) at org.kohsuke.stapler.Function.renderResponse(Function.java:164) at org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:147) at org.kohsuke.stapler.MetaClass$JavaScriptProxyMethodDispatcher.doDispatch(MetaClass.java:638) at org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58) at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:739) at org.kohsuke.stapler.Stapler.invoke(Stapler.java:870) at org.kohsuke.stapler.MetaClass$9.dispatch(MetaClass.java:458) at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:739) at org.kohsuke.stapler.Stapler.invoke(Stapler.java:870) at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:807) at org.kohsuke.stapler.Stapler.invoke(Stapler.java:870) at org.kohsuke.stapler.Stapler.invoke(Stapler.java:668) at org.kohsuke.stapler.Stapler.service(Stapler.java:199) at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:865) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1655) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154) at org.jenkinsci.plugins.ssegateway.Endpoint$SSEListenChannelFilter.doFilter(Endpoint.java:243) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151) at io.jenkins.blueocean.ResourceCacheControl.doFilter(ResourceCacheControl.java:134) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151) at io.jenkins.blueocean.auth.jwt.impl.JwtAuthenticationFilter.doFilter(JwtAuthenticationFilter.java:61) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151) at jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:128) at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151) at hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:157) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:99) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84) at hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:117) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:135) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:93) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249) at hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67) at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87) at hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90) at hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642) at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146) at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524) at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132) at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257) at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595) at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255) at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1340) at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203) at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473) at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564) at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201) at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1242) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144) at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132) at org.eclipse.jetty.server.Server.handle(Server.java:503) at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:364) at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260) at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305) at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126) at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366) at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765) at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683) at java.lang.Thread.run(Thread.java:748) {code}\r\nNote: there are a couple of bugs that talk about this function and show changes to things, but they're old and this bug is still present...:\r\n * JENKINS-34393\r\n * It might be JENKINS-47702","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a6bn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"exception adding build strategy (choosing what to build) to global pipeline library","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsoref","name":"jsoref","key":"jsoref","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Josh Soref","active":true,"timeZone":"America/Toronto"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsoref","name":"jsoref","key":"jsoref","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Josh Soref","active":true,"timeZone":"America/Toronto"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55929/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197282","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197282","key":"JENKINS-55884","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55884/watchers","watchCount":3,"isWatching":false},"created":"2019-01-31T07:35:21.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-01-31T11:29:22.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21428","id":"21428","name":"bitbucket-branch-source-plugin","description":"bitbucket-branch-source-plugin plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We have a library loaded dynamically in Pipeline script with \r\n\r\nlibrary \"mylib@8c8a4a95f3187b82112cc2eb8539ba470c1eebff\"\r\n\r\nthe sha1 in question is tagged on the remote, but not contained in any branch\r\n\r\nJenkins fails to load the library:\r\n\r\nLoading library mylib@8c8a4a95f3187b82112cc2eb8539ba470c1eebff\r\nAttempting to resolve 8c8a4a95f3187b82112cc2eb8539ba470c1eebff from remote references...\r\n > git --version # timeout=10\r\nusing GIT_SSH to set credentials Jenkins Account\r\n > git ls-remote -h ssh://git@our-bitbucket.com:7999/libProject/mylib.git # timeout=10\r\nCould not find 8c8a4a95f3187b82112cc2eb8539ba470c1eebff in remote references. Pulling heads to local for deep search...\r\n > git rev-parse --is-inside-work-tree # timeout=10\r\nSetting origin to ssh://git@our-bitbucket.com:7999/libProject/mylib.git\r\n > git config remote.origin.url ssh://git@our-bitbucket.com:7999/libProject/mylib.git # timeout=10\r\nFetching origin...\r\nFetching upstream changes from origin\r\n > git --version # timeout=10\r\n > git config --get remote.origin.url # timeout=10\r\nusing GIT_SSH to set credentials Jenkins Account\r\n > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*\r\n > git rev-parse 8c8a4a95f3187b82112cc2eb8539ba470c1eebff^\\{commit} # timeout=10\r\n > git branch -a -v --no-abbrev --contains 8c8a4a95f3187b82112cc2eb8539ba470c1eebff # timeout=10\r\nCould not find a branch containing commit 8c8a4a95f3187b82112cc2eb8539ba470c1eebff\r\n[Bitbucket] Notifying commit build result\r\n[Bitbucket] Build result notified\r\nERROR: No version 8c8a4a95f3187b82112cc2eb8539ba470c1eebff found for library mylib","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a5zn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Loading library fails with commit referenced by tag but not any branch","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=phoenikz","name":"phoenikz","key":"phoenikz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16494","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16494","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16494","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16494"},"displayName":"Daniel Blixt","active":true,"timeZone":"Europe/Stockholm"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=phoenikz","name":"phoenikz","key":"phoenikz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16494","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16494","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16494","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16494"},"displayName":"Daniel Blixt","active":true,"timeZone":"Europe/Stockholm"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.121.3 on RedHat Linux\r\nGit plugin 3.9.2 \r\nGit Client Plugin 2.7.6\r\nBitbucket Branch Source Plugin 2.4.0","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55884/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197274","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197274","key":"JENKINS-55876","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55876/watchers","watchCount":1,"isWatching":false},"created":"2019-01-30T20:10:44.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=richardwhiuk","name":"richardwhiuk","key":"richardwhiuk","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Richard Whitehouse","active":true,"timeZone":"Europe/London"},"updated":"2019-01-30T20:23:46.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"If a submodule itself has submodules, and the URL of those submodules changes, then the second submodule's URL will not be updated.\r\n\r\nThis can cause checkout to fail, because the referenced commit may well not exist in the old submodule. This causes build failures, and either the workspace must be cleaned, or manual intervention must take place.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a5xv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Recursive submodule URLs are not synchronized when changed on a checkout","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=richardwhiuk","name":"richardwhiuk","key":"richardwhiuk","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Richard Whitehouse","active":true,"timeZone":"Europe/London"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=richardwhiuk","name":"richardwhiuk","key":"richardwhiuk","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Richard Whitehouse","active":true,"timeZone":"Europe/London"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55876/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197273","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197273","key":"JENKINS-55875","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55875/watchers","watchCount":2,"isWatching":false},"created":"2019-01-30T20:00:14.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=richardwhiuk","name":"richardwhiuk","key":"richardwhiuk","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Richard Whitehouse","active":true,"timeZone":"Europe/London"},"updated":"2020-02-11T18:43:42.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17423","id":"17423","name":"git-client-plugin","description":"git-client plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Jenkins doesn't forcibly update submodules. This means that a checkout can fail with:\r\n{code:java}\r\nhudson.plugins.git.GitException: Command \"git submodule update --init --recursive modules/gmock\" returned status code 1:\r\nstdout: \r\nstderr: error: Your local changes to the following files would be overwritten by checkout:\r\nbuild-aux/config.guess\r\nbuild-aux/config.sub\r\ngtest/build-aux/config.guess\r\ngtest/build-aux/config.sub\r\nPlease, commit your changes or stash them before you can switch branches.\r\nAborting\r\nUnable to checkout 'ec44c6c1675c25b9827aacd08c02433cccde7780' in submodule path 'modules/gmock'\r\n{code}\r\nNote, while JENKINS-22510 is relevant, and cleaning the checkout before checking out would resolve the problem, that's not a viable solution. Cleaning the checkout throws away all built files, which means the build is no longer incremental.\r\n\r\nNote, this means the behaviour for submodules doesn't match it's behaviour for the standard checkout (which is checked out with --force).","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a5xn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Submodule update fails when the submodule isn't clean","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=richardwhiuk","name":"richardwhiuk","key":"richardwhiuk","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Richard Whitehouse","active":true,"timeZone":"Europe/London"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=richardwhiuk","name":"richardwhiuk","key":"richardwhiuk","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Richard Whitehouse","active":true,"timeZone":"Europe/London"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55875/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197176","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197176","key":"JENKINS-55787","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/10001","id":"10001","description":"Created by Jira Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"https://issues.jenkins-ci.org/images/icons/issuetypes/epic.png","name":"Epic","subtask":false},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55787/watchers","watchCount":7,"isWatching":false},"created":"2019-01-25T21:58:33.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["pipeline-model-definition-plugin","xunit"],"customfield_10224":null,"customfield_10620":"Jenkins 2.179","customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"42099","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42099","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"205735","key":"JENKINS-61870","self":"https://issues.jenkins-ci.org/rest/api/2/issue/205735","fields":{"summary":"Git plugin UI transition for shallow clone needs more changes","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/10203","description":"This change has been implemented and merged, but not yet released.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/generic.png","name":"Fixed but Unreleased","id":"10203","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"42325","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/42325","type":{"id":"10121","name":"Relates","inward":"relates to","outward":"relates to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10121"},"inwardIssue":{"id":"206431","key":"JENKINS-62437","self":"https://issues.jenkins-ci.org/rest/api/2/issue/206431","fields":{"summary":"Change Jenkins configuration UI from tables to divs","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/10001","id":"10001","description":"Created by Jira Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"https://issues.jenkins-ci.org/images/icons/issuetypes/epic.png","name":"Epic","subtask":false}}}},{"id":"40783","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/40783","type":{"id":"10121","name":"Relates","inward":"relates to","outward":"relates to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10121"},"inwardIssue":{"id":"197541","key":"JENKINS-56109","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197541","fields":{"summary":"Jenkins Core: Change Jenkins configuration UI from tables to divs","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/10002","id":"10002","description":"Created by Jira Software - do not edit or delete. Issue type for a user story.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14685&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14685}}}}],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsoref","name":"jsoref","key":"jsoref","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Josh Soref","active":true,"timeZone":"America/Toronto"},"updated":"2020-05-25T10:14:50.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15709","id":"15709","name":"analysis-core-plugin","description":"Static Analysis Utilities - base functionality for all Jenkins' static analysis plug-ins"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21428","id":"21428","name":"bitbucket-branch-source-plugin","description":"bitbucket-branch-source-plugin plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/20826","id":"20826","name":"datadog-plugin","description":"datadog-plugin plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15896","id":"15896","name":"github-plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/16529","id":"16529","name":"jclouds-plugin","description":"jclouds plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15683","id":"15683","name":"jobconfighistory-plugin","description":"jobconfighistory plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17522","id":"17522","name":"mailer-plugin","description":"mailer plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15502","id":"15502","name":"mercurial-plugin","description":"Mercurial plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15759","id":"15759","name":"qc-plugin","description":"qc plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/18321","id":"18321","name":"slack-plugin","description":"slack plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15578","id":"15578","name":"ssh-slaves-plugin","description":"SSH slaves plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15874","id":"15874","name":"tap-plugin","description":"tap plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17462","id":"17462","name":"wix-plugin","description":"wix plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21714","id":"21714","name":"workflow-cps-global-lib-plugin","description":"subcomponent"}],"customfield_10250":null,"description":"This is the preferred style:\r\n\r\n!https://user-images.githubusercontent.com/2119212/51774426-47af6f00-20c0-11e9-8f58-ce82bd17dee4.png!\r\n As opposed to:\r\n\r\n!https://user-images.githubusercontent.com/2119212/51774439-539b3100-20c0-11e9-9c96-6569a173d80c.png!\r\n or \r\n !https://user-images.githubusercontent.com/2119212/51774473-6f9ed280-20c0-11e9-922c-42ea7ddedd34.png!\r\n\r\n \r\n\r\n–\r\n\r\nI'm going to point to this issue for a bunch of plugins.\r\n\r\n \r\n\r\nNote: my initial efforts relied on using {{optionalBlock}} instead of {{entry}} + {{checkbox}}. Unfortunately this interacts poorly w/ the form submission magic, and so rather than continue down that path, I'm switching to moving {{label}}'s from the {{entry}} to the {{checkbox}}. The rendering won't generally change from the examples above.\r\n\r\n \r\n\r\nPlease don't close this ticket when an individual PR is merged, I'm using the same ticket for many plugins.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10332":null,"customfield_10255":null,"customfield_10333":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a5c3:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10326":null,"customfield_10249":null,"customfield_10327":null,"customfield_10328":null,"customfield_10329":null,"summary":"Switch labels from entry to checkbox","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsoref","name":"jsoref","key":"jsoref","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Josh Soref","active":true,"timeZone":"America/Toronto"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsoref","name":"jsoref","key":"jsoref","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Josh Soref","active":true,"timeZone":"America/Toronto"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55787/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197147","self":"https://issues.jenkins-ci.org/rest/api/2/issue/197147","key":"JENKINS-55765","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55765/watchers","watchCount":2,"isWatching":false},"created":"2019-01-24T16:19:54.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-01-24T21:53:39.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"If we start a notifycommit call to our jenkins via browser we get the following informations about our Jenkins server (via http://***/git/notifyCommit?url=git://***/***.git):\r\n{code:java}\r\nNo git jobs using repository: git://***/***.git and branches: \r\nScheduled indexing of ***-Pipeline\r\n{code}\r\nSo if the Jenkins is open to the world this leaks some private information about the system. Is there a way to disable this messages. We want to enable it in case of problems only. In this case it would suffice to give a hint like: \"There was an error. Please enable verbose mode for debugging.\"","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a55v:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Notify commit is too verbose","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=bkihm","name":"bkihm","key":"bkihm","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Benjamin Kihm","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=bkihm","name":"bkihm","key":"bkihm","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Benjamin Kihm","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"git plugin 3.9.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55765/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"196908","self":"https://issues.jenkins-ci.org/rest/api/2/issue/196908","key":"JENKINS-55714","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55714/watchers","watchCount":4,"isWatching":false},"created":"2019-01-21T19:48:18.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-03-30T12:29:39.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We have an odd problem with Git SCM polling on some of our jenkins projects. The projects in question only seem to be affected when they are built for the first time. These projects are of type \"pipeline\" and they always have multiple Git repositories being checked out.\r\n\r\nThe build configurations are somewhat complex, but here are the variables that I think are contributing to the problem. First off, we have multiple stages for these builds, each of which checks out several of the same git repos. Further, to ensure that each stage checks out the same copy / revision of these repos we first check out the head revision from a given refspec on the first stage and then cache the revision / hash from that checkout, and then use that hash when checking out subsequent copies. In pseudo-code, the mechanics look something like this:\r\n{code:java}\r\ndef cached_rev = '' \r\nstage (\"stage 1\") {\r\n     node {\r\n         checkout (scm: [class: '$GitSCM', branches: 'master'...)\r\n         cached_rev = sh(returnStdout: true, script: 'git rev-parse HEAD').trim()\r\n         // do some build stuff\r\n     }\r\n}\r\nstage (\"stage 2\") {\r\n     node {\r\n         checkout (scm: [class: '$GitSCM', branches: cached_rev...])\r\n         // do more build stuff\r\n     }\r\n} {code}\r\nThe mechanics of this configuration work as expected at built time (ie: the correct / same revisions get checked out for each stage), however the polling mechanics don't work. For some reason changes to repos configured in this way always detect changes in them which causes builds to run over and over and over again, in perpetuity.\r\n\r\nOne other factor that may play a role here is that we also dynamically set the `changelog` attribute on each SCM checkout. We set the flag to `true` in the first stage, and then to `false` on all subsequent stages. We do this to try and prevent the change logs from these shared repositories from showing up many times in duplicate on the build summary page (ie: if we have 5 stages configured like this, all sharing the same repo configuration, then changes to this repo typically show up 5 times in the build summary page, which is annoying at best).\r\n\r\nOne other interesting piece of the puzzle here as well is that we have tried setting the `poll: false` option on these common Git repos as well to try and circumvent this strange pollng behavior. However, interestingly enough, this seems to have no effect. It is almost like the poll flag is being ignored in certain cases or perhaps confusing the Git plugin in certain situations. \r\n\r\nAnother interesting piece of the puzzle is that the problematic behavior only seems to happen when we build a project for the first time. I've noticed the message \"no polling baseline\" several times in the polling logs for these builds, which seems to suggest to me that perhaps the Git plugin is doing something different when a job is first built, maybe because it has no pre-existing workspace to use as a reference for pulling Git revisions. It seems a little odd to me that Jenkins would be using the workspace for polling data seeing as how the workspace may exist on any number of build agents attached to the same build farm, some of which may be more recent than others. Also, should the build agent used for the most recent build go offline then that could introduce instability in the logic as well. I'm not 100% convinced this specific message contributes to the problem I'm reporting here. I'm just mentioning it in case it's relevant in some way.\r\n\r\nFinally, we've tried several things to \"work around\" this problem in our production environment. Killing duplicate builds that get triggered yields no effect. The next SCM trigger operation still picks up changes from earlier builds and flags them as \"new\". We've tried killing newly triggered builds from the queue before they start building, but subsequent SCM triggers still kick in. The only effective workaround we've found is if we disable the jobs that exhibit the problem (ie: using Groovy API calls), leaving the job disabled until the next build trigger kicks in, and then re-enable the job, the SCM triggers seem to correct themselves and the problem ceases to exist. Subsequent build operations proceed as normal.\r\n\r\nAny help anyone may have that could explain this problem or how to fix it would be greatly appreciated. \r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a4rv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin scm polling trigger not working on first build ","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=leedega","name":"leedega","key":"leedega","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Kevin Phillips","active":true,"timeZone":"America/Moncton"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=leedega","name":"leedega","key":"leedega","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Kevin Phillips","active":true,"timeZone":"America/Moncton"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins v2.148\r\nGit plugin v3.9.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55714/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"196657","self":"https://issues.jenkins-ci.org/rest/api/2/issue/196657","key":"JENKINS-55524","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55524/watchers","watchCount":6,"isWatching":false},"created":"2019-01-10T20:47:02.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-12-14T12:41:18.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We use Bitbucket Server for source control. We have three permanent branches: develop, release, master. We have automatic merges turned on so that for any PR/merge into the release branch, Bitbucket will merge release into the develop branch. For any PR/merge into the master branch, Bitbucket will merge master into release *and* develop. Bitbucket is configured to always create a new merge commit.\r\n\r\nAfter the merge, Bitbucket sends a commit notification to Jenkins. In the situation of a merge into release, two notifications are sent: one for the merge into release and another for the automatic merge into the develop branch.\r\n\r\nWhen the git plugin polls for what branches are included in the merge to release commit , it sees both the develop *and* release branch instead of just the release branch. It looks like the Git plugin is using {{-contains}} instead of {{-points-at}} to determine what branch a commit points to.\r\n\r\nSteps to Reproduce:\r\n\r\n1. Create a repo. \r\n 2. Create a develop branch. Make a commit on that branch.\r\n 3. Make a release branch.\r\n 4. Make a new commit on the develop branch. Merge it into the release branch.\r\n 5. Merge the release branch into the develop branch. `git log -2 --graph` should look something like this:\r\n{code:java}\r\n*   commit e00fb35bcd9b7fc218f0c6b7aec352d7ad1fb62e (HEAD -> develop, tag: 2019.110.100, origin/develop, origin/HEAD)                        \r\n|\\  Merge: a251303 366bf67                                                                                                                   \r\n| | Author: ********                                                                                                \r\n| | Date:   Thu Jan 10 10:34:48 2019 -0800                                                                                                   \r\n| |                                                                                                                                          \r\n| |     Automatic merge from release -> develop                                                                                              \r\n| |                                                                                                                                          \r\n| |     * commit '366bf67833c09f8d09280d8ec31b8142dfd5c43f':                                                                                 \r\n| |                                                                                                                                          \r\n| *   commit 366bf67833c09f8d09280d8ec31b8142dfd5c43f (tag: 2019.110.99, origin/release)                                                     \r\n| |\\  Merge: 60db8dd a251303                                                                                                                 \r\n| |/  Author: ********                                                                                              \r\n|/|   Date:   Thu Jan 10 10:34:48 2019 -0800                                                                                                 \r\n| |                                                                                                                                          \r\n| |       Merge pull request #11 from develop to release                                                           \r\n| |                                                                                                                                          \r\n| |       * commit 'a251303c15524fad76d3634834ffe6b8aec51dbe':                                                                               \r\n| |                                                                                                                                          \r\n{code}\r\n6. Create a Jenkins freestyle job that polls your repository but doesn't actually poll the repository. Set the branches to build to {{origin/**}}.\r\n 7. Make a notifyCommit web request for the merge to release commit: {{[https://********/git/notifyCommit?url=ssh://git@********/********.git&branches=release&sha1=366bf67833c09f8d09280d8ec31b8142dfd5c43f|https://%2A%2A%2A%2A%2A%2A%2A%2A/git/notifyCommit?url=ssh://git@********/********.git&branches=release&sha1=366bf67833c09f8d09280d8ec31b8142dfd5c43f]}}\r\n 8. Note that the plugin reports the build happening on the develop branch instead of the release branch. I would expect (and want) the build to run on the release branch.\r\n\r\nI think the problem is with the command to determine what branches a commit points to. The plugin is currently using:\r\n{code:java}\r\ngit branch -a -v --no-abbrev --contains 366bf67833c09f8d09280d8ec31b8142dfd5c43f\r\n{code}\r\nI believe it should be using:\r\n{code:java}\r\ngit branch -a -v --no-abbrev --points-at 366bf67833c09f8d09280d8ec31b8142dfd5c43f\r\n{code}\r\nto get only the branch heads of a commit. From the Git docs: \"--contains <commit> is used to find all branches which will need special attention if <commit> were to be rebased or amended, since those branches contain the specified <commit>.\" I'm not sure if what the Git plugin is doing would be considered \"finding all branches which will need special attention\" in case of a rebase/amend.\r\n\r\nPlease update the Git plugin to use the {{-points-at}} argument instead of the {{-contains}} parameter.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i0a3e3:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Triggers on wrong branch when pushing multiple merges","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=splatteredbits","name":"splatteredbits","key":"splatteredbits","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Aaron Jensen","active":true,"timeZone":"America/Los_Angeles"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=splatteredbits","name":"splatteredbits","key":"splatteredbits","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Aaron Jensen","active":true,"timeZone":"America/Los_Angeles"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.138.3\r\nGit Plugin 2.7.3\r\nWindows 2012\r\nChrome\r\n","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55524/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"196069","self":"https://issues.jenkins-ci.org/rest/api/2/issue/196069","key":"JENKINS-55027","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55027/watchers","watchCount":1,"isWatching":false},"created":"2018-12-05T12:53:09.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-12-13T15:50:20.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I think they should be optional, like e.g. the matrix-project plugin \r\n\r\nc.f https://issues.jenkins-ci.org/browse/JENKINS-54022","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09zsb:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin requires:  Pipeline: SCM Step, Step API","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jbochenski","name":"jbochenski","key":"jbochenski","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Jakub Bochenski","active":true,"timeZone":"Europe/Warsaw"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jbochenski","name":"jbochenski","key":"jbochenski","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Jakub Bochenski","active":true,"timeZone":"Europe/Warsaw"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-55027/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"195901","self":"https://issues.jenkins-ci.org/rest/api/2/issue/195901","key":"JENKINS-54895","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54895/watchers","watchCount":2,"isWatching":false},"created":"2018-11-27T20:24:14.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-12-10T18:07:16.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"The builds on our release branch, release/6.4, do not always pick up the latest commit.  It was 15 commits behind the most recent commit on the most recent build, which is build 410.  Build 409, however, used the correct commit.   JENKINS-37263 describes a similar problem, but the issue occurred on a local branch and this is not a local branch.\r\n\r\nThe build logs are attached and any company or user specific info has been changed to be generic.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09yr7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Jenkins build used wrong commit number","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=altatude1","name":"altatude1","key":"altatude1","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Janet Dermer","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=altatude1","name":"altatude1","key":"altatude1","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Janet Dermer","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Freestyle  project\r\nJenkins 2.134\r\nWindows 10\r\nPlugins are listed in the attached build log.","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54895/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"195866","self":"https://issues.jenkins-ci.org/rest/api/2/issue/195866","key":"JENKINS-54868","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54868/watchers","watchCount":6,"isWatching":false},"created":"2018-11-26T20:21:58.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["configuration","git","newbie-friendly","pipeline"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"38322","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/38322","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"164417","key":"JENKINS-29840","self":"https://issues.jenkins-ci.org/rest/api/2/issue/164417","fields":{"summary":"when workflow uses multiple git repos the \"git build data\" and \"tags\" become next to useless.","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"38321","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/38321","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"186170","key":"JENKINS-47689","self":"https://issues.jenkins-ci.org/rest/api/2/issue/186170","fields":{"summary":"Repository names missing in currentBuild.changeSets nor display in Change log page when using multiple repositories","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680}}}}],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=zedasvacas","name":"zedasvacas","key":"zedasvacas","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Fábio Silva","active":true,"timeZone":"GMT"},"updated":"2020-04-28T16:56:33.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Currently when checking out multiple repositories or a single repository with submodules the Git plugin only displays the commit sha(s) and branch name(s) for each of the repositories being checked out on the job details page and as part of the Git Build Data.\r\n\r\nIt would be useful to have the Organization/Project and Repository name(s) displayed alongside the commit sha(s) and branch name(s). This makes it easier to associate the changes to the repository.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09yjn:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Display Organization/Project and Repository name(s) on the job details page","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=tarungidwani","name":"tarungidwani","key":"tarungidwani","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16495","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16495","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16495","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16495"},"displayName":"Tarun Gidwani","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=tarungidwani","name":"tarungidwani","key":"tarungidwani","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16495","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16495","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16495","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16495"},"displayName":"Tarun Gidwani","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54868/votes","votes":5,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"195543","self":"https://issues.jenkins-ci.org/rest/api/2/issue/195543","key":"JENKINS-54740","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54740/watchers","watchCount":4,"isWatching":false},"created":"2018-11-21T00:13:08.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-11-21T01:16:10.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"User has configured a job with branch specifier \"**\".  When the user ran the build, Jenkins ran a build for every branch in the repository.  We've seen this before.  The twist here is that we upgraded the Jenkins hardware, and Jenkins version. We did an rsync of the old jenkins data directory to the new server.  On the old server, the job only ran when a new commit was pushed to the repository, and only the branch that changed.\r\n\r\n \r\n\r\nThis ticket is more of a question than a problem since we expect this for a fresh install, but we were surprised that the builds were running for every branch since we copied the original workspace.  \r\n\r\n \r\n\r\nThe question than is how does jenkins keep track of which branches/commits have been built?  What additional files, and/or precautions do we need to take to make sure this does not happen again.  We are unable to locate any documentation that explains exactly how the git plugin manages to keep track of which commits have been build.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09wlf:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Jenkins running build for every branch in repository.","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=michael_giroux","name":"michael_giroux","key":"michael_giroux","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"michael giroux","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=michael_giroux","name":"michael_giroux","key":"michael_giroux","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"michael giroux","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.138.3\r\nGit-Plugin 3.9.1\r\nLinux ${HOSTNAME} 3.10.0-862.14.4.el7.x86_64 #1 SMP Fri Sep 21 09:07:21 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54740/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"195534","self":"https://issues.jenkins-ci.org/rest/api/2/issue/195534","key":"JENKINS-54732","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54732/watchers","watchCount":4,"isWatching":false},"created":"2018-11-20T16:38:40.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"38283","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/38283","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"176591","key":"JENKINS-39968","self":"https://issues.jenkins-ci.org/rest/api/2/issue/176591","fields":{"summary":"git checkouts are not pipeline-parallel safe","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"38441","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/38441","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"193429","key":"JENKINS-53346","self":"https://issues.jenkins-ci.org/rest/api/2/issue/193429","fields":{"summary":"GitSCM checkout returns same values on second different call","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"38284","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/38284","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"163654","key":"JENKINS-29193","self":"https://issues.jenkins-ci.org/rest/api/2/issue/163654","fields":{"summary":"Same sha used for multiple git checkouts","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"38500","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/38500","type":{"id":"10121","name":"Relates","inward":"relates to","outward":"relates to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10121"},"inwardIssue":{"id":"196082","key":"JENKINS-55040","self":"https://issues.jenkins-ci.org/rest/api/2/issue/196082","fields":{"summary":"Problem sharing data objects between parallel build stages","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/5","description":"A developer had implemented a fix and is waiting for a feedback from the reporter.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2019-01-22T21:59:26.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21692","id":"21692","name":"pipeline","description":"A generic component for Pipeline issues. Use it when you do not know to which component the issue belongs"}],"customfield_10250":null,"description":"I recently ran some test builds on our build farm to check out the \"new\" return data produced by the scm \"checkout\" function. In our case we are using Git as our source repository and are doing checkouts using code that looks like this:\r\n\r\n \r\n\r\ndef branchName = \"MyBranch\"\r\ndef res = checkout (\r\n    changelog: true,\r\n    poll: false,\r\n    scm: [\r\n        $class: 'GitSCM',\r\n        branches: [[name: branchName]],\r\n        browser: [$class: 'GitLab', repoUrl: \"path/to/repo', version: \"10.0\"],\r\n        doGenerateSubmoduleConfigurations: false,\r\n        extensions: [\r\n            [$class: 'CloneOption', depth: 0, noTags: false, reference: '', shallow: false, timeout: 90],\r\n        ],\r\n        submoduleCfg: [],\r\n \r\n        userRemoteConfigs: [[credentialsId: 'git_creds', url: \"path/to/repo.git\"]]\r\n]\r\n)\r\necho \"Results from checkout are \" + res.toString()\r\n \r\nThis code works well enough on it's own, until you try to run it in parallel. In our case we have 2 parallel stages that are set up to check out code from the same Git repository but that use 2 different branches. When you examine the output produced by the \"echo\" statement at the end of the snippet you will see that the revision information returned (ie: res.GIT_COMMIT) reflects the correct revision number for the \"first\" clone operation that runs, but it does NOT for the \"second\" clone operation (dependent upon which of the parallel stages runs first). The second clone operation to run seems to be returning result data from the first clone operation, almost like the two clone processes are sharing common data behind the scenes or something. This makes it impossible to rely on the results of a \"checkout\" call when performing the operation in parallel.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09wjf:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Revision information produced by pipline 'checkout' operation isn't parallel safe","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=leedega","name":"leedega","key":"leedega","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Kevin Phillips","active":true,"timeZone":"America/Moncton"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=leedega","name":"leedega","key":"leedega","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Kevin Phillips","active":true,"timeZone":"America/Moncton"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins v2.148\r\nPipeline Plugin v2.5\r\nGit Plugin v3.9.1\r\nGit Client Plugin v2.7.3","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54732/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"195401","self":"https://issues.jenkins-ci.org/rest/api/2/issue/195401","key":"JENKINS-54612","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54612/watchers","watchCount":7,"isWatching":false},"created":"2018-11-13T20:15:40.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/2","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["git","windows"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-09-24T00:38:44.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We use a reference repo on all our agents to speed up our clones. This seems to work on all agents we have except for our Windows nodes. I first noticed that the fetch times were slower on the Windows nodes. I then confirmed by checking the size of the .git folder on each machine after the clone. All non-windows nodes were 11MB whereas the .git folder on Windows was 1.9GB.\r\n\r\nOur Windows agents are connected over ssh (Cygwin). The Remote Root is on C:\\ (windows style path) and the reference repository is also on C:\\. We use the Checkout/SCM pipeline step in order to take advantage of extra options not available using the Git step.\r\n\r\nThis is a simplified snippet of what we use I pulled from the Syntax generator.\r\n{code:none}\r\ncheckout([\r\n     $class: 'GitSCM',\r\n     branches: [[name: '$BRANCH']],\r\n     doGenerateSubmoduleConfigurations: false,\r\n     extensions: [[$class: 'CloneOption',\r\n         depth: 0,\r\n         noTags: false,\r\n         reference: '$REFERENCE_REPO',\r\n         shallow: false]],\r\n     gitTool: 'Default',\r\n     submoduleCfg: [],\r\n     userRemoteConfigs: [[url: '$REPO']]])\r\n{code}\r\nThe console output tries to convince me it's using the reference repo but it appears it isn't (3:20 to fetch).\r\n{code:none}\r\n00:41:39.279 Cloning the remote Git repository\r\n00:41:39.355 Cloning repository https://github.com/***/***.git\r\n00:41:39.368  > git init C:\\Users\\jenkins\\workspace\\Build # timeout=10\r\n00:41:39.574 Using reference repository: C:\\repo_cache\r\n00:41:39.574 Fetching upstream changes from https://github.com/***/***.git\r\n00:41:39.574  > git --version # timeout=10\r\n00:41:39.606  > git fetch --tags --progress https://github.com/***/***.git +refs/heads/*:refs/remotes/origin/* # timeout=30\r\n00:45:00.369  > git config remote.origin.url https://github.com/***/***.git # timeout=10\r\n00:45:00.431  > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n00:45:00.603  > git config remote.origin.url https://github.com/***/***.git # timeout=10\r\n00:45:00.775 Fetching upstream changes from https://github.com/***/***.git\r\n00:45:00.776  > git fetch --tags --progress https://github.com/***/***.git +refs/heads/*:refs/remotes/origin/* # timeout=30\r\n00:45:02.416  > git rev-parse \"origin/master^{commit}\" # timeout=10\r\n00:45:02.448 Checking out Revision *** (origin/master)\r\n00:45:02.588  > git config core.sparsecheckout # timeout=10\r\n00:45:02.619  > git checkout -f *** # timeout=30\r\n00:46:45.479 Commit message: \"Merge pull request #63 from ***/***\"\r\n{code}\r\nI've tried various things like using Windows Git to populate the reference repo, using a Jenkins git step to populate the repo, using cygwin style paths for both the ref repo location and/or the remote root dir for the agent. Not sure what else I can try but I assume its going to be something related to windows vs cygwin vs path styles vs line-endings.\r\n\r\n \r\n\r\nEdit: I can use an sh step to clone using the ref repo successfully.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09vqz:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Reference repo not used for Git clones on Windows SSH agents","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=broussar","name":"broussar","key":"broussar","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Adam Brousseau","active":true,"timeZone":"America/Toronto"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=broussar","name":"broussar","key":"broussar","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Adam Brousseau","active":true,"timeZone":"America/Toronto"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.138.2\r\nGit Plugin 3.9.1\r\nWindows 2012r2\r\nCygwin Git 2.17.0","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54612/votes","votes":4,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"194730","self":"https://issues.jenkins-ci.org/rest/api/2/issue/194730","key":"JENKINS-54106","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54106/watchers","watchCount":2,"isWatching":false},"created":"2018-10-16T15:15:14.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-10-18T08:42:24.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15896","id":"15896","name":"github-plugin"}],"customfield_10250":null,"description":"I am seeing some long delays between github webhook events and jobs polling for changes (e.g. from GitHub Hook Log). Note the almost 17 1/2 hour gap between the event being received and the polling being performed.\r\n\r\n \r\n\r\n{{Started on Oct 16, 2018 2:46:44 PM}}\r\n {{Started by event from 43.148.32.90 ? https://<jenkins>/github-webhook/ on Mon Oct 15 21:19:54 BST 2018}}\r\n {{[poll] Last Built Revision: Revision c7013e0bb447b77bf13e719201ce2acb44b073af (refs/remotes/origin/<branch>)}}\r\n \\{{ > git --version # timeout=30}}\r\n {{using GIT_SSH to set credentials <creds>}}\r\n \\{{ > git ls-remote -h <repo> # timeout=30}}\r\n {{Found 345 remote heads on <git_url>}}\r\n {{[poll] Latest remote head revision on refs/heads/<branch> is: c7013e0bb447b77bf13e719201ce2acb44b073af - already built by 34835}}\r\n {{Done. Took 3 sec}}\r\n {{No changes}}\r\n\r\n \r\n\r\nI have checked that github is sending the webhook notifications and these get a http 200 response code.\r\n\r\nThe Jenkins Log reports the PushEvents are being received and that my build job is being \"Poked\" but polling is not being run for the job.\r\n\r\n \r\n\r\n{{Oct 16, 2018 3:29:50 PM FINEST org.jenkinsci.plugins.github.webhook.GHEventPayload$PayloadHandler parse}}\r\n \\{{Payload }}\r\n\r\n{{...}}\r\n {{Oct 16, 2018 3:29:50 PM INFO org.jenkinsci.plugins.github.webhook.subscriber.DefaultPushGHEventSubscriber onEvent}}\r\n {{Received PushEvent for https://<github>/<user>/<repo> from <ip> ⇒ https://<jenkins>/github-webhook/}}\r\n {{Oct 16, 2018 3:29:51 PM FINE org.jenkinsci.plugins.github.webhook.subscriber.DefaultPushGHEventSubscriber$1 run}}\r\n {{Considering to poke my_build}}\r\n {{Oct 16, 2018 3:29:51 PM INFO org.jenkinsci.plugins.github.webhook.subscriber.DefaultPushGHEventSubscriber$1 run}}\r\n {{Poked my_build}}\r\n\r\n \r\n\r\nThe agent that my_build runs on is not permanently busy.\r\n\r\nAny idea what is going on here? How can I debug this further?\r\n\r\nWe have a lot of jobs (~1000) and possibly a lot (10s) of jobs polling SCMs but I can't imagine this would take 17 1/2 hours...","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09s77:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Long delay from github webhook to polling when polling threads all busy","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=rg","name":"rg","key":"rg","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Russell Gallop","active":true,"timeZone":"Europe/London"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=rg","name":"rg","key":"rg","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Russell Gallop","active":true,"timeZone":"Europe/London"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"jenkins 2.107.3\r\ngit-plugin 3.9.0\r\ngithub-plugin 1.29.0\r\ngithub API 1.90\r\n","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54106/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"194726","self":"https://issues.jenkins-ci.org/rest/api/2/issue/194726","key":"JENKINS-54102","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54102/watchers","watchCount":2,"isWatching":false},"created":"2018-10-16T12:51:17.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-11-05T16:00:45.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When a local branch is checked out with name matching a remote branch, and the remote branch is rewritten, endless builds are triggered. This happens because the plugin finds multiple matching revisions, one in the local and one in the remote branch:\r\n {code:html}\r\nMultiple candidate revisions\r\nScheduling another build to catch up with <build name>{code}\r\n\r\n This can be solved by using the fully qualified remote branch name as specifier, i.e. \"remotes/origin/branchname\". But this is not possible in my case since the branch name is generated by the multibranch plugin.\r\n\r\nA simple fix might be to delete the automatic local branch before trying to match branch names; the local branch is anyway deleted a bit later, before it is recreated:\r\n{code:html}\r\nMultiple candidate revisions\r\nScheduling another build to catch up with <build name>\r\nChecking out Revision <revision> (<local branch name>)\r\n> git config core.sparsecheckout # timeout=10\r\n> git checkout -f <revision>\r\n> git branch -a -v --no-abbrev # timeout=10\r\n> git branch -D <local branch name> # timeout=10\r\n> git checkout -b <local branch name> <revision>{code}\r\n...or, alternatively, exclude the automatic local branch explicitly from the branch name matching.\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09s6b:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Endless builds with local branch checked out","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jobh","name":"jobh","key":"jobh","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Joachim Haga","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jobh","name":"jobh","key":"jobh","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Joachim Haga","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54102/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"194668","self":"https://issues.jenkins-ci.org/rest/api/2/issue/194668","key":"JENKINS-54053","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54053/watchers","watchCount":4,"isWatching":false},"created":"2018-10-12T16:24:03.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-09T00:00:51.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When I run Jenkins from the war file on Windows with the default plugins, it defines the git implementation as \"git.exe\" instead of \"git\".\r\n\r\nWhen I add a Linux agent, it incorrectly attempts to use \"git.exe\" as the git executable on the Linux agent.\r\n\r\nIt should use \"git\" as the default git implementation on Linux agents even when connected from a Windows master.\r\n\r\nPreferred solution is to use a Linux master rather than a Windows master because more Jenkins users run Linux masters than Windows masters.  If that solution is not viable, then an alternate solution is to define a new git implementation like \"git-linux\" with the path to the git executable on the Linux agents (typically /usr/bin/git).","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09ru3:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git plugin uses git.exe as default on Windows server, even for Linux agents","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.146\r\nDefault plugins","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54053/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"194663","self":"https://issues.jenkins-ci.org/rest/api/2/issue/194663","key":"JENKINS-54048","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54048/watchers","watchCount":3,"isWatching":false},"created":"2018-10-12T12:05:58.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-10-12T14:32:15.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I use the shallow clone feature of the git plugin to reduce the size of the checked out repository. This works, but Git still checks out more data than needed, because it calls\r\n\r\n{{git fetch --no-tags --progress <URL> +refs/heads/:refs/remotes/origin/ --depth=<SHALLOW DEPTH>}}\r\n\r\nWhen the Git server has {{uploadpack.allowReachableSHA1InWant}} enabled, it would be possible to instead call\r\n\r\n{{git fetch --no-tags --progress <URL> <COMMIT HASH> --depth=<SHALLOW DEPTH>}}\r\n\r\nto only fetch the commit that currently gets compiled (and some history before it for computing the changelog).\r\n\r\nWould it be possible to add an option that does this? It would also be possible to do this if there was a way to insert the current commit hash into the refspec text, which I can already configure.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09rsz:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Fetch single commit only","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=saierd","name":"saierd","key":"saierd","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Daniel Saier","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=saierd","name":"saierd","key":"saierd","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Daniel Saier","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-54048/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"194564","self":"https://issues.jenkins-ci.org/rest/api/2/issue/194564","key":"JENKINS-53959","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53959/watchers","watchCount":5,"isWatching":false},"created":"2018-10-09T12:39:14.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-03-07T12:59:00.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"When using declarative pipeline in a pipeline(not multibranch-pipeline) job and adding the additional behavior to \"Git LFS pull after checkout\".\r\n\r\nThis is actually done on master too. Which for very LARGE files seems over kill.\r\n\r\nFirst off we don't have LFS installed on master.\r\n Secondly we don't have that much storage allocated cause we never considered the master would be trying to pull from our LFS storage that is a job for our agents... :)\r\n\r\nUnless I am mistaken I don't think this is the intended behavior.\r\n\r\nOf course I could try an extension plugin that says avoids LFS checkout on master.\r\n\r\nI would be happy to look into a solution for the git plugin if this is indeed not the intended behavior.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09r6z:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Pipeline Git LFS avoid pull on Jenkins Master","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=casz","name":"casz","key":"casz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=casz&avatarId=20794","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=casz&avatarId=20794","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=casz&avatarId=20794","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=casz&avatarId=20794"},"displayName":"Joseph Petersen (old)","active":true,"timeZone":"Europe/Copenhagen"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=casz","name":"casz","key":"casz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=casz&avatarId=20794","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=casz&avatarId=20794","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=casz&avatarId=20794","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=casz&avatarId=20794"},"displayName":"Joseph Petersen (old)","active":true,"timeZone":"Europe/Copenhagen"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53959/votes","votes":4,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"194403","self":"https://issues.jenkins-ci.org/rest/api/2/issue/194403","key":"JENKINS-53877","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53877/watchers","watchCount":5,"isWatching":false},"created":"2018-10-02T17:24:47.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["checkout","git","sshagent"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=markewaite","name":"markewaite","key":"markewaite","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?ownerId=markewaite&avatarId=12478","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&ownerId=markewaite&avatarId=12478","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&ownerId=markewaite&avatarId=12478","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&ownerId=markewaite&avatarId=12478"},"displayName":"Mark Waite","active":true,"timeZone":"America/Denver"},"updated":"2018-10-03T12:42:50.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/17509","id":"17509","name":"ssh-agent-plugin","description":"ssh-agent plugin"}],"customfield_10250":null,"description":"sshagent + git checkout doesn't seem to work: the `SSH_AUTH_SOCK` env var disappears from the git process environment, and thus the ssh-agent is not available to ssh started by git...\r\n\r\n \r\n\r\nScenario:\r\n- create a ssh key credentials `ssh-key`\r\n- create a pipeline job with Jenkinsfile:\r\n{code:groovy}\r\nnode {\r\n    stage('Preparation') {\r\n        sshagent (['my-ssh-key']) {\r\n            sh 'printenv'\r\n            sh 'ssh-add -l'\r\n            git 'git@github.com:foo/bar.git'\r\n        }\r\n    }\r\n}\r\n{code}\r\n- run created job\r\n\r\nExpected result:\r\nssh started by git finds the correct ssh key via the ssh agent.\r\n\r\nActual Result:\r\n- git fetch fails : no valid ssh key found\r\n- `ssh-add -l` works though, and shows the key added by `sshagent`\r\n\r\nOther tests:\r\n- `checkout` scm instead of `git` command: same behavior: it fails to find the key\r\n- direct `sh 'ssh -vvv git@github.com'` works\r\n\r\nMore digging:\r\n- configure a git wrapper as `git` tool in global jenkins config to observe what happens:\r\n{code:bash}\r\n#!/bin/bash                                                                                                           \r\nprintenv >& /tmp/$$.git-env\r\nssh-add -l >& /tmp/$$.git-ssh-add-list\r\nexport GIT_TRACE=1\r\nexport GIT_SSH_COMMAND=\"ssh -vvv\" \r\ngit \"${@}\"\r\n{code}\r\n- run job again\r\n\r\nResult:\r\n- `ssh-add -l` fails: \"Could not open a connection to your authentication agent.\"\r\n- `printenv` shows `SSH_AUTH_SOCK` env var is *not* here, which explains why the ssh agent is not usable/used\r\n\r\nSo the remaining question is: why is the `SSH_AUTH_SOCK` env var removed when executing git commands ?\r\n","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09ql7:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"sshagent + git checkout on local agent: ssh key not found","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=thomas_deepomatic","name":"thomas_deepomatic","key":"thomas_deepomatic","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Thomas Riccardi","active":true,"timeZone":"Europe/Paris"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=thomas_deepomatic","name":"thomas_deepomatic","key":"thomas_deepomatic","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Thomas Riccardi","active":true,"timeZone":"Europe/Paris"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.138.1 (from docker)\r\nplugins up-to-date as of 2018-10-02 17:00:00 UTC","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53877/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"193625","self":"https://issues.jenkins-ci.org/rest/api/2/issue/193625","key":"JENKINS-53432","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53432/watchers","watchCount":4,"isWatching":false},"created":"2018-09-05T17:05:13.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"37746","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/37746","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"outwardIssue":{"id":"185952","key":"JENKINS-47496","self":"https://issues.jenkins-ci.org/rest/api/2/issue/185952","fields":{"summary":"No automatic builds for tags","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2019-09-16T06:03:14.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I configured a multibranch pipeline job to discover and build branches and tags for my git repository hosted in Bitbucket Server. New branches and commits are discovered and built correctly but new tags remain undiscovered. I can force tag discovery if I initiate a manual scan in Jenkins or I click \"Trigger Jenkins\" in the Webhook to Jenkins for Bitbucket Server UI for my repository.\r\n\r\n \r\n\r\n*My Jenkins Configuration*\r\n\r\n!image-2018-09-05-12-57-45-991.png!\r\n\r\n*My Webhook to Jenkins for Bitbucket Server Configuration*\r\n\r\n*!image-2018-09-05-13-03-24-545.png!*\r\n\r\n \r\n\r\nOriginally, I wanted to use the Bitbucket Branch Source Plugin rather than the Git Plugin but in that case JENKINS-51063 prevents tag discovery and build. Is there a similar issue with the Git Plugin?","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09ngr:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Unable to automatically discover and build git tags with Jenkins multibranch pipelines and the Git Plugin","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=iamrewt","name":"iamrewt","key":"iamrewt","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Ryan Taylor","active":true,"timeZone":"America/New_York"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=iamrewt","name":"iamrewt","key":"iamrewt","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Ryan Taylor","active":true,"timeZone":"America/New_York"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"* Jenkins v2.141\r\n* Basic Branch Build Strategies Plugin v1.0.1\r\n* Git plugin v3.9.1\r\n* Bitbucket Server v5.13.1\r\n* Webhook to Jenkins for Bitbucket Server v4.4.4 \r\n* Windows Server 2012 R2","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53432/votes","votes":3,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"193438","self":"https://issues.jenkins-ci.org/rest/api/2/issue/193438","key":"JENKINS-53354","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53354/watchers","watchCount":2,"isWatching":false},"created":"2018-08-30T16:44:58.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-08-30T17:29:49.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We're using dynamic docker slaves which are spun up to build and then immediately deleted when the job is completed. We ran into an issue where the git polling was not working and tracked it down to the use of a parameter in the *Branch Specifier* field (See screenshot). \r\n\r\nHaving to hard-code this value into the field is fine but we prefer to use a parameter to avoid having to hard-code this value in other related fields which adds the risk of missing one when making a job change.\r\n\r\nThe same problem seems to also affect the *Lightweight Checkout* option.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09mtv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Git polling forces workspace-based polling when using parameters in Branch Specifier field","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsaliga","name":"jsaliga","key":"jsaliga","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Jamie Saliga","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jsaliga","name":"jsaliga","key":"jsaliga","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Jamie Saliga","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins server v2.121.2\r\nGit plugin v3.9.1\r\nGit client plugin v2.7.3","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53354/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"193429","self":"https://issues.jenkins-ci.org/rest/api/2/issue/193429","key":"JENKINS-53346","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53346/watchers","watchCount":3,"isWatching":false},"created":"2018-08-30T09:41:32.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[{"id":"38499","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/38499","type":{"id":"10000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10000"},"inwardIssue":{"id":"196082","key":"JENKINS-55040","self":"https://issues.jenkins-ci.org/rest/api/2/issue/196082","fields":{"summary":"Problem sharing data objects between parallel build stages","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/5","description":"A developer had implemented a fix and is waiting for a feedback from the reporter.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}},{"id":"38441","self":"https://issues.jenkins-ci.org/rest/api/2/issueLink/38441","type":{"id":"10010","name":"Related","inward":"is related to","outward":"is related to","self":"https://issues.jenkins-ci.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"195534","key":"JENKINS-54732","self":"https://issues.jenkins-ci.org/rest/api/2/issue/195534","fields":{"summary":"Revision information produced by pipline 'checkout' operation isn't parallel safe","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673}}}}],"assignee":null,"updated":"2018-12-14T18:23:15.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21717","id":"21717","name":"workflow-scm-step-plugin","description":"subcomponent"}],"customfield_10250":null,"description":"Hi,\r\n\r\nif I run within a pipeline job, the checkout command twice to checkout different commits, the returnvalue of this call has two times the same values, even if the branches and commits are different.\r\n\r\nE.g:\r\n\r\ndef scm1 = checkout (changelog: false, poll: false, verboseEnabled: false, scm: [$class: 'GitSCM', \r\n branches: [[name: 'refs/tags/TAG1']], ....)\r\n\r\ndef scm2 = checkout (changelog: false, poll: false, verboseEnabled: false, scm: [$class: 'GitSCM', \r\n branches: [[name: 'refs/tags/TAG2']], ...)\r\n\r\nthe Maps scm1 and scm2 contain the same values, even if the tags are on different commits.\r\n\r\nAnd the values are always from the first checkout :(.\r\n\r\nSo how can I get such values from the second checkout?\r\n\r\n Note that this problem is specific to performing multiple checkouts from the *same repository* with different SHA1 hashes in the same Pipeline job.  If different repositories are used in the same Pipeline job, refer to JENKINS-39968.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09mrv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"GitSCM checkout returns same values on second different call","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=bspickers","name":"bspickers","key":"bspickers","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10281","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10281","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10281","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10281"},"displayName":"Bernd Spickers","active":true,"timeZone":"Europe/Berlin"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=bspickers","name":"bspickers","key":"bspickers","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10281","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10281","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10281","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10281"},"displayName":"Bernd Spickers","active":true,"timeZone":"Europe/Berlin"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.121.3, Git plugin 3.9.1, Pipeline SCM step 2.6","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53346/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"193077","self":"https://issues.jenkins-ci.org/rest/api/2/issue/193077","key":"JENKINS-53083","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53083/watchers","watchCount":3,"isWatching":false},"created":"2018-08-17T07:17:35.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-08-17T13:52:16.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Description of expected/wanted behaviour:\r\n * Build/checkout branch 'specificbranch'\r\n * before build merge 'specificbranch' with 'masterbranch' with upstream tracking of 'masterbranch'\r\n * when build starts expect workspace to be in a merged version of 'masterbranch' with 'specificbranch'\r\n\r\nSetup:\r\n * pipeline job\r\n ** parameters\r\n *** repoName: full repository name\r\n *** branchRef: full branch ref (ex refs/heads/master) \r\n ** SCM git\r\n *** lightweight checkout is disabled \r\n *** repository: ssh://urltoourserver/git/$repoName\r\n **** name either blank or fixed as 'origin'\r\n **** no custom refspec\r\n *** branches to build: ${branchRef}\r\n *** Additional behaviour:\r\n **** advanced sub-modules behaviours (recursive update)\r\n **** wipe repository & force clone\r\n **** Check out to specific local branch (left empty) _(note 1)_\r\n **** Merge before build\r\n ***** name of repository: origin _(note 2)_\r\n ***** branch to merge to: stable\r\n ***** merge strategy: default\r\n ***** ff-mode: --ff-only\r\n\r\nObservations:\r\n\r\nSpecifying name of repository of the merge before build option as 'origin' and branch to merge to as 'stable' results in the behaviour that it tries to force checkout 'origin/stable' which results in a 'HEAD detached at origin/stable' situation. And then it'll merge the branch specified by ${branchRef} in to the detached head.\r\n\r\nAfter the merge the plugin proceeds to checkout the ${branchRef} using 'checkout -b branchname hashvalue'. \r\n This results in a local branch, which does not track the remote branch and is not the result of the previous merge action.\r\n\r\nThe previous merge action is also not available as it is lost after  the latest checkout action(s)\r\n\r\n_note 1_:\r\n Specifying ** does not work. Will complain that ** is not a valid branch.\r\n\r\n> git.exe checkout -b ** origin/stable\r\n ??hudson.plugins.git.GitException: Command \"git.exe checkout -b ** origin/stable\" returned status code 128:??\r\n stdout:\r\n ??stderr: fatal: '**' is not a valid branch name.??\r\n\r\n \r\n\r\n_note 2_:\r\n I have to explicitly give this a value, leaving it blank does _not_ work. It'll default to null\r\n\r\n??Merging Revision 12d019d59117daa84b4d3d4a570a996c387b5199 (refs/remotes/origin/release/0.1.2) to null/stable, UserMergeOptions\\{mergeRemote='null', mergeTarget='stable', mergeStrategy='default', fastForwardMode='--ff-only'}??\r\n ??> git.exe rev-parse \"null/stable^\\{commit}\" # timeout=10??\r\n ??hudson.plugins.git.GitException: Command \"git.exe rev-parse \"null/stable^\\{commit}\"\" returned status code 128:??\r\n ??stdout: null/stable^\\{commit}??\r\n\r\n??stderr: fatal: ambiguous argument 'null/stable^\\{commit}': unknown revision or path not in the working tree.??\r\n ??Use '--' to separate paths from revisions, like this:??\r\n ??'git <command> [<revision>...] – [<file>...]'??\r\n\r\n?? at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2016)??\r\n ?? at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:1984)??\r\n ?? at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:1980)??\r\n ?? at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1612)??\r\n ?? at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommand(CliGitAPIImpl.java:1624)??\r\n ?? at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.revParse(CliGitAPIImpl.java:809)??\r\n ?? at hudson.plugins.git.GitAPI.revParse(GitAPI.java:316)??\r\n ?? at hudson.plugins.git.extensions.impl.PreBuildMerge.decorateRevisionToBuild(PreBuildMerge.java:66)??\r\n ?? at hudson.plugins.git.GitSCM.determineRevisionToBuild(GitSCM.java:1094)??\r\n ?? at hudson.plugins.git.GitSCM.checkout(GitSCM.java:1187)??\r\n ?? at org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:113)??\r\n ?? at org.jenkinsci.plugins.workflow.cps.CpsScmFlowDefinition.create(CpsScmFlowDefinition.java:144)??\r\n ?? at org.jenkinsci.plugins.workflow.cps.CpsScmFlowDefinition.create(CpsScmFlowDefinition.java:67)??\r\n ?? at org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:303)??\r\n ?? at hudson.model.ResourceController.execute(ResourceController.java:97)??\r\n ?? at hudson.model.Executor.run(Executor.java:429)??","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09kwr:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Clone/checkout with merge before build does not behave/work (as expected)","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=daan_philips","name":"daan_philips","key":"daan_philips","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Daan Timmer","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=daan_philips","name":"daan_philips","key":"daan_philips","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Daan Timmer","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins ver. 2.121.2\r\nGit plugin 3.9.1\r\nJava version 1.8.0_152\r\nWindows 10 (master) (64bit)\r\nWindows 7&10 (slaves) (64bit)\r\nInstalled Git version 2.14.2.windows.3","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-53083/votes","votes":1,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"192885","self":"https://issues.jenkins-ci.org/rest/api/2/issue/192885","key":"JENKINS-52926","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52926/watchers","watchCount":5,"isWatching":false},"created":"2018-08-08T00:41:02.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2020-05-22T17:29:29.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"Currently, for pipeline builds, every time the pipeline runs on a new node and merges the branch you're building with master, you get an extra \"Git Build Data\" entry in the sidebar, even though you're building exactly the same thing.\r\n\r\n!Screen Shot 2018-08-08 at 9.34.41 am.png!\r\n\r\nThe individual screens show different revisions being built:\r\n\r\n!Screen Shot 2018-08-08 at 9.34.50 am.png! \r\n !Screen Shot 2018-08-08 at 9.34.58 am.png!\r\n\r\nBut actually, these are the _same PR branch_, merged with the _same master branch_. In this situation, I would expect a single entry, and I would expect the linked page to list the branches which were merged, not to show the commit hash of the merge result. The merge result is literally impossible to access after the build has completed anyway, so there is no point having this information at all.\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09js3:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"\"Git Build Data\" should not appear more than once in the side menu for pipeline builds","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=trejkaz","name":"trejkaz","key":"trejkaz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"trejkaz","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=trejkaz","name":"trejkaz","key":"trejkaz","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"trejkaz","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52926/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"192786","self":"https://issues.jenkins-ci.org/rest/api/2/issue/192786","key":"JENKINS-52857","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52857/watchers","watchCount":12,"isWatching":false},"created":"2018-08-02T12:58:06.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=btk3000","name":"btk3000","key":"btk3000","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Ilya Evseenkov","active":true,"timeZone":"GMT"},"updated":"2019-12-01T23:50:33.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We have an issue on our OSX nodes, where we cannot checkout a repo with git-lfs.\r\n\r\nWe suppose that it is related to that `checkout scm` listens `/usr/bin/` and it is not possible to install anything there because of Apple's system integrity. Even passing a PATH=$PATH:/usr/local/bin doesn't take any effect. \r\n\r\nTested this with a ssh nods and `git checkout` works (as we have user credentials and all the simlinks), but as all of our nodes use JNLP we would like to have a possibility to define path to git-lfs like we can do for git.\r\n\r\nStack trace:\r\n{code:java}\r\nhudson.plugins.git.GitException: Command \"/usr/local/bin/git checkout -f 304f1c283e1fa22e47ea9d7be1e2582a93021819\" returned status code 128:\r\n stdout: \r\n stderr: git-lfs filter-process: git-lfs: command not found\r\n fatal: The remote end hung up unexpectedly\r\nat org.jenkinsci.plugins.gitclient.CliGitAPIImpl.launchCommandIn(CliGitAPIImpl.java:2002)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl.access$800(CliGitAPIImpl.java:72)\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl$9.execute(CliGitAPIImpl.java:2301)\r\n Also: hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from 172.31.128.169/172.31.128.169:49241\r\n at hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1741)\r\n at hudson.remoting.UserResponse.retrieve(UserRequest.java:389)\r\n at hudson.remoting.Channel.call(Channel.java:955)\r\n at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.execute(RemoteGitImpl.java:146)\r\n at sun.reflect.GeneratedMethodAccessor638.invoke(Unknown Source)\r\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n at java.lang.reflect.Method.invoke(Method.java:498)\r\n at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler.invoke(RemoteGitImpl.java:132)\r\n at com.sun.proxy.$Proxy117.execute(Unknown Source)\r\n at hudson.plugins.git.GitSCM.checkout(GitSCM.java:1236)\r\n at org.jenkinsci.plugins.workflow.steps.scm.SCMStep.checkout(SCMStep.java:113)\r\n at org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:85)\r\n at org.jenkinsci.plugins.workflow.steps.scm.SCMStep$StepExecutionImpl.run(SCMStep.java:75)\r\n at org.jenkinsci.plugins.workflow.steps.AbstractSynchronousNonBlockingStepExecution$1$1.call(AbstractSynchronousNonBlockingStepExecution.java:47)\r\n at hudson.security.ACL.impersonate(ACL.java:290)\r\n at org.jenkinsci.plugins.workflow.steps.AbstractSynchronousNonBlockingStepExecution$1.run(AbstractSynchronousNonBlockingStepExecution.java:44)\r\n at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n at java.lang.Thread.run(Thread.java:748)\r\n Caused: hudson.plugins.git.GitException: Could not checkout 304f1c283e1fa22e47ea9d7be1e2582a93021819\r\n at org.jenkinsci.plugins.gitclient.CliGitAPIImpl$9.execute(CliGitAPIImpl.java:2325)\r\n at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$1.call(RemoteGitImpl.java:153)\r\n at org.jenkinsci.plugins.gitclient.RemoteGitImpl$CommandInvocationHandler$1.call(RemoteGitImpl.java:146)\r\n at hudson.remoting.UserRequest.perform(UserRequest.java:210)\r\n at hudson.remoting.UserRequest.perform(UserRequest.java:53)\r\n at hudson.remoting.Request$2.run(Request.java:358)\r\n at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)\r\n at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n at hudson.remoting.Engine$1$1.run(Engine.java:94)\r\n at java.lang.Thread.run(Thread.java:844)\r\n Finished: FAILURE\r\n{code}\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09j6j:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Cannot find git-lfs when it is not installed in /usr/bin/","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=joesss","name":"joesss","key":"joesss","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Serghei Moret","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=joesss","name":"joesss","key":"joesss","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Serghei Moret","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"OSX","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52857/votes","votes":4,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"192737","self":"https://issues.jenkins-ci.org/rest/api/2/issue/192737","key":"JENKINS-52816","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52816/watchers","watchCount":8,"isWatching":false},"created":"2018-07-31T12:28:23.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=daspilker","name":"daspilker","key":"daspilker","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Daniel Spilker","active":true,"timeZone":"Europe/Berlin"},"updated":"2019-10-25T10:36:33.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/16720","id":"16720","name":"job-dsl-plugin","description":"job-dsl-plugin plugin"}],"customfield_10250":null,"description":"step 1: create a seed job \r\n```\r\nString basepath = 'Common/Java/testapp'\r\n\r\nString giturl = 'git@bitbucket.org:abc/testapp'\r\n\r\npipelineJob(\"$basepath/1.Build-Dev-Int\") {\r\nlogRotator {\r\nnumToKeep(10)\r\nartifactNumToKeep(10)\r\n}\r\nparameters {\r\nstringParam('USE_GIT_BRANCH', 'master')\r\n}\r\nthrottleConcurrentBuilds {\r\nmaxTotal(1)\r\n}\r\n\r\ntriggers {\r\nscm('H/15 * * * *')\r\n}\r\n\r\ndefinition {\r\ncpsScm {\r\nscm {\r\ngit{\r\nremote \\{ url(giturl) }\r\nbranches('master')\r\nextensions \\{ }\r\n}\r\nscriptPath('pipeline/pipeline_dev_int.groovy')\r\n}\r\n}\r\n}\r\n}```\r\nstep 2 : create pipeline_dev_int.groovy\r\n\r\n```@Library('sharedlibrary@master')\r\n\r\nnode()\r\n\r\nremaining groovy script```\r\n  \r\n\r\nstep 3:  !Screenshot from 2019-10-16 16-42-12.png|thumbnail!    configured shared library in manage jenkins\r\n even though there is no change in repo it is triggering jobs \r\n  \r\n\r\n \r\n\r\nwhenever a branch/ commit made to the shared library even though there is no change in testapp repo it triggering the job for every 15 min and found this in polling history\r\n\r\nUsing strategy: Default\r\n[poll] Last Built Revision: Revision 6717866352d0d5a5e9b41da88a799993ab1d4191 (origin/master)\r\nNo credentials specified\r\n> git --version # timeout=10\r\n> git ls-remote -h [git@bitbucket.org|mailto:git@bitbucket.org]:abc/testapp # timeout=10\r\nFound 3 remote heads on [git@bitbucket.org|mailto:git@bitbucket.org]:abc/testapp\r\n[poll] Latest remote head revision on refs/heads/master is: 6717866352d0d5a5e9b41da88a799993ab1d4191 - already built by 97\r\nUsing strategy: Specific revision\r\n[poll] Last Built Revision: Revision a7cf4fd0c7484765c4a5166a36613c387aee8501 (surya/MCDCA-1412-ECR-NEW-ACCOUNT)\r\nNo credentials specified\r\n> git --version # timeout=10\r\n> git ls-remote -h [git@bitbucket.org|mailto:git@bitbucket.org]:abc/sharedlibrary # timeout=10\r\nFound 3 remote heads on [git@bitbucket.org|mailto:git@bitbucket.org]:abc/sharedlibrary\r\n[poll] Latest remote head revision on refs/heads/surya/MCDCA-1412-ECR-NEW-ACCOUNT is: ab8eb071afb815bca04fd4e50a991ae54ea37e8c\r\nUsing strategy: Default\r\n[poll] Last Built Revision: Revision 6717866352d0d5a5e9b41da88a799993ab1d4191 (origin/master)\r\nusing credential 6e83116e-4fb6-491a-a2c9-9ac9d51d4765\r\n> git --version # timeout=10\r\nusing GIT_SSH to set credentials\r\n> git ls-remote -h [git@bitbucket.org|mailto:git@bitbucket.org]:abc/testapp # timeout=10\r\nFound 3 remote heads on [git@bitbucket.org|mailto:git@bitbucket.org]:abc/testapp\r\n[poll] Latest remote head revision on refs/heads/master is: 6717866352d0d5a5e9b41da88a799993ab1d4191 - already built by 97\r\nDone. Took 8.6 sec\r\nChanges found\r\nh1. Polling Log\r\n\r\nThis page captures the polling log that triggered this build.\r\n Started on Jul 30, 2018 7:15:00 PM Using strategy: Default [poll] Last Built Revision: Revision 80ae1a7997f138af5faa0e594eca7e88eb174026 (origin/master) > git --version # timeout=10 > git ls-remote -h git@bitbucket.org:xxx/xxxxxxx # timeout=10 Found 1 remote heads on git@bitbucket.org:xx/xxxxxx[poll] Latest remote head revision on refs/heads/master is: 80ae1a7997f138af5faa0e594eca7e88eb174026 - already built by 185 no polling baseline in /var/lib/jenkins/workspace/Sandbox/xxxx/xxxx/1.Build-Dev-Int@libs/xxx on Using strategy: Default > git --version # timeout=10 using GIT_SSH to set credentials Bitbucket SSH Key > git ls-remote -h git@bitbucket.org:xxxxx.git # timeout=10 Found 1 remote heads on git@bitbucket.org:xx/xxxx.git [poll] Latest remote head revision on refs/heads/master is: 80ae1a7997f138af5faa0e594eca7e88eb174026 Done. Took 2.7 sec Changes found","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09ivv:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"scm poll triggers even there is no change in repository(bitbucket)","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=yrsurya","name":"yrsurya","key":"yrsurya","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16495","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16495","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16495","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16495"},"displayName":"suryatej  yaramada","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=yrsurya","name":"yrsurya","key":"yrsurya","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=16495","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=16495","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=16495","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=16495"},"displayName":"suryatej  yaramada","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"we are using Jenkins LTS 2.176.3 on hosted on amazonlinux  , job-dsl - 1.74 , git plugin - 4.0.0-rc","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52816/votes","votes":4,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"192642","self":"https://issues.jenkins-ci.org/rest/api/2/issue/192642","key":"JENKINS-52747","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52747/watchers","watchCount":5,"isWatching":false},"created":"2018-07-25T17:39:46.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-06-28T14:45:34.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15593","id":"15593","name":"core","description":"Jenkins core"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/18054","id":"18054","name":"scm-api-plugin","description":"scm-api plugin"},{"self":"https://issues.jenkins-ci.org/rest/api/2/component/21716","id":"21716","name":"workflow-job-plugin","description":"subcomponent"}],"customfield_10250":null,"description":"When a build has commits from multiple repositories (such as when using a pipeline job) it isn't possible to determine what repository (remote URL) a commit came from using the REST API.\r\n\r\nThe issue is neither a ChangeLogSet or a ChangeLogSet.Entry has any knowledge of the SCM it came from. Thus when the bean is exported the API does not have that information. If there are multiple repositories in play it becomes impossible to know the repository a commit came from.\r\n\r\nI believe the solution would be to add knowledge of the SCM (or even just remote URL) to the ChangeLogSet when the list of changeset(s) is built ([WorkflowRun.getChangeSets()|https://github.com/jenkinsci/workflow-job-plugin/blob/master/src/main/java/org/jenkinsci/plugins/workflow/job/WorkflowRun.java#L971] for Jenkinsfiles and [AbstractBuild.getChangeSet()|https://github.com/jenkinsci/jenkins/blob/master/core/src/main/java/hudson/model/AbstractBuild.java#L817] for Freestyle jobs). This would allow a consumer of the API to know which SCMs a commit came from.\r\n\r\nFor example, given a Jenkinsfile job with 4 git repos that only had commit changes for 2 of them the API response might look like the json below. Observe that it there is no way to know which remote a changeset came from. See the attached file for more details.\r\n\r\nhttp://myjenkins:8080/view/folder/job/foo/job/master/17/api/json?pretty=true\r\n\r\n{code:json}\r\n\"changeSets\" : [\r\n    {\r\n      \"_class\" : \"hudson.plugins.git.GitChangeSetList\",\r\n      \"items\" : [\r\n        {\r\n          \"_class\" : \"hudson.plugins.git.GitChangeSet\",\r\n          \"affectedPaths\" : [\r\n            ...\r\n          ],\r\n          \"commitId\" : \"4da434ef7fccefa9a0922ee49556319efc923973\",\r\n          ...\r\n        },\r\n        {\r\n          \"_class\" : \"hudson.plugins.git.GitChangeSet\",\r\n          \"affectedPaths\" : [\r\n            ...\r\n          ],\r\n          \"commitId\" : \"b23c08d558786dd73ef5ba20737c485a6406a9f4\",\r\n          ...\r\n        }\r\n      ],\r\n      \"kind\" : \"git\"\r\n    },\r\n    {\r\n      \"_class\" : \"hudson.plugins.git.GitChangeSetList\",\r\n      \"items\" : [\r\n        {\r\n          \"_class\" : \"hudson.plugins.git.GitChangeSet\",\r\n          \"affectedPaths\" : [\r\n            ...\r\n          ],\r\n          \"commitId\" : \"86593c915bf11f17d477072895a5afd2e5cb733f\",\r\n          ...\r\n        }\r\n      ],\r\n      \"kind\" : \"git\"\r\n    }\r\n  ],\r\n{code}\r\n","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09iar:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Jenkins REST API - Cannot determine source SCM when using multiple scms in Pipeline","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mrichar2","name":"mrichar2","key":"mrichar2","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Mark R","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=mrichar2","name":"mrichar2","key":"mrichar2","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Mark R","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins 2.7.1","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52747/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"192641","self":"https://issues.jenkins-ci.org/rest/api/2/issue/192641","key":"JENKINS-52746","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52746/watchers","watchCount":3,"isWatching":false},"created":"2018-07-25T16:55:08.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":["pollscm"],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-07-25T17:32:54.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"My build job is configured to be triggered by pollSCM.  In the post build steps, deleteDir() is set. The problem is that the polling can always find changes.\r\n\r\nThe polling log shows\r\n{noformat}\r\nStarted on Jul 26, 2018 12:51:23 AM no polling baseline in /var/jenkins_home/workspace/Temp_Try/Leon/TestPollSCM@libs/pki-common on Using strategy: Default [poll] Last Built Revision: Revision fb232d8879add2865172fe1a501316907ae109ae (refs/remotes/origin/master) Done. Took 6 ms Changes found\r\n{noformat}\r\n*Note*: there is a Global Pipeline Lib  (pki-common) configured to be implicitly loaded for all projects.\r\n\r\nIf I remove deleteDir() step, then pollSCM works fine.\r\n\r\nFollowing is a simple pipeline to reproduce the issue.\r\n{noformat}\r\npipeline {\r\n    agent {\r\n        label 'linux-docker'\r\n    }\r\n    options {\r\n        timeout(time: 4, unit: 'HOURS')\r\n        timestamps()\r\n        buildDiscarder(logRotator(artifactDaysToKeepStr: '2', artifactNumToKeepStr: '5', daysToKeepStr: '15', numToKeepStr: '60'))\r\n    }\r\n    triggers {\r\n        pollSCM('H/2 * * * *')\r\n    }\r\n    stages {\r\n        stage('Checkout') {\r\n            steps {\r\n                checkout(poll: true, scm: [$class: 'GitSCM', branches: [[name: \"refs/heads/master\"]], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'GitLFSPull'], [$class: 'AuthorInChangelog'], [$class: 'RelativeTargetDirectory', relativeTargetDir: \".\"], [$class: 'PruneStaleBranch'], [$class: 'SubmoduleOption', disableSubmodules: false, parentCredentials: true, recursiveSubmodules: true, reference: '', trackingSubmodules: false]], gitTool: 'Default', submoduleCfg: [], userRemoteConfigs: [[credentialsId: \"GITHUB-CHEMJENKINS\", url: \"https://github.com/chemjenkins-pki/sandbox\"]]])\r\n            }\r\n        }\r\n        stage(\"Test and Package\") {\r\n            steps {\r\n                sh \"ls\"\r\n            }\r\n        }\r\n    }\r\n    post {\r\n        always {\r\n            deleteDir()\r\n        }\r\n    }\r\n}\r\n{noformat}","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09iaj:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"pollSCM always find changes when deleteDir is used","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=qinling","name":"qinling","key":"qinling","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Leon Qin","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=qinling","name":"qinling","key":"qinling","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Leon Qin","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":"Jenkins ver. 2.107.2 linux docker image","customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52746/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"192448","self":"https://issues.jenkins-ci.org/rest/api/2/issue/192448","key":"JENKINS-52603","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14680&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14680},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52603/watchers","watchCount":2,"isWatching":false},"created":"2018-07-17T12:46:56.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-07-18T12:38:30.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"It should be possible to add git configuration options like mentioned above on the Configurate System  Page. At the moment is only possible to add the username and the email. ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09h3f:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Add sslVerify, sslCert, sslKey, sslCAInfo to git configuration","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jomach","name":"jomach","key":"jomach","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Jorge Machado","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=jomach","name":"jomach","key":"jomach","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"Jorge Machado","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52603/votes","votes":0,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"192343","self":"https://issues.jenkins-ci.org/rest/api/2/issue/192343","key":"JENKINS-52511","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14673&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14673},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52511/watchers","watchCount":3,"isWatching":false},"created":"2018-07-12T10:13:06.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/3","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2018-07-13T20:43:11.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"I tried to extract  {{GIT_COMMIT}} and {{GIT_COMMITTER_NAME}} values in my declarative pipeline, I can get value for GIT_COMMIT but values for GIT_COMMITER_NAME is missing.\r\n\r\nFollowing are steps to extract \r\n{noformat}\r\necho \"Git Commit $GIT_COMMIT\"\r\necho \"Env Git Name ${env.GIT_COMMITTER_NAME}\"\r\necho \"Env Git Author Name ${env.GIT_AUTHOR_NAME}\"\r\necho \"Git Author Name $GIT_AUTHOR_NAME\"\r\necho \"Git Commiter Name $GIT_COMMITTER_NAME\"\r\n{noformat}\r\nFor ${env.GIT_COMMITTER_NAME} its giving null\r\n\r\nFor $GIT_COMMITTER_NAME or $GIT_AUTHOR_NAME its throwing following error\r\n\r\n{noformat}\r\ngroovy.lang.MissingPropertyException: No such property: GIT_AUTHOR_NAME for class: groovy.lang.Binding\r\nat groovy.lang.Binding.getVariable(Binding.java:63)\r\nat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onGetProperty(SandboxInterceptor.java:242)\r\nat org.kohsuke.groovy.sandbox.impl.Checker$6.call(Checker.java:288)\r\nat org.kohsuke.groovy.sandbox.impl.Checker.checkedGetProperty(Checker.java:292)\r\nat org.kohsuke.groovy.sandbox.impl.Checker.checkedGetProperty(Checker.java:268)\r\nat org.kohsuke.groovy.sandbox.impl.Checker.checkedGetProperty(Checker.java:268)\r\nat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.getProperty(SandboxInvoker.java:29)\r\nat com.cloudbees.groovy.cps.impl.PropertyAccessBlock.rawGet(PropertyAccessBlock.java:20)\r\nat WorkflowScript.run(WorkflowScript:45)\r\n{noformat}\r\n\r\nGlobal variable is also set\r\n\r\nI verified on my machine\r\n\r\n$ git config --global user.name\r\nimran raza khan\r\n\r\n ","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09ggz:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Plugin not providing values for GIT_COMMITTER_NAME and GIT_AUTHOR_NAME","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=imranrazakhan","name":"imranrazakhan","key":"imranrazakhan","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"imran khan","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=imranrazakhan","name":"imranrazakhan","key":"imranrazakhan","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"imran khan","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52511/votes","votes":2,"hasVoted":false}}},{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"192321","self":"https://issues.jenkins-ci.org/rest/api/2/issue/192321","key":"JENKINS-52490","fields":{"issuetype":{"self":"https://issues.jenkins-ci.org/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.jenkins-ci.org/secure/viewavatar?size=xsmall&avatarId=14681&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14681},"project":{"self":"https://issues.jenkins-ci.org/rest/api/2/project/10172","id":"10172","key":"JENKINS","name":"Jenkins","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/projectavatar?pid=10172&avatarId=10152","24x24":"https://issues.jenkins-ci.org/secure/projectavatar?size=small&pid=10172&avatarId=10152","16x16":"https://issues.jenkins-ci.org/secure/projectavatar?size=xsmall&pid=10172&avatarId=10152","32x32":"https://issues.jenkins-ci.org/secure/projectavatar?size=medium&pid=10172&avatarId=10152"}},"customfield_10230":null,"customfield_10231":null,"customfield_10232":null,"resolution":null,"customfield_10233":null,"customfield_10234":null,"customfield_10225":null,"customfield_10226":null,"customfield_10227":null,"customfield_10228":null,"customfield_10229":null,"resolutiondate":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52490/watchers","watchCount":4,"isWatching":false},"created":"2018-07-11T16:59:39.000+0000","customfield_10220":null,"priority":{"self":"https://issues.jenkins-ci.org/rest/api/2/priority/4","iconUrl":"https://issues.jenkins-ci.org/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_10221":null,"customfield_10222":null,"customfield_10223":null,"labels":[],"customfield_10224":null,"customfield_10620":null,"customfield_10258":null,"customfield_10259":"Not started","issuelinks":[],"assignee":null,"updated":"2019-12-21T15:23:11.000+0000","status":{"self":"https://issues.jenkins-ci.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.jenkins-ci.org/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.jenkins-ci.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.jenkins-ci.org/rest/api/2/component/15543","id":"15543","name":"git-plugin","description":"Git plugin"}],"customfield_10250":null,"description":"We often need to do decision making on base of commit message like if commit message contains WIP so build process should not start.","customfield_10251":null,"customfield_10252":null,"customfield_10330":null,"customfield_10253":null,"customfield_10331":null,"customfield_10254":null,"customfield_10255":null,"customfield_10256":null,"customfield_10257":null,"customfield_10324":"0|i09gc3:","customfield_10247":null,"customfield_10720":"{}","customfield_10325":null,"customfield_10248":null,"customfield_10249":null,"customfield_10329":null,"summary":"Plugin should provide GIT_COMMIT_MESSAGE as Environment Variable","creator":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=imranrazakhan","name":"imranrazakhan","key":"imranrazakhan","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"imran khan","active":true,"timeZone":"GMT"},"customfield_10240":null,"reporter":{"self":"https://issues.jenkins-ci.org/rest/api/2/user?username=imranrazakhan","name":"imranrazakhan","key":"imranrazakhan","avatarUrls":{"48x48":"https://issues.jenkins-ci.org/secure/useravatar?avatarId=10292","24x24":"https://issues.jenkins-ci.org/secure/useravatar?size=small&avatarId=10292","16x16":"https://issues.jenkins-ci.org/secure/useravatar?size=xsmall&avatarId=10292","32x32":"https://issues.jenkins-ci.org/secure/useravatar?size=medium&avatarId=10292"},"displayName":"imran khan","active":true,"timeZone":"GMT"},"customfield_10241":null,"customfield_10000":null,"customfield_10242":null,"customfield_10320":null,"customfield_10243":null,"customfield_10321":null,"customfield_10244":null,"customfield_10322":null,"customfield_10245":null,"customfield_10520":"","customfield_10323":null,"customfield_10246":null,"customfield_10236":null,"customfield_10237":null,"environment":null,"customfield_10238":null,"customfield_10239":null,"votes":{"self":"https://issues.jenkins-ci.org/rest/api/2/issue/JENKINS-52490/votes","votes":2,"hasVoted":false}}}]}